# R√©sum√© des cours fondamentaux

Cette fiche synth√©tise les notions fondamentales abord√©es durant les cours en vue du Titre Pro "Administrateur d'Infrastructures S√©curis√©es" et des ressources utiles.

## üìñ Table des Mati√®res

### [Saison A1. Savoirs de Base üíª](#-saison-a1-savoirs-de-base)

- [A101. & A102. Introduction Formation & Titre Pro AIS](#-a101--a102-introduction-formation--titre-pro-ais)
- [A103. Histoire de l'Informatique](#-a103-histoire-de-linformatique)
- [A104. Les Composants Mat√©riels](#Ô∏è-a104-les-composants-mat√©riels)
- [A105. Le Syst√®me d'Exploitation](#-a105-le-syst√®me-dexploitation)
- [A106. Num√©ration : Bits et Octets](#-a106-num√©ration--bits-et-octets)
- [A107. Introduction aux R√©seaux Informatiques](#-a107-introduction-aux-r√©seaux-informatiques)
- [A108. S√©curit√© Informatique](#Ô∏è-a108-s√©curit√©-informatique)
- [A109. Atelier calcul d'adresse IP et Masque sous-r√©seau](#-a109-atelier-calcul-dadresse-ip-et-masque-sous-r√©seau)
- [Fin Saison 1 : QCM](#-fin-saison-a1-savoirs-de-base)

### [Saison A2. Support aux Utilisateurs üõ†Ô∏è](#Ô∏è-saison-a2-support-aux-utilisateurs)

- [A201. Outils Bureautiques](#-a201-outils-bureautiques)
- [A202. Diagnostic et R√©solution d'Incidents](#-a202-diagnostic-et-r√©solution-dincidents)
- [A203. Contr√¥le √† distance](#-a203-contr√¥le-√†-distance)
- [A204. Incidents Hardware et R√©glementation](#-a204-incidents-hardware-et-r√©glementation)
- [A205. Atelier Mme Michu](#-a205-atelier-mme-michu-)
- [A206. BIOS, UEFI, MBR et GPT](#-a206-bios-uefi-mbr-et-gpt)
- [A207. ITIL](#-a207-itil)
- [A208. Pratiques ITIL et GLPI](#Ô∏è-a208-pratiques-itil-et-glpi)
- [Fin Saison 2 : QCM](#Ô∏è-fin-saison-a2-support-aux-utilisateurs)

### [Saison A3. R√©seau üåê](#-saison-a3-r√©seau)

- [A301. Fondamentaux R√©seau & Ethernet](#-a301-fondamentaux-r√©seau--ethernet)
- [A302. Hubs, Switchs, MAC & ARP](#-a302-hubs-switchs-mac--arp)
- [A303. Mod√®le OSI, TCP/IP, UDP & DHCP](#Ô∏è-a303-mod√®le-osi-tcpip-udp--dhcp)
- [A304. Cisco IOS & Routage Statique](#-a304-cisco-ios--routage-statique)
- [A305. Atelier Packet Tracer](/challenges/Challenge_A305.md)
- [A306. DNS, Telnet et SSH](#-a306-dns-telnet-et-ssh)
- [A307. RFC1918, NAT & self-hosting](#-a307-rfc1918-nat--self-hosting)
- [A308. Atelier Proxmox](/challenges/Challenge_A308.md)
- [A309. VLANs, L3 switchs, WiFi & IPv6](#-a309-vlans-l3-switchs-wifi--ipv6)
- [Fin Saison A3 : QCM](#-fin-saison-a3-r√©seau)

### [Saison A4. Windows Server üí†](#-saison-a4-windows-server)

- [A401. Introduction et Installation](#Ô∏è-a401-introduction-et-installation)
- [A402. Active Directory Domain Services (AD DS)](#-a402-active-directory-domain-services-ad-ds)
- [A403. Strat√©gies de Groupe (GPO)](#Ô∏è-a403-strat√©gies-de-groupe-gpo)
- [A404. Serveur de fichiers distribu√©s (DFS)](#-a404-serveur-de-fichiers-distribu√©s-dfs)
- [A405. Gestion du Stockage : Filtres, Quotas & Audit](#Ô∏è-a405-gestion-du-stockage--filtres-quotas--audit)
- [A406 & 407. Atelier Windows Server](./challenges/Challenge_A406.md)
- [A408. DNS et IIS](#-a408-dns--iis)
- [A409. Pools, Authentification et Sauvegarde](#Ô∏è-a409-pools-iis-authentification-et-backup)
- [A410. Service de D√©ploiement Windows (WDS)](#-a410-windows-deployment-services-wds)
- [A411. Services Bureau √† Distance (RDS)](#Ô∏è-a411-rds-remote-desktop-services)
- [A412. VDI & Hyper-V](#Ô∏è-a412-vdi--hyper-v)
- [A413. D√©ploiement VDI & Sysprep](#-a413-d√©ploiement-vdi--sysprep)
- [A414. Azure](#Ô∏è-a414-microsoft-azure)
- [Fin Saison A4 : QCM](#-fin-saison-a4-windows-server)

### [Saison A5. Linux üêß](#-saison-a5-linux)

- [A501. Introduction](#Ô∏è-a501-introduction-√†-gnulinux)
- [A502. Composants d'un syst√®me GNU/Linux](#-a502-composants-dun-syst√®me-gnulinux)
- [A503. Utilisateurs, Groupes, Permissions & Sudo](#-a503-utilisateurs-groupes-permissions--sudo)
- [A504. Gestion des Paquets, Compilation & Logs](#-a504-gestion-des-paquets-compilation--logs)
- [A505. Atelier LAMP](#-a505-atelier-lamp)
- [A506. Atelier SAMBA](#-a506-atelier-samba)
- [A507. Arch Linux](#-a507-arch-linux)
- [A508. Introduction √† la VoIP et Asterisk](#-a508-introduction-√†-la-voip-et-asterisk)
- [A509. Atelier Asterisk](#Ô∏è-a509-atelier-asterisk)
- [Fin Saison A5 : QCM](#-fin-saison-a5-linux)

### [Saison B1. Virtualisation ‚òÅÔ∏è](#Ô∏è-saison-b1-virtualisation)

- [B101. Introduction √† la Virtualisation](#-b101-introduction-√†-la-virtualisation)
- [B102. Proxmox VE & Infrastructure Haute Disponibilit√©](#Ô∏è-b102-proxmox-ve--infrastructure-haute-disponibilit√©)
- [B103. VMware ESXi & vCenter](#-b103-vmware-esxi--vcenter)
- [B104. Op√©rations Avanc√©es avec vCenter](#Ô∏è-b104-op√©rations-avanc√©es-avec-vcenter-et-vsphere)
- [Fin Saison B1 : QCM](#Ô∏è-fin-saison-b1-virtualisation)

### [Saison B2. Stockage & Sauvegarde üíæ](#-saison-b2-stockage--sauvegarde)

- [B201. Introduction : Sauvegarde & Stockage](#-b201-introduction--sauvegarde--stockage)
- [B202. Architecture ZFS & TrueNAS](#Ô∏è-b202-architecture-zfs--truenas)
- [B203. Veeam Backup & Replication](#Ô∏è-b203-veeam-backup--replication)
- [B204. Proxmox Backup Server](#Ô∏è-b204-proxmox-backup-server)
- [Fin Saison B2 : QCM](#-fin-saison-b2-stockage--sauvegarde)

### [Saison B3. Supervision üìä](#-saison-b3-supervision)

- [B301. Introduction : Supervision](#-b301-introduction--monitoring--supervision)
- [B302. Pr√©sentation de Zabbix](#-b302-pr√©sentation-de-zabbix)
- [B303. Les Agents Zabbix](#Ô∏è-b303-les-agents-zabbix)
- [B304. Nagios](#-b304-nagios)
- [Fin Saison B3 : QCM](#-fin-saison-b3-supervision)

### [Saison B4. Scripting üìú](#-saison-b4-scripting)

- [B401. Les bases de la Programmation](#-b401-les-bases-de-la-programmation)
- [B402. Git, GitHub & Markdown](#-b402-git-github--markdown)
- [B403. Python les fondamentaux](#-b403-python-les-fondamentaux)
- [B404. Scripting : Batch & PowerShell](#-b404-scripting--batch--powershell)
- [B405. Atelier PowerShell & ActiveDirectory](#-b405-atelier-powershell--active-directory)
- [B406. Correction Atelier](#-b406-correction-atelier-b405)
- [B407. Scripting : Bash](#-b407-scripting--bash)
- [B408. Atelier Bash](#-b408-atelier-bash)
- [B409. Planification de T√¢ches](#-b409-planification-de-t√¢ches)
- [Fin Saison B4 : QCM](#-fin-saison-b4-scripting)

### [Saison C1. Gestion de projet et analyse de risque üìÖ](#Ô∏è-saison-c1-gestion-de-projet-et-analyse-de-risque)

- [C101. Les fondamentaux de la Gestion de Projet](#Ô∏è-c101-les-fondamentaux-de-la-gestion-de-projet)
- [C102. Agilit√© Scrum & Outils Projet](#-c102-agilit√©-scrum--outils-projet)
- [C103. Gestion des risques](#-c103-gestion-des-risques)
- [C104. S√©curit√© et continuit√© d'activit√©](#Ô∏è-c104-s√©curit√©-et-continuit√©-dactivit√©)
- [Fin Saison C1. Gestion de projet et analyse de risque](#Ô∏è-fin-saison-c1-gestion-de-projet)

### [Saison C2. Cloud ‚òÅÔ∏è](#Ô∏è-saison-c2-cloud)

- [C201. Introduction au Cloud computing](#Ô∏è-c201-introduction-au-cloud-computing)
- [C202. Les fournisseurs Cloud (Providers)](#-c202-les-fournisseurs-cloud-providers)
- [C203. Administration des Suites Collaboratives](#-c203-administration-des-suites-collaboratives)
- [C204. OpenStack](#-c204-openstack--le-cloud-priv√©)
- [Fin Saison C2 : QCM](#Ô∏è-fin-saison-c2-cloud)

### [Saison C3. S√©curit√© syst√®me & r√©seau üõ°Ô∏è](#Ô∏è-saison-c3-s√©curit√©-syst√®me--r√©seau)

- [C301. Introduction S√©curit√©](#Ô∏è-c301-introduction--gouvernance-outils--bases-r√©seau)
- [C302. Contr√¥le d'acc√®s et S√©curit√© Sans-Fil (ACL, NAC, WiFi)](#-c302-contr√¥le-dacc√®s-et-s√©curit√©-sans-fil-acl-nac-wifi)
- [C303. DMZ, pare-feu & VPN](#-c303-dmz-pare-feu--vpn)

### [Saison C4. Conteneurs et orchestration üì¶](.)

### [Saison C5. Pentesting üïµÔ∏è](.)

---

## **üíª Saison A1. Savoirs de Base**

> L'objectif de cette saison est de construire un socle de connaissances commun sur le fonctionnement des ordinateurs, des syst√®mes d'exploitation, des r√©seaux et de la s√©curit√©.

---

### üéØ A101. & A102. Introduction Formation & Titre Pro AIS

> Cette introduction a permis de pr√©senter le d√©roulement de la formation, ses objectifs p√©dagogiques et les attentes pour l'obtention du **Titre Professionnel "Administrateur d'Infrastructures S√©curis√©es" (AIS)**. L'accent a √©t√© mis sur les comp√©tences √† acqu√©rir, la m√©thodologie de travail (projets, veille technologique) et le r√©f√©rentiel du titre pro.

[Challenge A102](/challenges/Challenge_A102.md) : Exercice de recherche pour achat de p√©riph√©riques

>üìö Ressources :
>
>- [Titre Pro AIS](https://www.francecompetences.fr/recherche/rncp/37680/)
>- [Le dossier Professionnel](https://www.dossierprofessionnel.fr/)

[Retour en haut](#-table-des-mati√®res)

---

### üìú A103. Histoire de l'Informatique

> L'informatique est un domaine dont les racines sont bien plus anciennes que les ordinateurs modernes.

- **Les Origines** : Les concepts de base remontent √† l'Antiquit√© avec les algorithmes, comme celui d'**Euclide**. Le mot "algorithme" lui-m√™me d√©rive du nom du math√©maticien **Al-Khwarizm√Æ**.
- **La Programmation M√©canique** : Le premier syst√®me m√©canique programmable est le **m√©tier √† tisser Jacquard**, qui utilisait des cartes perfor√©es. **Ada Lovelace** est reconnue pour avoir √©crit le premier v√©ritable programme informatique sur la machine analytique de Charles Babbage au XIXe si√®cle.
- **L'√àre Moderne** :
  - **Alan Turing** a pos√© les fondements scientifiques de l'informatique avec la "machine de Turing".
  - **John von Neumann** a d√©fini l'architecture qui est encore utilis√©e dans la quasi-totalit√© des ordinateurs modernes.
  - L'invention du **transistor** en 1947 a √©t√© une r√©volution, rempla√ßant les tubes √† vide et permettant la miniaturisation.
  - Le **circuit int√©gr√©** (1958) et le **microprocesseur** (1969) ont permis de r√©duire encore la taille et le co√ªt des ordinateurs.
  - La **loi de Moore** postule que le nombre de transistors sur un microprocesseur double environ tous les deux ans, une tendance qui a guid√© l'industrie pendant des d√©cennies.
- **L'Ordinateur Personnel (PC)** : Les ann√©es 70 et 80 ont vu l'√©mergence des micro-ordinateurs accessibles au grand public, avec des machines embl√©matiques comme l'**Altair 8800**, l'**Apple II**, le **Commodore 64** et l'**IBM PC**.

En r√©sum√© :

| P√©riode | √âv√©nement/Pionnier | Contribution |
| :--- | :--- | :--- |
| ~300 av. J.-C. | **Euclide** | Cr√©ation de l'**algorithme d'Euclide**. |
| ~1830 | **Ada Lovelace** | Premier v√©ritable **programme informatique**. |
| ~1936 | **Alan Turing** | Fondements scientifiques (machine de Turing). |
| 1945 | **John Von Neumann** | Architecture de von Neumann (base des PCs modernes). |
| 1947 | **Transistor** | Remplacement des tubes √©lectroniques ; cl√© de la miniaturisation. |
| 1965 | **Loi de Moore** | Postule que le nombre de transistors double tous les deux ans. |
| 1969 | **Micro-processeur** | Invention du composant central (ex: Intel 4004). |
| 1975 | **Altair 8800** | Lancement de l'√®re des micro-ordinateurs personnels. |

[Challenge A103](/challenges/Challenge_A103.md) : Description de notre Hardware

>üìö Ressources :
>
>- [Informatique](https://fr.wikipedia.org/wiki/Informatique)
>- [Machine analytique](https://fr.wikipedia.org/wiki/Machine_analytique)
>- [Algorythme d'Euclide](https://fr.wikipedia.org/wiki/Algorithme_d%27Euclide)
>- [Machine de Turing](https://fr.wikipedia.org/wiki/Machine_de_Turing)
>- [Architecture de Von Neumann](https://fr.wikipedia.org/wiki/Architecture_de_von_Neumann)
>- [Ferranti Mk I](https://fr.wikipedia.org/wiki/Ferranti_Mark_I)
>- [UNIVAC I](https://fr.wikipedia.org/wiki/UNIVAC_I)
>- [PDP-8](https://fr.wikipedia.org/wiki/PDP-8)
>- [Microprocesseur](https://fr.wikipedia.org/wiki/Microprocesseur)
>- [T√©l√©scripteur](https://fr.wikipedia.org/wiki/T%C3%A9l%C3%A9scripteur)

[Retour en haut](#-table-des-mati√®res)

---

### ‚öôÔ∏è A104. Les Composants Mat√©riels

> Un ordinateur est constitu√© d'un ensemble de composants physiques (le hardware) qui interagissent pour fonctionner.

- **La Carte M√®re** : C'est le circuit imprim√© central qui connecte tous les autres composants. Elle inclut :
  - Le **socket** pour le processeur.
  - Les **slots de m√©moire vive (RAM)**.
  - Les **connecteurs d'extension** (ex: PCI Express) pour les cartes additionnelles.
  - Les **connecteurs de stockage** (ex: SATA, M.2) pour les disques durs et SSD.
  - Le **BIOS/UEFI**, un micrologiciel qui initialise le mat√©riel au d√©marrage.
- **Le Processeur (CPU)** : C'est le "cerveau" de l'ordinateur qui ex√©cute les calculs et les instructions. Ses performances d√©pendent de sa **fr√©quence** (en GHz) et de son **nombre de c≈ìurs**. Il doit √™tre refroidi, g√©n√©ralement par un **ventirad** (ventilateur + radiateur) avec de la **p√¢te thermique** pour assurer le transfert de chaleur.
- **La M√©moire Vive (RAM)** : C'est la m√©moire de travail, rapide mais **volatile** (elle perd ses donn√©es quand l'ordinateur est √©teint). On la trouve sous forme de barrettes (DIMM pour les PC fixes, SO-DIMM pour les portables).
- **Le Stockage** : C'est la m√©moire de masse, non volatile, o√π sont stock√©s le syst√®me d'exploitation, les logiciels et les fichiers.
  - **Disque Dur (HDD)** : Technologie magn√©tique plus ancienne, √† disques tournants.
  - **SSD (Solid-State Drive)** : Technologie plus r√©cente bas√©e sur de la **m√©moire flash**, beaucoup plus rapide et r√©sistante aux chocs.
- **La Carte Graphique (GPU)** : C'est une carte d'extension d√©di√©e √† la production et √† l'affichage des images sur un √©cran. Elle est essentielle pour les jeux vid√©o et les applications graphiques intensives.
- **L'Alimentation (PSU)** : C'est le bloc qui convertit le courant alternatif du secteur en tensions continues pour alimenter tous les composants. Sa capacit√© est mesur√©e en **Watts (W)**.
- **Les P√©riph√©riques** : Ce sont des dispositifs connect√©s √† l'ordinateur pour lui ajouter des fonctionnalit√©s. Ils se classent en trois cat√©gories :
  - **P√©riph√©riques d'entr√©e** : Clavier, souris, webcam, micro.
  - **P√©riph√©riques de sortie** : √âcran, imprimante, haut-parleurs.
  - **P√©riph√©riques d'entr√©e-sortie** : Cl√© USB, disque dur externe, √©cran tactile.

[Challenge A104](/challenges/Challenge_A104.md) : Configuration de 3 Setups selon les besoins.

>üìö Ressources :
>
>- [Composants d'un PC](https://www.malekal.com/les-composants-hardware-et-materiel-dun-pc-le-dossier/)
>- [Cache de Processeur](https://fr.wikipedia.org/wiki/Cache_de_processeur)
>- [Architecture m√©moire multi canaux](https://fr.wikipedia.org/wiki/Architecture_de_m%C3%A9moire_%C3%A0_multiples_canaux)
>- [PC Builder](https://fr.pcpartpicker.com/list/)

[Retour en haut](#-table-des-mati√®res)

---

### üíø A105. Le Syst√®me d'Exploitation

> Le syst√®me d'exploitation (OS) est le logiciel principal qui sert d'interm√©diaire entre le mat√©riel et les applications logicielles. Les plus courants sur ordinateur sont Windows, macOS et GNU/Linux.

- **Le Noyau (Kernel)** : C'est le c≈ìur de l'OS. Il g√®re les ressources mat√©rielles (m√©moire, processeur), l'ex√©cution des programmes, les p√©riph√©riques et les syst√®mes de fichiers.
- **Les Interfaces** : Pour interagir avec le noyau, on utilise :
  - L'**interface graphique (GUI)** : Menus, ic√¥nes, fen√™tres (ex: le bureau Windows).
  - L'**interface en ligne de commande (CLI)** : Terminal o√π l'on tape des commandes textuelles (ex: `shutdown`).
  - L'**interface de programmation (API)** : Utilis√©e par les programmes pour demander des services √† l'OS.
- **Concepts Cl√©s** :
  - **Processus** : Un programme en cours d'ex√©cution.
  - **Syst√®me Multit√¢ches** : Capacit√© de l'OS √† ex√©cuter plusieurs programmes de fa√ßon "simultan√©e" en alternant tr√®s rapidement entre eux.
  - **Pilotes (Drivers)** : Programmes sp√©cifiques qui permettent √† l'OS de communiquer avec un p√©riph√©rique mat√©riel.
- **Installation d'un OS** :
  - Se fait g√©n√©ralement √† partir d'un **m√©dia d'installation** (cl√© USB ou DVD).
  - Ce m√©dia est cr√©√© √† partir d'une **image ISO**, qui est une copie conforme d'un disque.
  - Il faut configurer le **BIOS/UEFI** de l'ordinateur pour qu'il d√©marre ("boot") sur ce m√©dia d'installation.

[Challenge A105](/challenges/Challenge_A105.md) : D√©couverte de la Virtualisation, Virtualbox et VM Windows.

>üìö Ressources :
>
>- [Commandes Ubuntu](https://doc.ubuntu-fr.org/tutoriel/console_commandes_de_base)
>- [Les distributions Linux](https://alexblog.fr/wp-content/uploads/2011/01/evolution-linux-distributions.jpg)

[Retour en haut](#-table-des-mati√®res)

---

### üî¢ A106. Num√©ration : Bits et Octets

> Les ordinateurs fonctionnent avec un syst√®me binaire, qui est la base de toute information num√©rique.

- **Bit et Octet** :
  - Le **bit** (binary digit) est la plus petite unit√© d'information et peut avoir deux valeurs : 0 ou 1.
  - Un **octet** (Byte en anglais) est un groupe de 8 bits.
- **Multiples** : Il existe une confusion fr√©quente entre les multiples d√©cimaux (base 10) et binaires (base 2).
  - **Pr√©fixes SI (d√©cimaux)** : kilooctet (ko) = 1000 octets, m√©gaoctet (Mo) = 1 000 000 octets.
  - **Pr√©fixes binaires** : kibioctet (Kio) = 1024 octets, m√©bioctet (Mio) = 1 048 576 octets.
  - C'est pourquoi un disque dur de 1 T√©raoctet (To) est affich√© par le syst√®me d'exploitation comme ayant environ 930 Gibioctets (Go).
- **Syst√®mes de Num√©ration** :
  - **Binaire (base 2)** : Utilise les chiffres 0 et 1.
  - **D√©cimal (base 10)** : Le syst√®me que nous utilisons tous les jours (0-9).
  - **Hexad√©cimal (base 16)** : Utilise les chiffres 0-9 et les lettres A-F. Souvent utilis√© en informatique pour repr√©senter des valeurs binaires de mani√®re plus compacte.
- **Encodage des Caract√®res** : Pour repr√©senter du texte, chaque caract√®re est associ√© √† un nombre.
  - **ASCII** : Une des premi√®res normes, limit√©e √† 128 caract√®res (principalement pour l'anglais).
  - **Unicode (UTF-8)** : La norme moderne qui peut repr√©senter la quasi-totalit√© des syst√®mes d'√©criture du monde, y compris les accents et les emojis.

[Challenge A106](/challenges/Challenge_A106.md) : Agents invit√©s (Guest addition) pour la virtualisation et VM Linux.

[Retour en haut](#-table-des-mati√®res)

---

### üåê A107. Introduction aux R√©seaux Informatiques

> Un r√©seau est un ensemble d'√©quipements informatiques connect√©s entre eux pour partager des ressources et communiquer.

- **Types de R√©seaux (par √©tendue)** :
  - **LAN (Local Area Network)** : R√©seau local (ex: √† la maison, dans une entreprise).
  - **WAN (Wide Area Network)** : R√©seau √©tendu qui connecte plusieurs LAN sur de longues distances. **Internet** est le plus grand des WAN.
- **Topologies de R√©seau** : C'est la mani√®re dont les √©quipements sont interconnect√©s.
  - **En √©toile** : Tous les √©quipements sont connect√©s √† un point central (un switch). C'est la topologie la plus courante pour les r√©seaux LAN.
  - Autres topologies : en bus, en anneau, maill√©e.
- **Adressage IP (IPv4)** :
  - Chaque machine sur un r√©seau a une **adresse IP** unique pour √™tre identifi√©e, comme une adresse postale.
  - Une adresse IPv4 est compos√©e de 4 nombres entre 0 et 255 (ex: `192.168.1.10`). C'est une adresse de 32 bits (4 octets).
  - Le **masque de sous-r√©seau** (ex: `255.255.255.0`) permet de diviser l'adresse IP en deux parties : une partie qui identifie le **r√©seau** et une partie qui identifie la **machine** sur ce r√©seau.
  - Deux machines peuvent communiquer directement seulement si elles sont sur le **m√™me r√©seau**, c'est-√†-dire si elles ont la m√™me partie r√©seau.
- **Diagrammes R√©seau** : Ce sont des sch√©mas qui repr√©sentent l'organisation d'un r√©seau.
  - **Diagramme Physique** : Montre l'emplacement r√©el des √©quipements et leur c√¢blage.
  - **Diagramme Logique** : Montre comment les informations circulent, les adresses IP, les sous-r√©seaux, etc.

[Challenge A107](/challenges/Challenge_A107.md) : Gestionnaire de mots de passe.

>Ressources :
>
>- [Le virus Stuxnet](https://www.youtube.com/watch?v=gXtp6C-3JKo)
>- [Le cas Ledger](https://www.youtube.com/watch?v=4nXEfsQalkI)
>- [Le cas Proton](https://www.youtube.com/watch?v=-pSdE6jjdG0)
>- [Top 10 Web Application Security Risks](https://owasp.org/www-project-top-ten/)
>- [Mitre-CVE version Europ√©enne (car le Mitre √† failli sauter avec les coupes de Trump)](https://euvd.enisa.europa.eu/)
>- [Loi informatique et Libert√©s](https://fr.wikipedia.org/wiki/Loi_informatique_et_libert%C3%A9s)

[Retour en haut](#-table-des-mati√®res)

---

### üõ°Ô∏è A108. S√©curit√© Informatique

> La s√©curit√© informatique vise √† prot√©ger les syst√®mes d'information contre les menaces et √† garantir leur bon fonctionnement.

- **Les 5 Piliers de la S√©curit√©** :
    1. **Confidentialit√©** : S'assurer que seules les personnes autoris√©es peuvent acc√©der aux donn√©es.
    2. **Int√©grit√©** : Garantir que les donn√©es n'ont pas √©t√© modifi√©es de mani√®re non autoris√©e.
    3. **Disponibilit√©** : S'assurer que le syst√®me et les donn√©es sont accessibles lorsque l'on en a besoin.
    4. **Authentification** : V√©rifier l'identit√© d'un utilisateur.
    5. **Non-r√©pudiation (ou Tra√ßabilit√©)** : S'assurer qu'un utilisateur ne peut pas nier avoir effectu√© une action.
- **Grands Principes** :
  - **D√©fense en profondeur** : Mettre en place plusieurs couches de s√©curit√©.
  - **Principe du moindre privil√®ge** : Donner aux utilisateurs uniquement les droits n√©cessaires pour accomplir leurs t√¢ches.
  - La s√©curit√© absolue n'existe pas ; il faut se pr√©parer √† l'√©chec (sauvegardes, plans de reprise).
  - L'utilisateur est souvent le maillon le plus faible de la cha√Æne de s√©curit√©.
- **Bonnes Pratiques** :
  - **Mots de passe** : Utiliser un **gestionnaire de mots de passe** pour cr√©er et stocker des mots de passe longs, uniques et al√©atoires pour chaque service.
  - **Authentification multifacteur (MFA/2FA)** : Activer une deuxi√®me √©tape de v√©rification (ex: un code sur le t√©l√©phone) en plus du mot de passe.
- **Cryptographie** :
  - **Hachage** : Transformation irr√©versible d'une donn√©e en une cha√Æne de caract√®res de taille fixe. Utilis√© pour v√©rifier l'int√©grit√© d'un fichier ou stocker des mots de passe.
  - **Chiffrement** : Transformation r√©versible d'une donn√©e √† l'aide d'une cl√© pour la rendre illisible.
    - **Sym√©trique** : La m√™me cl√© est utilis√©e pour chiffrer et d√©chiffrer.
    - **Asym√©trique** : Utilise une paire de cl√©s (une publique pour chiffrer, une priv√©e pour d√©chiffrer).

![CIA Triad](https://d1jnx9ba8s6j9r.cloudfront.net/blog/wp-content/uploads/2018/06/CIA-Triad-What-is-cybersecurity-Edureka.png)

[Challenge A108](/challenges/Challenge_A108.md) : Cr√©ation d'un Diagramme R√©seau.

>üìö Ressources :
>
>- [Antivirus](https://fr.wikipedia.org/wiki/Logiciel_antivirus)
>- [Exemple Social Engineering : Hushpuppy](https://etudestech.com/decryptage/portrait-arnaquer-hushpuppi-hacker/)
>- [Chiffrer et pas Crypter](https://chiffrer.info/)
>- [Chiffrement Asym√©trique + Sym√©trique](https://fr.wikipedia.org/wiki/%C3%89change_de_cl%C3%A9s_Diffie-Hellman)
>- [Comprendre le chiffrement](https://www.youtube.com/watch?v=7W7WPMX7arI)
>- [T√©l√©graphe de Chappe](https://fr.wikipedia.org/wiki/T%C3%A9l%C3%A9graphe_Chappe)
>- [Pr√©fixe Binaire](https://fr.wikipedia.org/wiki/Pr%C3%A9fixe_binaire)
>- [Tableau de Calcul Binaire](https://lesitedelaclasse.fr/wp-content/uploads/2018/12/tableau-binaire.png)
>- [Table de Conversion](http://yannklein.free.fr/cours/reseau/conversion.html)
>- [Convertisseur](https://www.rapidtables.org/fr/convert/number/binary-to-decimal.html?x=1111)
>- [Encodage de nos lettres UTF-8](https://www.malekal.com/utf-8-comment-ca-marche/)

[Retour en haut](#-table-des-mati√®res)

---

### üßÆ A109. Atelier calcul d'adresse IP et Masque sous-r√©seau

> Cet atelier pratique a permis de mettre en application les concepts de l'adressage IPv4.

L'objectif √©tait de pouvoir, √† partir d'une adresse IP et de son masque, d√©terminer les informations essentielles d'un sous-r√©seau :

- L'adresse du r√©seau.
- L'adresse de broadcast (diffusion).
- La premi√®re et la derni√®re adresse IP utilisables pour des machines.

La **M√©thode de calcul Binaire** avec l'utilisation du *ET Logique* pour l'adresse r√©seau et du *OU logique* pour l'adresse de broadcast.

- (Adresse IP) **ET** (masque de sous-r√©seau) = adresse R√©seau
- (**NOT** masque sous-r√©seau) **OU** (adresse r√©seau) = adresse Broadcast

La **M√©thode du Nombre Magique** (bas√©e sur l'octet significatif du masque) a √©t√© pr√©sent√©e comme une technique rapide pour effectuer ces calculs sans conversion binaire compl√®te.

- Octet Significatif
- 256- OS = Nombre magique
- Calcul avec les multiples de l'adresse r√©seau et broadcast

[Challenge A109](/challenges/Challenge_A109.md) : Calculs d'adresses IP, r√©seau, broadcast, plage et masque.

>üìö Ressources :
>
>- [Logique ET OU](https://github.com/GitFreed/Challenges-O-clock/blob/main/images/Logique.jpg)
>- [M√©thode du nombre magique](https://zestedesavoir.com/tutoriels/321/calculer-une-plage-dadresses-avec-la-methode-magique/#2-10258_quest-ce-que-la-methode-magique)
>- [Table masque de sous r√©seau, binaire et h√¥tes](https://www.it-connect.fr/wp-content-itc/uploads/2021/05/reseau-adresse-ipv4-calcul-masque-sous-reseau-12.png)
>- [CIDR Calculator](https://www.subnet-calculator.com/cidr.php)

[Retour en haut](#-table-des-mati√®res)

---

### üíª Fin Saison A1. Savoirs de Base

[QCM Saison A1](https://forms.gle/MofrrYWGy8XXPN6D7)

![QCM R√©sultats](./images/QCMs01.png)

[Retour en haut](#-table-des-mati√®res)

---

## **üõ†Ô∏è Saison A2. Support aux Utilisateurs**

> Cette saison se concentre sur les outils et m√©thodes pour assister les utilisateurs, diagnostiquer et r√©soudre les incidents courants sur les postes de travail, etc.

---

### üíº A201. Outils Bureautiques

> Ce cours pr√©sente les suites bureautiques, des ensembles de logiciels essentiels pour la productivit√© en entreprise.

- **Suite Microsoft Office** : La suite la plus r√©pandue, d√©velopp√©e par Microsoft.
  - **Composants principaux** : **Word** (traitement de texte), **Excel** (tableur), **PowerPoint** (pr√©sentation) et **Outlook** (messagerie).
  - **Versions** : Il existe des versions sous **licence perp√©tuelle** (ex: Office 2024) et des versions par **abonnement** bas√©es sur le cloud (**Microsoft 365**), qui incluent des services comme OneDrive et permettent la collaboration en temps r√©el.

- **LibreOffice** : Une alternative **gratuite et open-source** √† Microsoft Office.
  - **√âquivalents** : Elle propose des logiciels similaires comme **Writer** (Word), **Calc** (Excel), **Impress** (PowerPoint) et **Base** (Access).
  - **Avantages** : Elle est multiplateforme, compatible avec les formats de fichiers Microsoft et n'implique aucun co√ªt de licence.

- **Collaboration et Partage** : Les outils modernes, notamment ceux bas√©s sur le cloud, facilitent le travail d'√©quipe gr√¢ce au partage de fichiers et √† la co-√©dition de documents en temps r√©el.

[Challenge A201](/challenges/Challenge_A201.md) : Test et comparatif de Microsoft / Libreoffice.

>üìö Ressources :
>
>- [Autoformation aux bases de la bureautique](http://clic-formation.net/)
>- [Base de donn√©e de logiciels alternatifs](https://alternativeto.net/)
>- [Site comparatif de solutions alternatives d'entreprises](https://www.capterra.fr/)

[Retour en haut](#-table-des-mati√®res)

---

### üîç A202. Diagnostic et R√©solution d'Incidents

> Ce cours aborde les outils et les proc√©dures pour diagnostiquer et r√©soudre les probl√®mes sur un syst√®me d'exploitation Windows.

- **Outils de diagnostic natifs de Windows** :
  - **Gestionnaire des t√¢ches** : Pour surveiller les processus, les performances (CPU, m√©moire) et g√©rer les applications au d√©marrage.
  - **Observateur d'√©v√©nements** : Pour consulter les journaux syst√®me et identifier les erreurs, avertissements et √©v√©nements critiques qui peuvent causer des instabilit√©s.
  - **√âditeur du Registre (Regedit)** : Permet de modifier la base de donn√©es de configuration de Windows. Une manipulation incorrecte peut endommager gravement le syst√®me.
  - **Gestionnaire de p√©riph√©riques** : Pour g√©rer les pilotes (drivers) des composants mat√©riels et identifier les conflits ou les dysfonctionnements.

- **D√©pannage du d√©marrage de Windows** :
  - **Processus de d√©marrage** : Implique des composants cl√©s comme **BootMGR** (gestionnaire de d√©marrage), **Winload.exe** (chargeur de l'OS) et le **BCD** (base de donn√©es de configuration du d√©marrage).
  - **Outils de r√©paration** :
    - **`bootrec`** : Commande pour r√©parer le MBR, le secteur de d√©marrage et reconstruire le BCD.
    - **`chkdsk`** : Pour v√©rifier et r√©parer les erreurs sur le disque dur.
    - **Options de d√©marrage avanc√©** : Permet d'acc√©der au mode sans √©chec, √† la restauration du syst√®me ou √† l'invite de commandes de r√©cup√©ration.

- **Sauvegarde et R√©cup√©ration** :
  - **Restauration du syst√®me** : Permet de revenir √† un point de restauration ant√©rieur pour annuler des modifications qui ont caus√© un probl√®me.
  - **Historique des fichiers** : Sauvegarde automatiquement diff√©rentes versions de vos fichiers personnels.
  - **Image syst√®me** : Cr√©e une copie compl√®te du syst√®me pour une restauration totale en cas de panne majeure.

- **Logiciels tiers utiles** :
  - Des outils comme **CCleaner** pour le nettoyage, **Malwarebytes** pour la s√©curit√©, ou **AOMEI Backupper** pour des sauvegardes avanc√©es peuvent compl√©ter les fonctionnalit√©s natives de Windows.

[Challenge A202](/challenges/Challenge_A202.md) : Mise en r√©seau de VM.

>üìö Ressources :
>
>- [Sysinternals](https://learn.microsoft.com/fr-fr/sysinternals/)
>- [Autocompl√©tion des CMD Terminal](https://github.com/chrisant996/clink)

[Retour en haut](#-table-des-mati√®res)

---

### üîÅ A203. Contr√¥le √† distance

>üìö Ressources :
>
>- [Les r√©seaux virtuels sur virtualbox](https://www.it-connect.fr/comprendre-les-differents-types-de-reseaux-virtualbox/)
>- [Les r√©seaux virtuels sur vmware](https://www.it-connect.fr/comprendre-les-differents-types-de-reseaux-de-vmware-workstation-pro/)
>- [WinRM](https://www.it-connect.fr/chapitres/utiliser-winrm-pour-la-gestion-a-distance/)
>- [MobaXterm](https://mobaxterm.mobatek.net/)
>- [Ruskdesk](https://rustdesk.com/fr/) et [Ruskdesk Github](https://github.com/rustdesk/rustdesk)

---

### üî© A204. Incidents Hardware et R√©glementation

> Ce cours couvre la m√©thodologie de diagnostic des pannes mat√©rielles, ainsi que les cadres r√©glementaires essentiels li√©s √† la gestion des √©quipements informatiques en fin de vie (DEEE) et √† la protection des donn√©es personnelles (RGPD).

- **Diagnostic des Pannes Mat√©rielles** :
  - **Premi√®res √©tapes** : Avant toute intervention complexe, il est crucial d'effectuer des v√©rifications simples : nettoyer la poussi√®re, d√©brancher les p√©riph√©riques non essentiels, tester les c√¢bles et analyser les messages d'erreur au d√©marrage.
  - **Isoler le probl√®me** : Une approche m√©thodique consiste √† tester les composants un par un pour identifier la source de la panne. Les causes fr√©quentes d'un √©cran noir incluent l'alimentation, la carte graphique, la m√©moire RAM ou la pile du BIOS.
  - **Outils de diagnostic** :
    - **Logiciels** : Des outils sp√©cialis√©s permettent de tester la stabilit√© et les performances de chaque composant une fois le PC d√©marr√© :
      - **CPU-Z** pour le processeur et la carte graphique.
      - **MemTest86** pour la m√©moire RAM.
      - **CrystalDiskInfo** pour l'√©tat de sant√© des disques durs et SSD.
      - **OCCT** pour tester l'alimentation en charge.
    - **Mat√©riel** : Un **multim√®tre** peut √™tre utilis√© pour v√©rifier les tensions de sortie de l'alimentation.

- **R√©glementation DEEE (D√©chets d'√âquipements √âlectriques et √âlectroniques)** :
  - **Objectif** : Encadrer la collecte et le recyclage des √©quipements en fin de vie pour limiter leur impact environnemental, d√ª aux mat√©riaux polluants qu'ils contiennent (plomb, mercure).
  - **Obligations des entreprises** : Les professionnels doivent trier leurs DEEE, les confier √† une fili√®re de recyclage agr√©√©e et s'assurer de la **destruction s√©curis√©e des donn√©es** pr√©sentes sur les supports de stockage. Des outils comme **DBAN** peuvent √™tre utilis√©s pour cela.

- **R√©glementation RGPD (R√®glement G√©n√©ral sur la Protection des Donn√©es)** :
  - **Objectif** : Prot√©ger les **donn√©es personnelles** des citoyens de l'Union Europ√©enne et encadrer leur traitement par les organisations.
  - **Principes cl√©s** : Le traitement des donn√©es doit √™tre l√©gal, limit√© √† des finalit√©s pr√©cises (minimisation), et les donn√©es doivent √™tre conserv√©es de mani√®re s√©curis√©e et confidentielle pour une dur√©e limit√©e.
  - **R√¥le de la CNIL** : En France, la **Commission Nationale de l'Informatique et des Libert√©s (CNIL)** est l'autorit√© charg√©e de veiller au respect du RGPD. Elle informe, contr√¥le et peut sanctionner les entreprises en cas de manquement.
  - **En cas de violation de donn√©es** : L'entreprise a l'obligation de notifier la CNIL dans les 72 heures et d'informer les personnes concern√©es si le risque pour leurs droits et libert√©s est √©lev√©.

[Challenge A203](/challenges/Challenge_A203.md) : Memtest, Anydest, Teamviewer.

>üìö Ressources :
>
>- [DEEE](https://www.economie.gouv.fr/cedef/fiches-pratiques/gestion-et-traitement-des-dechets-dequipements-electriques-et-electroniques)
>- [CNIL - RGPD](https://www.cnil.fr/fr/reglement-europeen-protection-donnees)

[Retour en haut](#-table-des-mati√®res)

---

### üíª A205. Atelier Mme Michu üëµüê∂

> L'atelier ¬´ Mme Michu ¬ª a servi de cas pratique pour appliquer les concepts vu pr√©c√©demment, en simulant un d√©pannage complet : r√©paration du d√©marrage de Windows, r√©solution d'une surcharge CPU/RAM, v√©rification de l'√©tat des disques et restauration de fichiers disparus.

[Challenge A204](/challenges/Challenge_A204.md) : Atelier "Mme Michu", d√©pannage d'une VM simulant un labtop en panne.

>üìö Ressources :
>
>- [Lignes cmd BCDBoot](https://learn.microsoft.com/fr-fr/windows-hardware/manufacture/desktop/bcdboot-command-line-options-techref-di?view=windows-11)
>- [Process D√©marrage Windows](https://www.malekal.com/processus-demarrage-windows-mbr/)

[Retour en haut](#-table-des-mati√®res)

---

### üíæ A206. BIOS, UEFI, MBR et GPT

> Ce cours explore les firmwares qui g√®rent le d√©marrage de l'ordinateur (BIOS et UEFI) et les structures de partitionnement des disques durs (MBR et GPT) qui organisent les donn√©es.

- **Le Firmware : BIOS vs UEFI** :
  - **BIOS (Basic Input/Output System)** : Ancien firmware stock√© sur une puce de la carte m√®re, responsable de l'initialisation du mat√©riel au d√©marrage (POST - Power-On Self Test).
    - **Limitations** : Interface textuelle (navigation au clavier), mode 16 bits, et incapacit√© √† g√©rer des disques de plus de 2 To.
  - **UEFI (Unified Extensible Firmware Interface)** : Le successeur moderne du BIOS.
    - **Avantages** : Interface graphique (support de la souris), fonctionnement en 32/64 bits, et prise en charge des disques de plus de 2 To gr√¢ce au GPT.
    - **Fonctionnalit√©s avanc√©es** :
      - **Secure Boot** : Emp√™che l'ex√©cution de chargeurs de d√©marrage non sign√©s pour prot√©ger contre les malwares au d√©marrage.
      - **Fast Boot** : Acc√©l√®re le d√©marrage en sautant certaines √©tapes d'initialisation mat√©rielle.
  - **Mise √† jour (Flasher)** : Mettre √† jour le firmware (BIOS/UEFI) peut am√©liorer la stabilit√© et la compatibilit√©, mais une erreur durant le processus peut rendre la carte m√®re inutilisable.

- **Partitionnement de Disque : MBR vs GPT** :
  - **MBR (Master Boot Record)** : Ancien standard de partitionnement.
    - **Structure** : Stocke les informations de d√©marrage et la table des partitions dans le premier secteur du disque.
    - **Limitations** : Limit√© √† 4 partitions principales et √† des disques de 2 To maximum. Vuln√©rable car les informations de d√©marrage sont stock√©es √† un seul endroit.
  - **GPT (GUID Partition Table)** : Le standard moderne, associ√© √† l'UEFI.
    - **Avantages** : Supporte jusqu'√† 128 partitions, g√®re des disques de tr√®s grande taille (plus de 2 To), et offre une meilleure protection contre la corruption des donn√©es gr√¢ce √† des copies de sauvegarde de la table de partition.

- **Les Syst√®mes de Fichiers** : Ils organisent la mani√®re dont les donn√©es sont stock√©es sur une partition.
  - **NTFS (New Technology File System)** : Le syst√®me de fichiers par d√©faut de Windows. Robuste, il g√®re les grands fichiers et offre des fonctionnalit√©s de s√©curit√© avanc√©es (chiffrement, permissions).
  - **FAT32 (File Allocation Table 32)** : Ancien syst√®me de fichiers tr√®s compatible avec la plupart des appareils (cl√©s USB, cartes m√©moire). Sa principale limitation est qu'il ne peut pas g√©rer les fichiers de plus de 4 Go.
  - **exFAT (Extended File Allocation Table)** : Con√ßu pour les supports amovibles, il combine la large compatibilit√© de FAT32 avec la capacit√© de g√©rer des fichiers de plus de 4 Go, ce qui en fait un excellent choix pour les disques durs externes et les cl√©s USB de grande capacit√©.

[Challenge A206](/challenges/Challenge_A206.md) : Test BIOS, et partitions sur USB.

>üìö Ressources :
>
>- [2 Versions BIOS historiques](https://www.quora.com/What-are-the-differences-between-AMI-and-AWARD-BIOSes-1)
>- [Boot PXE](https://www.it-connect.fr/le-boot-pxe-et-le-boot-ipxe-pour-les-debutants/)
>- [GUID Partition Table](https://fr.wikipedia.org/wiki/GUID_Partition_Table)
>- [MBR vs GPT](https://www.simplylinuxfaq.com/2017/10/main-differences-between-mbr-gpt.html)

[Retour en haut](#-table-des-mati√®res)

---

### üìù A207. ITIL

> [Ce cours](https://gamma.app/docs/ITIL-V4-naxpqmck8b6yltv?mode=doc) introduit ITIL (Information Technology Infrastructure Library), un r√©f√©rentiel de meilleures pratiques pour la gestion des services informatiques ITSM (Information Technology Service Management).

- **Qu'est-ce qu'ITIL ?**
    ITIL est un ensemble de bonnes pratiques destin√© aux entreprises pour g√©rer au mieux leurs services informatiques. L'objectif principal est d'aligner les services informatiques sur les besoins m√©tier afin de cr√©er de la **valeur**. ITIL n'est pas une norme rigide mais un **cadre** (framework) qui fournit des recommandations. Il n'existe pas de "certification ITIL" pour une entreprise, mais des certifications individuelles pour les professionnels.

- **Historique** :
    D√©velopp√© dans les ann√©es 1980 par le gouvernement britannique, ITIL visait √† standardiser la gestion des services informatiques. Il a depuis √©volu√© √† travers plusieurs versions pour s'adapter aux changements technologiques et aux nouvelles m√©thodologies. **ITIL 4**, la version actuelle, est con√ßu pour √™tre plus flexible et s'int√©grer avec d'autres cadres comme **Agile, DevOps et Lean**.
  - - *Agile est une approche de gestion de projet qui privil√©gie la flexibilit√© et la collaboration. Le travail est d√©coup√© en cycles courts et it√©ratifs (appel√©s "sprints") pour s'adapter rapidement aux changements.*
  - - *DevOps est une culture qui vise √† unifier le d√©veloppement (Dev) et les op√©rations (Ops) pour livrer des applications et des services plus rapidement et de mani√®re plus fiable, en s'appuyant sur l'automatisation et la collaboration.*
  - - *Lean est une philosophie ax√©e sur l'optimisation des processus en √©liminant tout gaspillage ("waste") afin de maximiser la valeur pour le client avec le moins de ressources possible.*

- **Concepts Cl√©s de la Gestion des Services** :
  - **Valeur** : Le b√©n√©fice per√ßu, l'utilit√© et l'importance de quelque chose. La valeur est toujours **co-cr√©√©e** par une collaboration active entre le fournisseur de services et le consommateur.
  - **Service** : Un moyen de co-cr√©er de la valeur en facilitant les **r√©sultats** que les clients souhaitent obtenir, sans qu'ils aient √† g√©rer les **co√ªts** et les **risques** sp√©cifiques.
  - **Produit** : Une configuration des ressources d'une organisation, con√ßue pour offrir de la valeur √† un consommateur. Les services sont bas√©s sur des produits.
  - **Relation de service** : Comprend la **fourniture de service** (par le fournisseur), la **consommation de service** (par le consommateur) et la **gestion de la relation** pour assurer la co-cr√©ation de valeur.

- **Le Syst√®me de Valeur des Services (SVS)** :
    Le SVS d√©crit comment tous les composants et activit√©s d'une organisation fonctionnent ensemble comme un syst√®me pour faciliter la cr√©ation de valeur. Il transforme une **opportunit√©** ou une **demande** en **valeur** pour les parties prenantes. Ses 5 composants principaux sont :
    1. **Les Principes Directeurs ITIL** : Recommandations qui guident une organisation en toutes circonstances.
    2. **La Gouvernance** : Les moyens par lesquels une organisation est dirig√©e et contr√¥l√©e.
    3. **La Cha√Æne de Valeur des Services (SVC)** : Le mod√®le op√©rationnel central du SVS.
    4. **Les Pratiques ITIL** : Ensembles de ressources pour accomplir un travail (anciennement "processus").
    5. **L'Am√©lioration Continue** : Une activit√© r√©currente √† tous les niveaux pour s'assurer que les performances r√©pondent aux attentes.

![ITILSVS](/images/ITIL1.png)

- **Les Sept Principes Directeurs** :
    Ce sont des recommandations universelles et durables qui guident les d√©cisions et les actions.
    1. **Privil√©gier la valeur** : Tout doit contribuer, directement ou indirectement, √† la cr√©ation de valeur.
    2. **Commencer l√† o√π vous √™tes** : Ne pas repartir de z√©ro ; √©valuer et tirer parti de ce qui existe d√©j√†.
    3. **Progresser par it√©rations avec des retours** : Organiser le travail en petites parties g√©rables pour livrer des r√©sultats plus rapidement et s'ajuster gr√¢ce aux retours.
    4. **Collaborer et promouvoir la visibilit√©** : Travailler ensemble et partager les informations pour prendre de meilleures d√©cisions.
    5. **Penser et travailler de fa√ßon holistique** : Avoir une vision d'ensemble et comprendre comment les diff√©rentes parties du syst√®me interagissent.
    6. **Opter pour la simplicit√© et rester pratique** : √âliminer tout ce qui n'apporte pas de valeur et choisir la solution la plus simple et efficace.
    7. **Optimiser et automatiser** : Maximiser la valeur du travail en optimisant les processus avant de les automatiser.

- **Les Quatre Dimensions de la Gestion des Services** :
    Pour une approche holistique, ITIL 4 identifie quatre dimensions √† consid√©rer pour chaque service.
    1. **Organisations et personnes** : Culture, structure, r√¥les et comp√©tences.
    2. **Information et technologie** : Les informations, connaissances et technologies n√©cessaires.
    3. **Partenaires et fournisseurs** : Les relations avec les autres organisations impliqu√©es.
    4. **Flux de valeur et processus** : Les activit√©s et workflows qui permettent la cr√©ation de valeur.

- **La Cha√Æne de Valeur des Services (SVC)** :
    C'est le c≈ìur du SVS. Elle repr√©sente un mod√®le op√©rationnel de six activit√©s qui peuvent √™tre combin√©es pour cr√©er diff√©rents **flux de valeur** afin de r√©pondre √† la demande.
    1. **Planifier** : Assurer une compr√©hension partag√©e de la vision et de la direction.
    2. **Am√©liorer** : Assurer l'am√©lioration continue des produits et services.
    3. **Engager** : Comprendre les besoins des parties prenantes et maintenir de bonnes relations.
    4. **Concevoir et assurer la transition** : S'assurer que les services r√©pondent aux attentes en termes de qualit√©, de co√ªt et de d√©lai.
    5. **Obtenir/construire** : S'assurer que les composants de service sont disponibles quand et o√π ils sont n√©cessaires.
    6. **Fournir et assurer le support** : S'assurer que les services sont fournis et support√©s conform√©ment aux attentes.

- **Quelques Pratiques ITIL Cl√©s** :
  - **Am√©lioration continue** : Aligner les services sur les besoins m√©tier en constante √©volution.
  - **Contr√¥le des changements** : Maximiser le nombre de changements r√©ussis en √©valuant les risques.
  - **Gestion des incidents** : R√©tablir le fonctionnement normal du service le plus rapidement possible.
  - **Gestion des probl√®mes** : R√©duire la probabilit√© et l'impact des incidents en identifiant leurs causes profondes.
  - **Gestion des demandes de service** : G√©rer les demandes pr√©d√©finies des utilisateurs (ex: demande d'information, d'acc√®s).
  - **Centre de services (Service Desk)** : Le point de contact unique entre le fournisseur et les utilisateurs.
  - **Gestion des niveaux de service (SLM)** : D√©finir des cibles de performance claires pour les services (SLA).

![ITIL](/images/ITIL2.png)

[Challenge A207](/challenges/Challenge_A207.md) : QCM certification ITIL.

>üìö Ressources :
>
>- [PDF ITIL](/ressources/ITIL%20V4%20-%20Foundation%20-%20Axelos.pdf)
>- [Manifeste Agile](https://manifesteagile.fr/)

[Retour en haut](#-table-des-mati√®res)

---

### üõ†Ô∏è A208. Pratiques ITIL et GLPI

> Ce cours pr√©sente GLPI (Gestion Libre de Parc Informatique), une solution open-source de gestion des services informatiques (ITSM) qui permet de mettre en application concr√®tement les bonnes pratiques du r√©f√©rentiel ITIL. Il existe de nombreuses autres solutions ITSM sur le march√©, comme Zendesk, Connectwise, Easyvista, ou historiquement Lotus (IBM).

- **Introduction √† GLPI** : GLPI (**G**estion **L**ibre de **P**arc **I**nformatique) est un outil complet qui centralise la gestion du parc informatique, des tickets de support et des processus d'assistance. Il est con√ßu pour aider les √©quipes IT √† structurer leur travail en s'appuyant sur les concepts ITIL.

- **Gestion des Actifs et des Utilisateurs** :
  - **Inventaire (Parc)** : GLPI permet de recenser et de suivre le cycle de vie de tous les actifs de l'entreprise (ordinateurs, logiciels, imprimantes, etc.), ainsi que de g√©rer les contrats de maintenance et les licences logicielles associ√©s.
  - **Gestion des utilisateurs** : L'outil permet de cr√©er des comptes utilisateurs et de leur assigner des profils avec des droits sp√©cifiques (**Admin**, **Technicien**, **Hotliner**, **Observer**, **Self-Service**). Cette gestion fine des permissions repose sur le principe des **ACL (Access Control List)**, qui d√©finissent pr√©cis√©ment qui peut voir ou modifier quoi dans l'application.

- **Gestion des Tickets (Incidents & Demandes)** :
  - C'est le c≈ìur de GLPI. Les utilisateurs peuvent soumettre des **incidents** (pannes) ou des **demandes de service** via une interface simple.
  - Chaque ticket suit un **workflow** clair : cr√©ation, assignation, r√©solution et cl√¥ture, ce qui permet de tracer chaque √©tape et d'assurer une prise en charge efficace.
  - Les tickets sont prioris√©s en fonction de leur **impact** et de leur **urgence**, conform√©ment aux principes ITIL.

- **Indicateurs de Performance (KPIs)** :
    GLPI permet de mesurer l'efficacit√© du support technique gr√¢ce √† des indicateurs cl√©s:
  - **TTO (Time To Own)** : Temps entre la cr√©ation d'un ticket et sa prise en charge par un technicien.
  - **TTR (Time To Resolve)** : Temps total entre la cr√©ation et la r√©solution compl√®te du ticket.
    Ces m√©triques sont essentielles pour √©valuer et am√©liorer la r√©activit√© de l'√©quipe support.

- **Autres fonctionnalit√©s cl√©s** :
  - **Base de connaissances** : Un espace pour documenter les solutions aux probl√®mes r√©currents et les proc√©dures, accessible aux techniciens et aux utilisateurs.
  - **Gestion des changements et des projets** : GLPI permet de suivre les modifications apport√©es √† l'infrastructure IT et de g√©rer des projets de A √† Z.
  - **Rapports et statistiques** : L'outil peut g√©n√©rer des rapports d√©taill√©s sur les performances, l'√©tat du parc ou l'activit√© des utilisateurs pour aider √† la prise de d√©cision.

- **Pratiques ITIL dans GLPI** :
  - **Gestion des Niveaux de Service (SLM)** : Cette pratique est mat√©rialis√©e par le **SLA (Service Level Agreement)**. C'est un contrat formel entre un fournisseur de services et un client qui d√©finit les attentes en mati√®re de performance, les niveaux de service promis, les d√©lais de r√©ponse et de r√©solution (comme le TTO et le TTR), ainsi que les cons√©quences en cas de non-respect des engagements.

[Challenge A208](/challenges/Challenge_A208.md) : Installation GLPI Agent et test de ticketing.

>üìö Ressources :
>
>- [GLPI server](https://glpi.pandit.fr/public/)
>- [GLPI Documentation](https://help.glpi-project.org/documentation/fr)

[Retour en haut](#-table-des-mati√®res)

---

### üõ†Ô∏è Fin Saison A2. Support aux Utilisateurs

[QCM Saison A2](https://forms.gle/k9oAMPjiy1Eb2U7x9)

![R√©sultat QCM](/images/2025-10-31-09-04-11.png)

[Retour en haut](#-table-des-mati√®res)

---

## **üåê Saison A3. R√©seau**

> Cette saison introduit les concepts fondamentaux des r√©seaux informatiques. L'objectif est de comprendre le mod√®le OSI, la suite TCP/IP, l'adressage (IPv4/IPv6) et la configuration des √©quipements cl√©s comme les switchs, les routeurs (Cisco) et les pare-feux (pfSense), en utilisant des outils de simulation tels que Cisco Packet Tracer.

---

### üåê A301. Fondamentaux R√©seau & Ethernet

> Ce cours couvre les briques de base de la communication r√©seau, des architectures logiques (Client/Serveur) aux supports physiques (Ethernet).

#### Rappels SA1

Deux types de masques de sous-r√©seau :

- masques **FLSM** (Fixed Length Subnet Mask masque √† "taille fixe" en fran√ßais)
- masques **VLSM** (Variable Length Subnet Mask, masque √† "taille variable")

Les masques √† taille fixe FLSM (√† connaitre par coeur) :

- /24 : 255.255.255.0
- /16 : 255.255.0.0
- /8  : 255.0.0.0

Avec un masque √† taille fixe, on "coupe" l'adresse IP pile poil entre 2 octets !

Exemple, avec 192.168.1.42 :

- si on a un masque /24, on coupe entre le 3√®me et le 4√®me octet :
  - partie r√©seau : 192.168.1
  - partie machine : 42
  - adresse de r√©seau : 192.168.1.0 (on prend la partie r√©seau et on met les octets restants √† 0)
  - adresse de broadcast : 192.168.1.255 (on prend la partie r√©seau et on met les octets restants √† 255)
  - plage utilisable : 192.168.1.1 -> 192.168.1.254
  - nombre de machine : 254 machines max

- si on a un masque /16, on coupe entre le 2√®me et le 3√®me octet :
  - partie r√©seau : 192.168
  - partie machine : 1.42
  - adresse de r√©seau : 192.168.0.0 (on prend la partie r√©seau et on met les octets restants √† 0)
  - adresse de broadcast : 192.168.255.255 (on prend la partie r√©seau et on met les octets restants √† 255)
  - plage utilisable : 192.168.0.1 -> 192.168.255.254
  - nombre de machine : 2^(32 - masque au format CIDR) - 2 = 65 534 machines

- si on a un masque /8, on coupe entre le 1er et le 2√®me octet :
  - partie r√©seau : 192
  - partie machine : 168.1.42
  - adresse de r√©seau : 192.0.0.0 (on prend la partie r√©seau et on met les octets restants √† 0)
  - adresse de broadcast : 192.255.255.255 (on prend la partie r√©seau et on met les octets restants √† 255)
  - plage utilisable : 192.0.0.1 -> 192.255.255.254
  - nombre de machine : 2^(32 - masque au format CIDR) - 2 = 16 777 214 machines

Pour les masques √† taille variable (VLSM), pas le choix, il va falloir faire des calculs !
On a vu deux m√©thodes en SA1 :

- m√©thode "classique", qui n√©cessite plein de conversions binaire/d√©cimal
- m√©thode du "nombre magique", qui ne n√©cessite presque pas de calculs et pas de conversion !

Quelle que soit la m√©thode, il faut retenir quelques petites choses par coeur !

‚ö†Ô∏è Un masque de sous-r√©seau ne peut pas √™tre compos√© de n'importe quelles valeurs, puisque tous les 1 doivent √™tre √† gauche et tous les 0 √† droite dans sa notation binaire.

>- 1111 1111 = 255
>- 1111 1110 = 254 (-1)
>- 1111 1100 = 252 (-2)
>- 1111 1000 = 248 (-4)
>- 1111 0000 = 240 (-8)
>- 1110 0000 = 224 (-16)
>- 1100 0000 = 192 (-32)
>- 1000 0000 = 128 (-64)

√Ä partir de √ßa, on peut retrouver la correspondance CIDR - notation classique de n'importe quel masque !

üí° Pour rappel, la notation CIDR c'est le nombre de bits √† 1 dans le masque de sous-r√©seau (en notation binaire)

>- /32 = 255.255.255.255 (1111 1111.1111 1111.1111 1111.1111 1111)
>- /31 = 255.255.255.254 (1111 1111.1111 1111.1111 1111.1111 1110)
>- /30 = 255.255.255.252 (1111 1111.1111 1111.1111 1111.1111 1100)
>- /29 = 255.255.255.248
>- /28 = 255.255.255.240
>- ...
>- /24 = 255.255.255.0
>- ...
>- /19 = 255.255.224.0
>- /18 = 255.255.192.0
>- /17 = 255.255.128.0
>- /16 = 255.255.0.0
>- ...
>- /8  = 255.0.0.0
>- /7  = 254.0.0.0
>- ...
>- /0  = 0.0.0.0

##### M√©thode du nombre magique

**1er exemple** : 10.42.153.87 /17

D'abord, on doit d√©terminer l'octet significatif dans le masque de sous-r√©seau.

S'il est au format CIDR, il faut le convertir dans son format "classique" en utilisant les infos √† retenir par coeur ci-dessus.

/17 -> 255.255.128.0

L'octet significatif, c'est l√† o√π intervient la "coupure" entre partie r√©seau et partie machine.

Ici, c'est 128.

On d√©termine ensuite le nombre magique en faisant 256 - octet significatif : 256 - 128 = 128

On doit ensuite lister tous les multiples du nombre magique jusqu'√† 256 : 0, 128, 256

Pour obtenir l'adresse de r√©seau, on remplace l'octet significatif dans l'adresse IP par le multiple du nombre magique inf√©rieur ou √©gal √† la valeur de cet octet. Dans notre cas, on remplace donc 153 par 128. Et on met tous les octets restants (√† droite) √† 0.

adresse de r√©seau : 10.42.128.0

Pour l'adresse de broadcast, on remplace ce m√™me octet par le multiple suivant - 1 ! Et on met tous les octets restants √† 255.

adresse de broadcast : 10.42.255.255

On peut d√©terminer la plage utilisable : 10.42.128.1 -> 10.42.255.254

Nombre de machines : 2 ^ (32 - masque CIDR) - 2 : 2^15 -2 = 32 766 machines max

**2√®me exemple** : 10.42.153.87 /28

/28 correspond √† 255.255.255.240

nombre magique = 256 - 240 = 16

multiples du nb magique : 0, 16, 32, 48, 64, 80, 96, 112, ... 256

adresse de r√©seau : 10.42.153.80
adresse de broadcast : 10.42.153.95

plage utilisable : 10.42.153.81 -> 10.42.153.94
nombre de machine : 14

---

#### üåê A301. Introduction R√©seau & Ethernet

- **R√®gles de Communication** : Toute communication n√©cessite trois √©l√©ments : une **source** (exp√©diteur), une **destination** (destinataire) et un **canal** (m√©dia). Ces √©changes sont r√©gis par des **protocoles**, qui sont des r√®gles d√©finissant l'encodage, le formatage, la taille et la synchronisation des messages.

- **Encapsulation** : C'est le processus qui consiste √† "emballer" les donn√©es dans un format sp√©cifique, appel√© **trame** (frame), avant de les envoyer. Cette "enveloppe" (la trame) contient les adresses source et destination, √† l'instar d'une lettre postale.

- **Modes de Remise** :

  - **Unicast** : 1-√†-1 (une source vers une destination).
  - **Multicast** : 1-√†-plusieurs (une source vers un groupe d√©fini).
  - **Broadcast** : 1-√†-tous (une source vers tous les participants du r√©seau).

- **Canaux de Communication** :

  - **Simplex** : Communication √† sens unique (ex: la radio FM).
  - **Half-duplex** : Communication dans les deux sens, mais pas simultan√©ment (ex: talkie-walkie).
  - **Full-duplex** : Communication simultan√©e dans les deux sens (ex: t√©l√©phone).

- **Architectures R√©seau** :

  - **Client/Serveur** : Un **serveur** (qui peut √™tre un mat√©riel d√©di√© ou un logiciel) fournit un service, et un **client** le consomme (ex: un PC acc√©dant √† un site web). Les serveurs mat√©riels sont souvent au format **rack** (ex: 1U, 2U) pour √™tre mont√©s dans des baies 19 pouces, situ√©es dans des salles serveurs s√©curis√©es et climatis√©es. Les serveurs logiciels fournissent des services sp√©cifiques comme des serveurs **Web** (HTTP), de **fichiers** (FTP/SMB), ou d'**annuaire** (LDAP).
  - **Pair-√†-Pair (Peer-to-Peer)** : Chaque machine est √† la fois client et serveur (ex: partage de fichiers en torrent).

- **Protocole Ethernet** : C'est le protocole standard pour les r√©seaux locaux (LAN). Il d√©finit les normes de c√¢blage et de signalisation.

  - **Normes** : 100BASE-T (Fast Ethernet), 1000BASE-T (Gigabit Ethernet), 10GBASE-T, etc.
  - **C√¢blage** : Utilise des **c√¢bles √† paires torsad√©es** (ex: Cat 5e 1Gbit/s, Cat 6 1Gbit/s+PoE, Cat 6a 10Gbit/s, Cat 7, Cat 8) avec un connecteur **RJ45** (sauf Cat 7). En France, on utilise aussi la notion de **Grades** (ex: Grade 3 TV) pour les installations domestiques.
  - **Blindage** : Les c√¢bles √† paires torsad√©es ont diff√©rents types de blindage pour se prot√©ger des interf√©rences. La nomenclature (X/YTP) d√©crit le blindage global (X) et le blindage par paire (Y) : **U/UTP** (aucun blindage), **F/UTP** (blindage global en aluminium), **U/FTP** (blindage par paire), **S/FTP** (tresse globale et blindage par paire), etc.
  - **Sertissage** : Les c√¢bles sont sertis selon deux normes : **T-568A** et **T-568B**. Un c√¢ble **droit** (m√™me norme aux deux bouts) sert √† connecter un appareil √† un √©quipement central (PC -\> Switch). Un c√¢ble **crois√©** (normes diff√©rentes) servait √† relier deux appareils identiques (PC -\> PC ou Switch -\> Switch).
  - **Auto MDI-X** : Aujourd'hui, cette distinction est largement obsol√®te car la plupart des √©quipements modernes peuvent "croiser" les paires automatiquement.

![Blindages](/images/2025-11-03-13-28-06.png)

[Challenge A301](/challenges/Challenge_A301.md) : mise en place d'un r√©seau et ping sur Packet Tracer.

>**üìö Ressources :**
>
>- Classes IP : <https://fr.wikipedia.org/wiki/Classe_d%27adresse_IP>
>- Table des masques : <https://www.it-connect.fr/wp-content-itc/uploads/2021/05/reseau-adresse-ipv4-calcul-masque-sous-reseau-12.png>
>- IPcalc : <https://www.mupssoft.com/ipcalc.html> (all OS) / <https://jodies.de/ipcalc> (unix) / <https://sourceforge.net/projects/ipcalc-net/> (windows)
>- Protocoles de communication : <https://fr.wikipedia.org/wiki/Protocole_de_communication>
>- Norme Ethernet : <https://fr.wikipedia.org/wiki/Ethernet>
>- Auton√©gociation : <https://fr.wikipedia.org/wiki/Auton%C3%A9gociation>
>- Paire torsad√©e : <https://fr.wikipedia.org/wiki/Paire_torsad%C3%A9e>

[Retour en haut](#-table-des-mati√®res)

---

### üåç A302. Hubs, Switchs, MAC & ARP

> Ce cours aborde les √©quipements qui connectent les machines sur un r√©seau local (LAN) et les syst√®mes d'adressage qu'ils utilisent.

- **Concentrateur (Hub) vs. Commutateur (Switch)** :

  - Pour connecter plus de deux machines, on utilise un √©quipement central (Hub ou Switch), ce qui cr√©e une topologie en **√©toile**.
  - **Hub (obsol√®te)** : C'est une "multiprise r√©seau". Il est "b√™te" : il re√ßoit une trame sur un port et la retransmet (broadcast) √† **tous** les autres ports, surchargeant inutilement le r√©seau.
  - **Switch** : C'est un appareil "intelligent". Il apprend quelles machines sont connect√©es √† quels ports en inspectant les trames qui passent.
  - **Table MAC** : Il construit une **table d'adresses MAC** (un tableau qui associe un port √† une adresse MAC). Il transmet les donn√©es **uniquement** au port de destination, ce qui rend le r√©seau rapide et efficace.

- **Adresse MAC (Media Access Control)** :

  - C'est l'**adresse physique** (ou mat√©rielle) utilis√©e par les switchs pour identifier les appareils.
  - Elle est **unique au monde** (en th√©orie) et grav√©e sur chaque carte r√©seau (PC, smartphone, frigo connect√©...).
  - Elle est d√©finie par une norme de l'**IEEE** (Institute of Electrical and Electronics Engineers).
  - **Format** : Elle est cod√©e sur 6 octets (48 bits) et s'√©crit en hexad√©cimal (ex: `24:4B:FE:DE:96:80`).
  - **OUI** : Les 3 premiers octets (ex: `24:4B:FE`) sont l'**OUI** (Organizationally Unique Identifier), un pr√©fixe attribu√© par l'**IEEE** √† chaque fabricant. 3 octets √©quivalents √† 24 bits (2^24) soit plus de 16 millions d'adresses uniques possibles.
  - **Trame Ethernet** : L'adresse MAC est utilis√©e pour la source et la destination dans une **trame Ethernet** (Couche 2 OSI).

- **Protocole ARP (Address Resolution Protocol)** :

  - **Probl√®me** : Un switch fonctionne avec les adresses MAC (Couche 2), mais nos applications utilisent des adresses IP (Couche 3). Comment un PC (Alice) trouve-t-il l'adresse MAC d'un autre PC (Bob) en ne connaissant que son adresse IP ?
  - **Solution** : Le protocole ARP.
  - **Fonctionnement** :
        1. Alice envoie une requ√™te ARP en **Broadcast** sur le r√©seau ("Qui a l'IP `192.168.1.42` ?").
        2. Bob (qui poss√®de cette IP) est le seul √† r√©pondre, en **Unicast**, √† Alice ("C'est moi \! Mon adresse MAC est `24:4B:FE:DE:96:80`.").
  - **Cache ARP** : Alice stocke cette correspondance (IP \<-\> MAC) dans son **cache ARP** pour ne pas avoir √† reposer la question pendant un certain temps.
  - **S√©curit√©** : Ce protocole est vuln√©rable √† l'**ARP Poisoning**, une attaque *Man-in-the-Middle* o√π un attaquant se fait passer pour une autre machine (ex: le routeur) en envoyant de fausses r√©ponses ARP.

>**üìö Ressources :**
>
>- IEEE : <https://fr.wikipedia.org/wiki/Institute_of_Electrical_and_Electronics_Engineers>
>- Spoofing : <https://en.wikipedia.org/wiki/MAC_spoofing>
>- ID MAC : <https://macvendors.com/>
>- ARP Poisoning : <https://fr.wikipedia.org/wiki/ARP_poisoning>
>- Cache ARP : Ex√©cuter (win+R) : ``cmd`` : ``arp -a`` (visualiser le cache ARP), ``arp -d`` (effacer le cache ARP)
>- Connexions r√©seau : Ex√©cuter (win+R) : ``ncpa.cpl``
>- Table ARP d'un Switch : CLI / enable, ``show mac address-table dynamic``
>- Scan du r√©seau : nmap ou AngryIPscanner
>- Vid√©o pr√©sentant un Datacenter : <https://www.youtube.com/watch?v=rO6bXt7d2L8>,
>- Valorisation de la Chaleur produite d'un Datacenter : <https://www.youtube.com/watch?v=JTmUUofSt7I>
>- OVHcloud : <https://www.youtube.com/watch?v=W--OHDSoraw>

[Retour en haut](#-table-des-mati√®res)

---

### üèõÔ∏è A303. Mod√®le OSI, TCP/IP, UDP & DHCP

> Ce cours explore les mod√®les de communication r√©seau (OSI et TCP/IP) et les protocoles fondamentaux qui assurent l'adressage (DHCP) et le transport des donn√©es (TCP/UDP).

#### **Le mod√®le OSI**

- **Qu'est-ce que le mod√®le OSI ?**
    D√©velopp√© par l'ISO, c'est un mod√®le th√©orique qui d√©compose la communication r√©seau en 7 couches (layers). Il permet de comprendre le r√¥le de chaque protocole et √©quipement. Il ne s'agit pas d'un protocole en soi, mais d'un "plan" pour cr√©er des normes coh√©rentes.

- **Encapsulation et D√©capsulation** :
    √Ä l'envoi (√©mission), chaque couche ajoute un en-t√™te (encapsulation), comme on mettrait une lettre (donn√©es) dans une enveloppe (segment), puis cette enveloppe dans un colis (paquet), et enfin une √©tiquette d'exp√©dition sur le colis (trame). √Ä la r√©ception, le processus est invers√© (d√©capsulation).

- **Les 7 Couches du Mod√®le OSI** :

  Couches Hautes (Logicielles) :

  - **Couche 7 - Application** : Le point d'acc√®s aux services r√©seau pour les logiciels. C'est la couche avec laquelle l'utilisateur interagit.
    - *Protocoles : HTTP, FTP, SMTP, POP.*
  - **Couche 6 - Pr√©sentation** : G√®re la conversion des donn√©es (encodage, ex: ASCII), le chiffrement/d√©chiffrement et la compression.
  - **Couche 5 - Session** : Ouvre, g√®re et ferme les "transactions" (sessions) entre les applications.

  Couches Basses (Mat√©rielles) :

  - **Couche 4 - Transport** : Assure la connexion de bout en bout et le contr√¥le de flux. C'est ici qu'intervient la notion de **port** (TCP et UDP) pour distinguer les applications sur une m√™me machine.
    - *Unit√© : Segment (TCP) / Datagramme (UDP).*
  - **Couche 3 - R√©seau** (Network) : S'occupe de l'adressage logique (Adresse **IP**) et du routage (d√©terminer le meilleur chemin pour les paquets).
    - C'est ici qu'op√®re le protocole **ARP** (Address Resolution Protocol), qui fait le lien entre la Couche 3 (IP) et la Couche 2 (MAC). Il permet de trouver une adresse MAC √† partir d'une IP.
    - Les machines h√¥tes stockent les correspondances (IP \<-\> MAC) dans un **cache ARP**. Les routeurs et les switchs de niveau 3 maintiennent √©galement une table ARP pour savoir o√π acheminer les paquets.
    - *Unit√© : Paquet.*
  - **Couche 2 - Liaison de donn√©es** (Data Link) : S'occupe de l'adressage physique sur le r√©seau local (LAN) et du transfert des donn√©es entre les entit√©s d'un m√™me r√©seau.
    - C'est la couche de l'**adresse MAC** (Media Access Control). Cette adresse est **unique**, **grav√©e par le fabricant** sur la carte r√©seau (selon une norme **IEEE**) et cod√©e sur 6 octets (48 bits).
    - *Format MAC :* `24:4B:FE:DE:96:80`. Les 3 premiers octets (l'OUI) identifient le fabricant, ce qui lui laisse 24 bits (plus de 16 millions) d'adresses uniques.
    - C'est la couche principale des **Switchs**.
    - *Unit√© : Trame.*
  - **Couche 1 - Physique** : G√®re la transmission des signaux bruts (les bits : 0 et 1) sur le m√©dia physique (c√¢ble cuivre, fibre optique, ondes radio).
    - C'est la couche des **Hubs** et des c√¢bles.
    - *Unit√© : Bit.*

![OSI Layers](/images/2025-11-04-14-53-10.png)

Moyen mn√©motechnique de Haut en bas : **``All People Seem To Need Data Processing``** (Network & Data-link en anglais).

![OSI Layers2](/images/2025-11-04-15-03-09.png)

#### **Suite de Protocoles TCP/IP**

- C'est le **mod√®le pratique** sur lequel fonctionne Internet, d√©velopp√© par la DARPA (inspir√© du projet fran√ßais Cyclades) et rendu obligatoire sur Arpanet en 1983.
  - Le mod√®le TCP/IP standard (d√©fini par la RFC 1122) ne comporte que **4 couches** :
      1. **Application** (Regroupe OSI 5, 6, 7) : HTTP, FTP, DNS...
      2. **Transport** (Identique √† OSI 4) : **TCP**, **UDP**.
      3. **Internet/R√©seau** (Identique √† OSI 3) : **IP**, ICMP.
      4. **Acc√®s R√©seau** (Regroupe OSI 1, 2) : Ethernet, WiFi.
  - **Mod√®le TCP/IP √† 5 couches** : Pour faciliter la comparaison avec le mod√®le OSI, il est aussi courant de le pr√©senter en 5 couches, en s√©parant la couche "Acc√®s R√©seau" en deux : **Liaison de donn√©es (C2)** et **Physique (C1)**.

![TCP/IP](/images/2025-11-05-11-01-13.png)

- **TCP vs. UDP (Couche Transport)** :

  - **TCP (Transmission Control Protocol)** :

    - **Fiable** et **orient√© connexion**. Il √©tablit une connexion ("three-way handshake" : SYN, SYN-ACK, ACK) avant d'envoyer des donn√©es.
    - Il garantit que **tous les segments arrivent dans l'ordre** et sans erreur (il accuse r√©ception de chaque segment et g√®re la retransmission des segments perdus).
    - Utilis√© pour : Web (HTTP/HTTPS), e-mail (SMTP), transfert de fichiers (FTP).
  - **UDP (User Datagram Protocol)** :
    - **Non fiable** et **sans connexion** ("fire and forget"). Il envoie les datagrammes sans v√©rifier s'ils arrivent.
    - **Avantage** : Tr√®s rapide, l√©ger et faible latence.
    - Utilis√© pour : Streaming vid√©o, jeux en ligne, VoIP, DNS, et les protocoles de diffusion (Broadcast/Multicast) comme le DHCP.
    - **Ports** : Les deux protocoles utilisent des num√©ros de **ports** (cod√©s sur 16 bits) pour permettre √† l'ordinateur de savoir √† quelle application (processus) remettre les donn√©es. (ex: HTTP: 80, HTTPS: 443, FTP: 21, SSH: 22, DNS: 53).

![TCP/IP Protocoles Ports](/images/2025-11-05-11-01-36.png)

![Encapsulation](/images/2025-11-05-10-59-19.png)

#### **DHCP (Dynamic Host Configuration Protocol)**

- C'est un protocole de la couche Application qui permet √† une machine (client) d'obtenir **automatiquement** sa configuration r√©seau aupr√®s d'un **serveur DHCP**. Il utilise UDP car il doit contacter le serveur via un **Broadcast**, ce que TCP ne permet pas.
  - **Configuration fournie** : Adresse IP, Masque de sous-r√©seau, Passerelle par d√©faut, Serveurs DNS, et la dur√©e du **bail DHCP** (la "location" de l'adresse IP).
  - **Processus (D.O.R.A.)** :

    - **D**iscover : Le client envoie un **Broadcast** ("Il y a un serveur DHCP ?").
    - **O**ffer : Un ou plusieurs serveurs DHCP r√©pondent avec une offre d'adresse IP.
    - **R**equest : Le client choisit une offre (g√©n√©ralement la premi√®re re√ßue) et envoie un **Broadcast** pour l'accepter (informant les autres serveurs qu'ils n'ont pas √©t√© choisis).
    - **A**CK (Acknowledge) : Le serveur choisi confirme l'attribution et envoie le reste de la configuration (masque, DNS, etc.) ainsi que la dur√©e du bail.

[Challenge A303](/challenges/Challenge_A303.md) : cr√©ation d‚Äôun plan d‚Äôadressage

> **üìö Ressources :**
>
>- Mn√©motechnique mod√®le OSI (de bas en haut) : ``Pour Le R√©seau Tout Se Passe Automatiquement`` ou ``Petit Lapin Rose Trouv√© √† la SPA``
>- Mn√©motechnique mod√®le OSI (de haut en bas) : ``Apr√®s Plusieurs Semaines, Tout Respire La paix`` ou **``All People Seem To Need Data Processing``** (Network & Data-link en anglais).
>- RFC 1122 & 23 : <https://www.rfc-editor.org/rfc/rfc1122.html> <https://www.rfc-editor.org/rfc/rfc1123> Exigences pour les h√¥tes Internet ‚Äì Couches de communication, est une sp√©cification officielle publi√©e en octobre 1989 par l'Internet Engineering Task Force (IETF)
>- Repr√©sentations TCP/IP : <https://reussirsonccna.fr/wp-content/uploads/2014/10/modele_TCPIP_evolution.png>
>- Protocoles par couches : <https://reussirsonccna.fr/wp-content/uploads/2014/10/ports-connus.png>
>- Protocole TCP : <https://fr.wikipedia.org/wiki/Transmission_Control_Protocol>
>- MTU : <https://fr.wikipedia.org/wiki/Maximum_transmission_unit>
>- Jumbo frames : <https://fr.wikipedia.org/wiki/Trame_g%C3%A9ante>
>- Protocole UDP : <https://fr.wikipedia.org/wiki/User_Datagram_Protocol>
>- Liste de ports logiciels : <https://fr.wikipedia.org/wiki/Liste_de_ports_logiciels>
>- Protocole DHCP : <https://fr.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol>
>- Mn√©motechnique requ√™te DHCP : DORA (Discover , Offer, Request, Acknowledge)
>- Protocole APIPA : <https://fr.wikipedia.org/wiki/Automatic_Private_Internet_Protocol_Addressing>
>- R√©seau priv√© RFC 1918 : <https://fr.wikipedia.org/wiki/R%C3%A9seau_priv%C3%A9>
>- Liaison S√©rie (RS-232) : <https://fr.wikipedia.org/wiki/Transmission_s%C3%A9rie>
>- PuTTY (√©mulateur de terminal/client pour les protocoles SSH, Telnet, rlogin, et TCP brut) : <https://www.chiark.greenend.org.uk/~sgtatham/putty/>

[Retour en haut](#-table-des-mati√®res)

---

### üåê A304. Cisco IOS & Routage Statique

> Ce cours introduit le routeur, l'√©quipement de Couche 3 qui interconnecte diff√©rents r√©seaux. Il couvre les bases du syst√®me d'exploitation Cisco (IOS), la connexion initiale en console, et la configuration des interfaces et des routes statiques.

- **Le Routeur (Couche 3)** : Un routeur est un √©quipement r√©seau op√©rant √† la **Couche 3 (R√©seau)** du mod√®le OSI. Son r√¥le principal est d'**interconnecter des r√©seaux diff√©rents** (ex: LAN 1 en `192.168.1.0/24` et LAN 2 en `172.16.0.0/16`) en "routant" les paquets IP d'une interface √† l'autre.

- **Cisco IOS (Internetwork Operating System)** : C'est le syst√®me d'exploitation qui √©quipe la plupart des routeurs et switchs Cisco. La configuration se fait principalement via une **Interface en Ligne de Commande (CLI)**.

- **Acc√®s Console (Configuration Initiale)** :

  - Pour la premi√®re configuration (avant que le r√©seau ne soit fonctionnel), on acc√®de au routeur via un **c√¢ble console** (bleu, type RJ45 vers DB9 ou USB).
  - On utilise un logiciel (ex: **PuTTY**) sur le port **COM** de l'ordinateur (vitesse : **9600**) pour se connecter.

- **Fichiers de Configuration et Modes IOS** :

  - IOS utilise deux fichiers de configuration :
        1. `running-config` : La configuration active, stock√©e en **RAM** (volatile). Les modifications sont appliqu√©es instantan√©ment.
        2. `startup-config` : La configuration de d√©marrage, stock√©e en **NVRAM** (non-volatile).
  - **Il est imp√©ratif** de sauvegarder les modifications de la `running-config` vers la `startup-config` avec la commande `copy running-config startup-config` pour qu'elles persistent apr√®s un red√©marrage.
  - La navigation dans l'IOS se fait via diff√©rents modes :
    - **User EXEC** (`Router>`) : Mode de base, tr√®s limit√©.
    - **Privileged EXEC** (`Router#`) : Acc√®s avec `enable`. Permet la v√©rification (`show...`) et la sauvegarde (`copy...`).
    - **Global Configuration** (`Router(config)#`) : Acc√®s avec `configure terminal`. Permet de modifier la configuration globale (ex: `hostname R1`, `enable secret [mot_de_passe]`).
    - **Interface Configuration** (`Router(config-if)#`) : Acc√®s avec `interface [type/num]`. Permet de configurer une interface (ex: `ip address 192.168.1.1 255.255.255.0`, `no shutdown`).

- **Table de Routage & Routes Statiques** :

  - La **table de routage** est le "cerveau" du routeur ; il l'utilise pour d√©cider o√π envoyer un paquet. Elle contient les r√©seaux directement connect√©s, les routes statiques et les routes apprises dynamiquement.
  - Une **route statique** est une route qu'un administrateur ajoute manuellement.
    - *Commande :* `ip route [r√©seau_destination] [masque] [ip_du_prochain_routeur]`
  - Une **route par d√©faut** est une route statique sp√©ciale (`0.0.0.0 0.0.0.0`) qui capture tout le trafic sans destination connue (g√©n√©ralement vers Internet).

- **Routeur en tant que Serveur DHCP** : Un routeur Cisco peut aussi √™tre configur√© pour agir comme un serveur DHCP (`ip dhcp pool ...`) afin d'attribuer automatiquement des adresses IP aux clients de son r√©seau local (LAN).

[Challenge A304](/challenges/Challenge_A304.md) : Config de Routeurs et LANs sur Packet Tracer

> **üìö Ressources :**
>
>**Config Switch cmd :**
>
>1. enable
>2. show running-config -> **sh run**
>3. configure terminal -> **conf t**
>4. **hostname** XXX = nom du Switch
>5. **enable secret** XXX = password
>6. interface Vlan 1 = pour config l'IP du VLAN
>7. ip address 192.168.0.x 255.255.255.x
>8. no shutdown -> **no shut**
>9. **show ip interface brief** = montre les IP sur l'interface
>10. end
>11. copy running-config startup-config -> **copy run sta**
>
>- Ctrl + Shift + 9 (ou 6) stop une commande en cours
>- Plages IP attribu√©es sur un /24 (exemple)  1.0 : R√©seau, 1.1 : Routeur, 1.2 -> 1.99 : Infra, 1.100 -> 1.250 : DHCP (les machines clients), 1.254 : Switch, 1.255 : Broadcast.
>
>Routeur : <https://fr.wikipedia.org/wiki/Routeur>
>
>**Config Routeur cmd :**
>
>1. enable
>2. conf t
>3. hostname
>4. enable secret
>5. interface gigabitethernet 0/1
>6. ip address 172.16.0.1 255.255.255.0
>7. no shutdown
>8. exit / end
>9. sh run
>10. copy run sta
>
>Table de routage : <https://fr.wikipedia.org/wiki/Table_de_routage>
>
>**Config Routage cmd :** Route par d√©faut -> ip route 0.0.0.0 0.0.0.0 xx.xx.xx.xx puis end et show ip route pour voir
>
>**Config DHCP Routeur :**
>
>1. conf t
>2. ip dhcp pool LAN3
>3. network 10.0.0.0 255.255.0.0
>4. default-router 10.0.0.1
>5. dns-server 8.8.8.8
>6. exit
>7. ip dhcp excluded-address 10.0.0.1 10.0.0.10
>8. end
>
>Pour consulter : show ip dhcp binding

[Retour en haut](#-table-des-mati√®res)

---

### üîê A306. DNS, Telnet et SSH

> Ce cours couvre les protocoles essentiels pour la communication r√©seau (DNS) et l'administration √† distance (Telnet & SSH), y compris leur configuration de base sur des √©quipements Cisco.

- **DNS (Domain Name System)** :

  - C'est un protocole de la **Couche 7 (Application)** qui agit comme "l'annuaire d'Internet". Sa fonction principale est de traduire les noms de domaine (ex: `google.com`) que les humains peuvent lire en adresses IP (ex: `172.217.16.14`) que les machines utilisent pour communiquer.
  - Il utilise principalement **UDP** sur le **port 53** pour des requ√™tes rapides.
  - Sur un √©quipement Cisco, on configure un client DNS (pour que le routeur lui-m√™me puisse r√©soudre les noms) avec la commande :
    - `ip name-server [adresse_ip_dns]`
  - La recherche DNS est activ√©e par d√©faut (`ip domain-lookup`). Si elle est d√©sactiv√©e, le routeur ne tentera pas de traduire les commandes inconnues (comme une faute de frappe) en nom de domaine, ce qui √©vite les temps d'attente "Translating...".
    - `no ip domain-lookup` (pour d√©sactiver la recherche)

  - Il y a plusieurs types d'enregistrements DNS :
    - type A : faire matcher un nom de domaine avec une adresse IPv4
    - type AAAA : faire matcher un nom de domaine avec une adresse IPv6
    - type CNAME : alias, fait matcher un nom de domaine avec un autre nom de domaine

- **Telnet (Telecommunication Network)** :

  - Un protocole d'administration √† distance de la **Couche 7 (Application)** qui permet d'acc√©der √† la CLI d'un √©quipement.
  - Il utilise **TCP** sur le **port 23**.
  - **OBSOL√àTE ET NON S√âCURIS√â** : Telnet est √† proscrire en production car il transmet toutes les informations, y compris les mots de passe, en **texte clair**. Un attaquant peut facilement "sniffer" le r√©seau (ex: via ARP Poisoning) et intercepter les identifiants.
  - **Configuration Cisco (pour d√©mo)** :

    ```bash
    Router(config)# line vty 0 4
    Router(config-line)# transport input telnet
    Router(config-line)# password [mot_de_passe]
    Router(config-line)# login
    ```

- **SSH (Secure Shell)** :

  - Le successeur **s√©curis√©** de Telnet. Il utilise le **chiffrement asym√©trique** (ex: RSA) pour √©changer une cl√© de session, puis chiffre l'int√©gralit√© de la communication.
  - Il utilise **TCP** sur le **port 22**.
  - **Configuration Cisco (requise)** :

    ```bash
    # 1. D√©finir un nom d h√¥te
    Router(config)# hostname [NomDuRouteur]

    # 2. D√©finir un nom de domaine IP
    [NomDuRouteur](config)# ip domain-name [nom_domaine.local]

    # 3. G√©n√©rer les cl√©s de chiffrement RSA
    [NomDuRouteur](config)# crypto key generate rsa
    (Choisir une taille de cl√©, ex: 2048)

    # 4. Forcer la version 2 de SSH (plus s√©curis√©e)
    [NomDuRouteur](config)# ip ssh version 2

    # 5. Cr√©er un utilisateur local
    [NomDuRouteur](config)# username [nom_admin] password [mot_de_passe_secret]

    # 6. Configurer les lignes virtuelles (VTY)
    [NomDuRouteur](config-line)# line vty 0 4
    [NomDuRouteur](config-line)# transport input ssh
    [NomDuRouteur](config-line)# login local 
    ```

- **Lignes VTY (Virtual Teletype)** : Ce sont les lignes de terminal virtuelles d'un √©quipement Cisco. Leur nombre (ex: `0 4` pour 5 lignes) d√©termine combien de sessions d'administration √† distance (Telnet ou SSH) peuvent √™tre ouvertes simultan√©ment. Un peu comme une ligne t√©l√©phonique.

**Correction** [packet tracer](/challenges/Challenge_A305_correction.pkt) du [Challenge A305](/challenges/Challenge_A305.md)

[Challenge A306](/challenges/Challenge_A306.md) : DNS et SSH dans Packet Tracer

> üìö **Ressources :**
>
>
>**Commande traceroute :**
>
>- sur MacOS/Linux : traceroute
>- sur Windows : tracert
>
>Mise en place d'un **agent relais DHCP** : <https://www.it-connect.fr/mise-en-place-dun-agent-relais-dhcp/>
>
>Pour se connecter en SSH le clcient le plus connu est [PuTTY](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html), il en existe d'autres comme [MobaXterm](https://mobaxterm.mobatek.net/)

[Retour en haut](#-table-des-mati√®res)

---

### üè† A307. RFC1918, NAT & self-hosting

> Ce cours explique la diff√©rence fondamentale entre les adresses IP publiques et priv√©es (RFC1918) et introduit le m√©canisme de traduction NAT qui permet aux r√©seaux locaux d'acc√©der √† Internet. Il aborde √©galement le "self-hosting" via la redirection de port.

- **Adresses IP Publiques vs. Priv√©es (RFC1918)** :

  - Les routeurs sur Internet ne savent router que des **adresses IP publiques**, qui sont uniques au monde (ex: `92.34.56.78`).
  - Pour √©viter l'√©puisement des adresses IPv4, la **RFC1918** a d√©fini des plages d'**adresses IP priv√©es**. Celles-ci sont non-routables sur Internet et r√©serv√©es √† l'usage interne des r√©seaux locaux (LAN).
  - **Les plages priv√©es (√† conna√Ætre) sont :**
    - `10.0.0.0` √† `10.255.255.255` (Classe A, `10.0.0.0/8`)
    - `172.16.0.0` √† `172.31.255.255` (Bloc de 16 Classes B, `172.16.0.0/12`)
    - `192.168.0.0` √† `192.168.255.255` (Bloc de 256 Classes C, `192.168.0.0/16`)

- **Principe du NAT (Network Address Translation)** :

  - Le **NAT** est le m√©canisme qui permet √† des machines avec des adresses IP priv√©es d'acc√©der √† Internet.
  - Le **routeur de bordure** (votre box Internet) sert d'interm√©diaire :
        1. **Envoi** : Quand un PC (`192.168.1.5`) envoie un paquet vers Internet, le routeur **traduit** l'adresse IP source priv√©e en sa **propre adresse IP publique** (`12.34.56.78`).
        2. **R√©ception** : Quand le serveur Internet r√©pond au routeur (`12.34.56.78`), ce dernier consulte sa **table NAT** (qui m√©morise les correspondances) et re-traduit l'IP de destination vers l'IP priv√©e d'origine (`192.168.1.5`).

- **Types de NAT** :

  - **NAT Statique** : Fait une correspondance 1-pour-1 entre une IP priv√©e et une IP publique. (Ex: `192.168.1.10` utilise *toujours* `90.1.1.10`). C'est utilis√© pour rendre un serveur interne accessible depuis l'ext√©rieur.
  - **NAT Dynamique** : Fait une correspondance "plusieurs-vers-plusieurs". Un pool d'IP priv√©es utilise un pool (plus petit) d'IP publiques. Si le pool public est plein, les nouvelles connexions √©chouent.
  - **PAT (Port Address Translation) ou NAT Overload** : C'est la forme la plus courante (celle de votre box). Un "plusieurs-vers-un". Toutes les machines du LAN partagent la **seule IP publique** du routeur. Pour distinguer les connexions, le routeur modifie les **ports source** (ex: PC 1 utilise le port 50000, PC 2 le port 50001).

- **Self-Hosting (Auto-h√©bergement) & Redirection de Port** :

  - Par d√©faut, un routeur (pare-feu) bloque tout le trafic entrant non-sollicit√©. Pour h√©berger un service (ex: un site web) chez soi (self-hosting), il faut cr√©er une exception.
  - Le **Port Forwarding (Redirection de Port)** est une r√®gle de NAT statique configur√©e sur le routeur.
  - Elle dit : "Tout trafic arrivant sur mon IP publique *sur un port sp√©cifique* (ex: Port 80) doit √™tre redirig√© vers l'IP priv√©e de *ce serveur interne* (ex: `192.168.1.100` sur le Port 80)". Cela cr√©e une "porte" dans votre pare-feu.
  - Il faut √©galement avoir une adresse IP "fullstack", c'est √† dire avoir sa propre adresse IP Publique et non celle donn√©e par le CG-NAT (Carrier-Grade Network Address Translation). C'est une technologie utilis√©e par les fournisseurs d'acc√®s √† Internet (FAI) pour partager une seule adresse IP publique entre des centaines, voire des milliers de clients.

[Challenge A307](/challenges/Challenge_A307.md) : Self Hosting, NAT et redirection dans Packet Tracer.

> üìö **Ressources :**
>
> **Config NAT sur routeur :**
>
>1. conf t
>2. interface gigabitEthernet (c√¥t√© LAN)
>3. ip nat inside
>4. exit
>5. interface gigabitEthernet (c√¥t√© WAN)
>6. ip nat outside
>7. exit
>8. access-list 1 permit x.x.x.0 (IP LAN) x.x.x.255 (masque inverse = wildcard)
>9. ip nat inside source list 1 interface gigabitEthernet (c√¥t√© WAN) overload
>10. exit
>11. show ip nat stat (voir config & stats)
>12. show ip nat translation
>
> **Redirection de Port :**
>
>1. ip nat inside source static tcp 10.10.0.5 80 (IP serveur priv√©e / port) 34.56.78.91 80 (IP router outside publique / port)
>1. NAT et PAT <https://www.it-connect.fr/le-nat-et-le-pat-pour-les-debutants/>
>
> Caddy : <https://github.com/caddyserver/caddy/releases>
>
> JSON : <https://fr.wikipedia.org/wiki/JavaScript_Object_Notation>

[Retour en haut](#-table-des-mati√®res)

---

### [Atelier A308](/challenges/Challenge_A308.md)

Installation de Proxmox sur un serveur OVH, configuration du NAT, installation et configuration du routeur pfSense, et VPN.

---

### üí† A309. VLANs, L3 switchs, WiFi & IPv6

> Ce cours approfondit la segmentation r√©seau avec les VLANs, introduit les switchs de niveau 3 pour le routage, d√©taille les normes et la s√©curit√© du WiFi, et pr√©sente des outils de contr√¥le d'acc√®s comme les proxys et portails captifs.

- **VLANs (Virtual LANs)** :

  - Un VLAN est un **r√©seau local virtuel** qui permet de **cloisonner logiquement** des machines au sein d'un m√™me √©quipement physique (switch).
  - **Avantages** :
    - **S√©curit√©** : Isole les d√©partements ou fonctions sensibles (ex: Compta vs. Invit√©s).
    - **Flexibilit√©** : Permet de regrouper des utilisateurs g√©ographiquement dispers√©s dans le m√™me r√©seau logique.
    - **Optimisation** : R√©duit la taille des **domaines de diffusion** (broadcast domains), ce qui limite le trafic inutile et am√©liore les performances.
  - **Fonctionnement** : On assigne des ports du switch √† un VLAN sp√©cifique (ex: Ports 1-5 pour VLAN 10). Les trames d'un VLAN ne peuvent pas passer directement vers un autre VLAN.
  - **Tagging (802.1Q)** : Pour faire transiter plusieurs VLANs entre deux switchs via un seul c√¢ble, on utilise un lien **Trunk**. Le protocole **802.1Q** ajoute un "tag" (√©tiquette) √† la trame Ethernet pour indiquer son num√©ro de VLAN (VLAN ID).
  - **QoS (Quality of Service)** : Les VLANs facilitent la mise en place de la QoS, par exemple pour prioriser le trafic **VoIP** (t√©l√©phonie sur IP) afin d'assurer une bonne qualit√© d'appel m√™me si le r√©seau est charg√©.

- **Switchs de Niveau 3 (L3 Switchs)** :

  - Contrairement aux switchs classiques (Niveau 2) qui ne comprennent que les adresses MAC, un switch L3 peut traiter les paquets IP et effectuer du **routage**.
  - **Routage Inter-VLAN** : Pour faire communiquer deux VLANs diff√©rents, il faut normalement un routeur. Un switch L3 peut remplir ce r√¥le en interne, routant le trafic entre les VLANs √† tr√®s haute vitesse sans passer par un routeur externe ("router-on-a-stick").
  - Ils sont souvent utilis√©s en **c≈ìur de r√©seau** pour leur performance.

  Sur un switch, chaque port peut √™tre configur√© dans un mode sp√©cifique selon l'√©quipement qui y est connect√©.

- **Mode Access (Acc√®s)** :
  - **Usage** : Utilis√© pour connecter des **√©quipements terminaux** qui ne "comprennent" pas les VLANs (PC, imprimante, cam√©ra, etc.).
  - **Fonctionnement** : Le port est membre d'**un seul VLAN**.
    - Lorsque le switch envoie une trame vers le PC (sortant), il **enl√®ve le tag** VLAN (la trame redevient une trame Ethernet standard).
    - Lorsque le PC envoie une trame au switch (entrant), le switch lui **ajoute le tag** du VLAN configur√© sur ce port.
  - **En bref** : 1 Port = 1 VLAN.

- **Mode Trunk** :
  - **Usage** : Utilis√© pour connecter **deux √©quipements r√©seau** entre eux (Switch vers Switch, ou Switch vers Routeur) pour laisser passer le trafic de plusieurs VLANs.
  - **Fonctionnement** : Le port transporte simultan√©ment les trames de **plusieurs VLANs**.
    - Il utilise le protocole **802.1Q** pour ajouter une √©tiquette (tag) √† chaque trame indiquant son num√©ro de VLAN (VLAN ID), afin que le switch de l'autre c√¥t√© sache √† qui elle appartient.
  - **En bref** : 1 Port = Plusieurs VLANs (trames √©tiquet√©es).

- **VLAN Natif (Native VLAN)** :
  - C'est un concept sp√©cifique au mode **Trunk**.
  - Par d√©faut, sur un lien Trunk, toutes les trames sont tagu√©es... sauf celles du **VLAN Natif**.
  - Les trames qui circulent **sans √©tiquette (untagged)** sur un lien Trunk sont automatiquement consid√©r√©es comme appartenant au VLAN Natif.
  - **S√©curit√©** : Par d√©faut, c'est souvent le VLAN 1. Il est recommand√© de le changer pour un VLAN inutilis√© (ex: VLAN 99 ou 42) pour des raisons de s√©curit√©.

  Il est bon de conna√Ætre les √©quivalences car les termes changent selon les fabricants :

  | Terme Cisco | Terme Standard / Autres | Description |
  | :--- | :--- | :--- |
  | **Access Port** | **Untagged Port** | Port appartenant √† un seul VLAN, trames non tagu√©es. |
  | **Trunk Port** | **Tagged Port** | Port transportant plusieurs VLANs, trames tagu√©es (802.1Q). |

- **WiFi (Wireless Fidelity)** :

  - Ensemble de protocoles de communication sans fil r√©gis par les normes **IEEE 802.11**.
  - **Normes** : Du 802.11b (11 Mbit/s) au moderne 802.11ax (Wi-Fi 6) et au-del√†, offrant des d√©bits toujours plus √©lev√©s et une meilleure gestion de la densit√© d'appareils.
  - **S√©curit√©** :
    - **WEP** : Obsol√®te et non s√©curis√© (cassable en quelques minutes).
    - **WPA/WPA2/WPA3** : Standards actuels. WPA2 (AES) est le minimum recommand√©. WPA3 apporte des am√©liorations contre les attaques par force brute.
  - **Obligations L√©gales (WiFi Public)** : En France, offrir un acc√®s WiFi public (ex: entreprise, h√¥tel) impose des obligations l√©gales, notamment la **conservation des logs de connexion** (qui s'est connect√©, quand, etc.) pour une dur√©e l√©gale (g√©n√©ralement 1 an), conform√©ment aux directives de la CNIL et √† la loi antiterroriste.

- **Proxy & Portail Captif** :

  - **Proxy (Mandataire)** : Un serveur interm√©diaire (Couche 7 Application) qui s'intercale entre l'utilisateur et Internet.
    - R√¥les : Filtrage d'URL (blocage de sites), mise en cache (acc√©l√©ration), anonymisation, et journalisation des acc√®s (logs).
  - **Portail Captif** : Une technique (souvent utilis√©e sur les WiFi publics) qui force tout nouvel utilisateur √† voir une page web sp√©cifique (authentification, acceptation des CGU) avant de pouvoir acc√©der √† Internet.
  - **Filtrage MAC** : M√©thode de s√©curit√© basique (Couche 2) qui autorise ou bloque l'acc√®s au r√©seau selon l'adresse MAC. Elle est peu efficace car l'adresse MAC est facilement falsifiable (spoofing).

[Challenge A309](/challenges/Challenge_A309.md) : Pratiquer les VLAN, Inter-VLAN et ACLs

> üìö **Ressources :**
>
> WiFi : <https://fr.wikipedia.org/wiki/Wi-Fi>
>
> WiFi Protected Access : <https://fr.wikipedia.org/wiki/Wi-Fi_Protected_Access>
>
> CNIL point d'acc√®s et obligations : <https://www.cnil.fr/fr/fournir-un-acces-internet-public-quelles-obligations>
>
> Vlan cmd :
>
> - *show vlan* : affiche les Vlans et les ports
> - *conf t / vlan 10 / name LAN1* : cr√©e un vlan qui se nomme 10 dans la config et visible comme LAN1
> - *conf t / interface range fastEthernet 0/1-12 / switchport mode access / switchport access vlan 10* : configure la plage des ports fastEth 1 √† 12 en mode access sur le vlan 10.
>
> Vlan Trunk : <https://fr.wikipedia.org/wiki/IEEE_802.1Q>
>
> Vlan Trunk cmd :
>
> - *conf t / interface gigabitEthernet 0/1 / switchport mode trunk* : passer l'interface gigEth en mode Trunk sur les 2 switchs pour propager plusieurs vlans.
> - *conf t / vlan 42 / name Management / exit / interface vlan 42 / ip address 10.42.0.1 255.255.255.0 / no shutdown* : cr√©e une interface virtuelle et lui alloue une IP (pour le administrer √† distance sur un switch L2, ou passerelle par d√©faut sur un routeur L3 ).
> - *interface gigabitEthernet 0/1 / switchport trunk native vlan 42* : Passe le Vlan 42 en natif, un seul Vlan untagged autre que le d√©faut permet d'√™tre plus s√©curis√© (Hardening) contre le Vlan Hopping.
> - *interface gigabitEthernet 0/1 / switchport trunk allowed vlan 10,20,42* (sur tous les switchs) : bloque tous les Vlans sauf le 10, 20 et 42. A faire sur tous les switchs.
Passerelle VLan sur Routeur (L3)
> - *conf t / interface vlan 10 / description Passerelle LAN1 / ip address 192.168.1.254 255.255.255.0 / no shutdown* : alloue une IP sur l'interface pour √™tre une Passerelle (idem sur LAN2)
> - *ip routing* : active le routage entre les VLANs
>
> IPv6
>
> - ``.0.0.0.`` peut s'√©crire ``. .``
> - Quasi toujours en /64 moiti√© hextets en pr√©fix, moiti√© en clients
>
>IANA : <https://www.iana.org/numbers>
>
> - Prefixes r√©gionaux : <https://www.iana.org/assignments/ipv6-unicast-address-assignments/ipv6-unicast-address-assignments.xhtml>
>
> ICMP (v6) : <https://fr.wikipedia.org/wiki/Internet_Control_Message_Protocol>
>
> Proxy : <https://fr.wikipedia.org/wiki/Proxy>
>
> Proxy Squid : <https://www.it-connect.fr/proxy-transparent-mise-en-place-de-squid-sur-pfsense/>

[Retour en haut](#-table-des-mati√®res)

---

### üåê Fin Saison A3. R√©seau

[QCM Saison A3](https://forms.gle/SXH9yy4tfSV8ePiW8)

![R√©sultat QCM](/images/2025-11-18-12-11-28.png)

[Retour en haut](#-table-des-mati√®res)

---

## **üí† Saison A4. Windows Server**

> Cette saison se concentre sur l'administration syst√®me dans un environnement Microsoft. L'objectif est de ma√Ætriser l'installation, la configuration et la gestion des services essentiels (AD DS, DNS, DHCP) sur Windows Server.

---

### üñ•Ô∏è A401. Introduction et Installation

> Ce cours introduit la famille des syst√®mes d'exploitation serveurs de Microsoft, leur historique, leurs sp√©cificit√©s par rapport aux versions "publiques" (Windows 10/11), et d√©taille la proc√©dure d'installation et de promotion d'un contr√¥leur de domaine.

- **Introduction et Contexte** :

  - **D√©finition** : Windows Server est une solution con√ßue pour r√©pondre aux besoins d'infrastructure des entreprises, distincte des versions "client" (Windows 10/11).
  - **Part de march√©** : Il domine le monde de l'entreprise avec environ **70% de parts de march√©** mondiales, m√™me si Linux reste majoritaire pour les serveurs Web.
  - **Impact** : Il a standardis√© les infrastructures IT gr√¢ce √† son adoption massive et son int√©gration forte avec l'√©cosyst√®me Microsoft (**Office, Azure**).

- **Historique et √âvolution** :

  - **Les d√©buts (NT)** : Tout commence avec **Windows NT 3.1 Advanced Server** (1993) et **NT 4.0**, s√©parant la branche professionnelle de la branche grand public (Windows 95/98).
  - **Le tournant (2000)** : **Windows 2000 Server** introduit **Active Directory**, r√©volutionnant la gestion centralis√©e des r√©seaux d'entreprise.
  - **La maturit√©** :
    - **Server 2003 & 2008** : Am√©liorations de stabilit√©, introduction de **Hyper-V** (virtualisation) et du mode **Server Core** (sans interface graphique).
    - **Server 2012/2016** : Focus sur le Cloud, l'interface "Metro" et les conteneurs.
  - **Aujourd'hui (2019/2022/2025)** : Int√©gration pouss√©e avec le cloud hybride (**Azure**), s√©curit√© renforc√©e (Windows Defender ATP) et gestion via **Windows Admin Center**.

- **Fonctionnement : R√¥les et Fonctionnalit√©s** :

  - Contrairement √† un Windows classique, Windows Server est modulaire. On n'installe que ce dont on a besoin pour des raisons de s√©curit√© et de performance.
  - **R√¥les** : Ce sont les fonctions principales du serveur (ex: Serveur Web IIS, Serveur DNS, Services de domaine Active Directory).
  - **Fonctionnalit√©s** : Ce sont des outils de support (ex: .NET Framework, Chiffrement BitLocker, Telnet Client).
  - **Gestion** : Tout se g√®re centralement via le **Gestionnaire de serveur** (Server Manager) ou en ligne de commande avec **PowerShell**. Dans le Gestionnaire de serveur on retrouve la **MMC** (Microsoft Management Console). C'est l'outil graphique qui h√©berge les composants (snap-ins) pour g√©rer les diff√©rents r√¥les Windows. .

- **Pr√©paration et Installation (Windows Server 2019)** :

  - **Pr√©requis mat√©riels** : Processeur 64 bits 1.4 GHz, RAM minimum 512 Mo (mais **8 Go** recommand√©s en production), et 32 Go d'espace disque.
  - **Types d'installation** :
    - **Exp√©rience utilisateur (Desktop Experience)** : Avec l'interface graphique compl√®te (GUI), recommand√©e pour les d√©butants.
    - **Server Core** : Sans interface graphique (gestion en ligne de commande), plus l√©ger et s√©curis√© (moins de surface d'attaque), mais plus complexe √† g√©rer.
  - **Processus** : D√©marrage sur l'ISO, choix de la langue, s√©lection de l'√©dition (Standard ou Datacenter), partitionnement du disque et installation des fichiers.

- **Configuration Post-Installation** :

  - **S√©curit√© de base** : D√©finition du mot de passe Administrateur local (complexe requis).
  - **R√©seau** : Attribution imp√©rative d'une **adresse IP statique** et configuration des DNS.
  - **Identit√©** : Renommer le serveur avec un nom coh√©rent avant toute autre action.
  - **Acc√®s** : Activation du Bureau √† distance (RDP) pour l'administration.
  - **Mises √† jour** : Installation critique des correctifs via Windows Update.

- **Promotion en Contr√¥leur de Domaine (Active Directory)** :

  - Pour qu'un serveur devienne le "chef" du r√©seau, on installe le r√¥le **AD DS** (Active Directory Domain Services).
  - **Promotion** : Une fois le r√¥le install√©, on doit "promouvoir" le serveur.
  - **Nouvelle For√™t** : Pour le premier serveur, on cr√©e une nouvelle for√™t et on d√©finit le nom de domaine racine (ex: `thm.local`).
  - **DSRM** : On d√©finit un mot de passe de restauration des services d'annuaire (crucial en cas de crash de l'AD).

[Challenge A401](./challenges/Challenge_A401.md) : Installation de Windows Server 2022 sur VMware.

> **üìö Ressources :**
>
> Wiki Windows Server : <https://en.wikipedia.org/wiki/Windows_Server>
>
> Installation sur Proxmox : <https://getlabsdone.com/how-to-install-windows-server-2019-on-proxmox-step-by-step/>

[Retour en haut](#-table-des-mati√®res)

---

### üè¢ A402. Active Directory Domain Services (AD DS)

> Ce cours d√©taille l'architecture et les composants fondamentaux d'Active Directory, le service d'annuaire de Microsoft qui centralise la gestion des identit√©s et des acc√®s dans un r√©seau Windows.

- **Les Fondations : LDAP** :

  - **LDAP (Lightweight Directory Access Protocol)** est le protocole standard utilis√© pour interroger et modifier les annuaires. Il structure les donn√©es de mani√®re hi√©rarchique (comme un arbre) pour faciliter la recherche.
  - Active Directory est l'impl√©mentation Microsoft de LDAP. Il utilise ce protocole pour communiquer, tout en int√©grant la s√©curit√© Kerberos.

- **Architecture Logique** :

  - **Domaine** : C'est l'unit√© de base d'administration et de s√©curit√©. Il regroupe des objets (utilisateurs, ordinateurs) partageant une base de donn√©es commune.
  - **Arbre (Tree)** : Regroupement de un ou plusieurs domaines partageant un espace de noms DNS contigu (ex: `thm.local` et `us.thm.local`).
  - **For√™t (Forest)** : Le conteneur de plus haut niveau. Elle regroupe un ou plusieurs arbres qui partagent le m√™me **sch√©ma** (d√©finition des objets) et la m√™me configuration. C'est la fronti√®re de s√©curit√© ultime.
  - **OU (Unit√© Organisationnelle)** : Conteneurs √† l'int√©rieur d'un domaine permettant d'organiser les objets (par d√©partement, lieu...) et surtout d'appliquer des **GPO** (Strat√©gies de groupe) ou de d√©l√©guer des droits d'administration.

- **Architecture Physique** :

  - **Site** : Repr√©sente la topologie physique du r√©seau (un ou plusieurs sous-r√©seaux IP). Les sites servent √† optimiser la **r√©plication** (synchronisation) entre les contr√¥leurs de domaine et √† permettre aux utilisateurs de s'authentifier sur le serveur le plus proche.
  - **Contr√¥leur de Domaine (DC)** : Serveur qui h√©berge la base de donn√©es AD (`NTDS.dit`) et le dossier SYSVOL.

- **Gestion des Objets** :

  - **Utilisateurs et Ordinateurs** : Comptes utilis√©s pour l'authentification sur le r√©seau.
  - **Groupes** : Permettent de g√©rer les permissions efficacement (on donne des droits √† un groupe, pas √† un utilisateur seul).
    - **Types** : S√©curit√© (pour les permissions d'acc√®s) ou Distribution (pour les e-mails).
    - **Port√©es** : Domaine Local, Global, Universel (d√©finissent la visibilit√© du groupe dans la for√™t).

- **Le SYSVOL** :

  - C'est un dossier partag√© pr√©sent sur chaque Contr√¥leur de Domaine. Il contient les √©l√©ments publics n√©cessaires aux clients, comme les **scripts de connexion** et les fichiers des **GPO** (Strat√©gies de groupe). Il est automatiquement r√©pliqu√© sur tous les DC.

[Challenge A402](./challenges/Challenge_A402.md) : Installation WS2025 sur Proxmox, AD DS Gestion d'utilisateurs.

> **üìö Ressources :**
>
> Cr√©er un active directory : <https://www.it-connect.fr/creer-un-domaine-ad-avec-windows-server-2016/>
>
> Domaine Forestier : <https://www.it-connect.fr/chapitres/domaine-arbre-et-foret/>
>
> Mise en place step by step :
>
>1. install win serveur (choisir exp√©rience de bureau)
>2. configurer le nom de la machine
>3. mettre une IP statique
>4. ajouter le r√¥le AD DS (ajouter une nouvelle for√™t, choisir "oclock.lan")
>5. promouvoir ce serveur en contr√¥leur de domaine
>
>6. sur une VM Win10, configurer DNS -> utiliser IP statique du serveur windows
>7. renommer la machine
>8. rejoindre le domaine oclock.lan (v√©rifier que le ping du domaine passe avant)

[Retour en haut](#-table-des-mati√®res)

---

### üõ°Ô∏è A403. Strat√©gies de Groupe (GPO)

> Ce cours aborde les Strat√©gies de Groupe (GPO - Group Policy Objects), un outil puissant d'Active Directory pour g√©rer centralement la configuration des utilisateurs et des ordinateurs dans un environnement Windows.

- **Principe des GPO** :
  - Une GPO est un ensemble de param√®tres de configuration appliqu√©s √† des utilisateurs ou des ordinateurs.
  - Elles permettent d'automatiser la gestion, d'appliquer des r√®gles de s√©curit√©, d'installer des logiciels ou de configurer l'environnement de travail (fond d'√©cran, mappage de lecteurs, etc.) √† grande √©chelle.

- **Structure et Application** :
  - **Conteneurs** : Les GPO peuvent √™tre li√©es √† des **Sites**, des **Domaines** ou des **Unit√©s Organisationnelles (OU)**.
  - **H√©ritage** : Par d√©faut, les GPO appliqu√©es √† un conteneur parent sont h√©rit√©es par les conteneurs enfants. Cet h√©ritage peut √™tre bloqu√© ou forc√©.
  - **Ordre d'application (LSDOU)** : Local > Site > Domaine > OU. La derni√®re GPO appliqu√©e l'emporte en cas de conflit (l'OU a donc la priorit√© sur le Domaine).

- **Configuration Utilisateur vs. Ordinateur** :
  - **Configuration Ordinateur** : S'applique au d√©marrage de la machine, quel que soit l'utilisateur qui se connecte (ex: param√®tres de pare-feu, installation de logiciels syst√®me).
  - **Configuration Utilisateur** : S'applique √† l'ouverture de session de l'utilisateur (ex: scripts de connexion, restrictions du panneau de configuration, raccourcis bureau).

- **Gestion des GPO** :
  - L'outil principal est la **Console de gestion des strat√©gies de groupe (GPMC)**.
  - On y cr√©e les objets GPO, on les modifie via l'√©diteur, et on les lie aux conteneurs AD souhait√©s.
  - **Filtrage de s√©curit√©** : Permet de restreindre l'application d'une GPO √† certains utilisateurs, groupes ou ordinateurs sp√©cifiques, m√™me si elle est li√©e √† leur OU.
  - **WMI Filters** : Permettent d'appliquer une GPO selon des crit√®res techniques (ex: version de l'OS, espace disque disponible).

- **Commande utile** :
  - `gpupdate /force` : Force la mise √† jour imm√©diate des strat√©gies de groupe sur le client, sans attendre le cycle de rafra√Æchissement automatique (environ 90 minutes).
  - `gpresult /r` : Affiche un rapport sur les GPO appliqu√©es √† l'utilisateur et √† l'ordinateur, utile pour le diagnostic.

[Challenge A403](./challenges/Challenge_A403.md) : Utilisateurs, Groupes, et GPO Fond d'√©cran.

> **üìö Ressources :**
>
> Contr√¥le de comptes d'utilisateur : <https://learn.microsoft.com/fr-fr/windows/security/application-security/application-control/user-account-control/how-it-works>
>
> GPO sur IT-connect : <https://www.it-connect.fr/chapitres/quest-ce-quune-strategie-de-groupe-ou-gpo/>

[Retour en haut](#-table-des-mati√®res)

---

### üíæ A404. Serveur de fichiers distribu√©s (DFS)

> Ce cours explore le service DFS de Windows Server, essentiel pour centraliser l'acc√®s aux donn√©es, simplifier l'arborescence r√©seau pour les utilisateurs, et garantir la haute disponibilit√© des fichiers gr√¢ce √† la r√©plication.

- **Protocole SMB (Server Message Block)** :
  - C'est le protocole standard des r√©seaux Microsoft pour le partage de fichiers et d'imprimantes.
  - Il permet aux clients d'acc√©der aux ressources via des chemins UNC (ex: `\\NomServeur\NomPartage`).
  - La version moderne (**SMB 3.x**) inclut des fonctionnalit√©s avanc√©es de s√©curit√© (chiffrement) et de performance, essentielles pour les serveurs de fichiers et la virtualisation (Hyper-V).

- **DFS (Distributed File System)** :

  - **D√©finition** : Service Windows Server permettant de regrouper plusieurs partages r√©seau (situ√©s sur diff√©rents serveurs) sous un seul et unique espace de noms logique (ex : `\\domaine.local\partages`).
  - **R√¥le principal - DFS Namespace** : Cr√©e un point d'acc√®s logique et unifi√©. Les utilisateurs n'ont plus besoin de conna√Ætre le nom du serveur physique.
  - **R√¥le secondaire - DFS Replication (DFSR)** : Synchronise les donn√©es entre plusieurs serveurs pour assurer la tol√©rance de panne et la haute disponibilit√©. Si un serveur tombe, les utilisateurs acc√®dent automatiquement √† une copie des donn√©es sur un autre serveur.
  - **B√©n√©fices** : Simplification des chemins d'acc√®s pour les utilisateurs et haute disponibilit√© des donn√©es.

- **Gestion des Permissions : Partage vs. NTFS** :

  - **Permissions NTFS** : S'appliquent au niveau du **syst√®me de fichiers local**. Elles d√©finissent les droits pr√©cis (Lecture, √âcriture, Modification, Contr√¥le total) et s'appliquent apr√®s l'acc√®s au partage.
  - **Permissions de Partage** : G√©r√©es au niveau du **r√©pertoire partag√©** sur le r√©seau. Elles sont plus g√©n√©rales (Lecture, Modification, Contr√¥le total).
  - **R√®gle de cumul** : Les permissions NTFS s'appliquent **apr√®s** les droits de partage. L'utilisateur re√ßoit toujours le **droit le plus restrictif** entre les droits de partage et les droits NTFS.

- **H√©ritage et Bonnes Pratiques** :

  - **H√©ritage** : Transmet automatiquement les droits d√©finis sur un dossier parent aux sous-dossiers et fichiers. Il est possible de d√©sactiver cet h√©ritage ("casser l'h√©ritage") pour isoler et red√©finir des droits sp√©cifiques.
  - **Bonne Pratique (Simplification)** : Pour la simplicit√© administrative, il est courant de donner le droit **Contr√¥le total** au groupe `Tout le monde` (ou `Utilisateurs Authentifi√©s`) sur la **permission de partage**, et de g√©rer toutes les **vraies restrictions** et la s√©curit√© via les **permissions NTFS**.

- **Mod√®le AGDLP / AGP (Mod√®le pour les droits)** :

  - Ce mod√®le est une bonne pratique pour l'administration √©volutive des droits dans les grandes structures :
    - **A**ccounts (Utilisateurs et ordinateurs)
    - plac√©s dans des **G**roupes **D**omains **G**lobaux
    - ajout√©s dans des **L**ocal **P**ermission Groups
    - puis ces groupes re√ßoivent des **P**ermissions sur la ressource (dossiers NTFS ou partages DFS).

- **Tips** :

  - Ajouter le suffixe `$` au nom d'un dossier partag√© (ex : `drivers$`) cache le r√©pertoire aux utilisateurs qui parcourent le r√©seau, tout en permettant l'acc√®s via le chemin UNC complet.
  - Pour les besoins sp√©cifiques, il est parfois plus simple de **casser l'h√©ritage** et de red√©finir manuellement les permissions. Soit en supprimant tout et remettant manuellement, soit en

[Challenge A404](./challenges/Challenge_A404.md) : Cr√©ation de partages et droits.

> **üìö Ressources :**
>
> Serveur de Fichier - ITconnect: <https://www.it-connect.fr/serveur-de-fichiers-les-permissions-ntfs-et-de-partage/>
>
> AGDLP - ITconnect : <https://www.it-connect.fr/agdlp-bien-gerer-les-permissions-de-son-serveur-de-fichiers/>
>
> Documentation DFS ‚Äì Microsoft <https://learn.microsoft.com/fr-fr/windows-server/storage/dfs-namespaces/dfs-overview?tabs=server-manager>
>
> DFS Replication ‚Äì Microsoft <https://learn.microsoft.com/fr-fr/windows-server/storage/dfs-replication/dfs-replication-overview>

[Retour en haut](#-table-des-mati√®res)

---

### üóÑÔ∏è A405. Gestion du Stockage : Filtres, Quotas & Audit

> Ce cours aborde la gestion avanc√©e des serveurs de fichiers, principalement via le r√¥le **FSRM** (File Server Resource Manager / Gestionnaire de ressources du serveur de fichiers). Il permet de contr√¥ler l'utilisation du stockage et de s√©curiser les donn√©es gr√¢ce √† la mise en place de l'audit.

- **Le R√¥le FSRM (Gestionnaire de ressources du serveur de fichiers)** :
  - C'est une fonctionnalit√© de Windows Server qu'il faut installer pour g√©rer finement les quotas et les filtres de fichiers.
  - Contrairement aux quotas NTFS standards (qui s'appliquent √† un volume entier), FSRM permet de g√©rer des quotas par **dossier**.

- **Gestion des Quotas (Limitation d'espace)** :
  - **Objectif** : Emp√™cher la saturation des disques par les utilisateurs et r√©partir √©quitablement les ressources de stockage.
  - **Types de Quotas** :
    - **Quota strict (Hard quota / Inconditionnels)** : Bloque l'√©criture une fois la limite atteinte (l'utilisateur re√ßoit un message "Espace disque insuffisant").
    - **Quota souple (Soft quota / Conditionnels)** : Ne bloque pas l'utilisateur, mais sert √† la surveillance. Il g√©n√®re des alertes (logs, emails √† l'admin) lorsque des seuils sont d√©pass√©s.
  - **Mod√®les** : On utilise des mod√®les de quotas pour appliquer automatiquement des r√®gles (ex: "Limite de 5 Go") √† tous les nouveaux sous-dossiers cr√©√©s.

- **Filtrage de Fichiers (File Screening)** :
  - **Objectif** : Contr√¥ler le type de contenu stock√© sur le serveur (ex: interdire les fichiers personnels comme les MP3 ou les vid√©os AVI sur un serveur professionnel).
  - **Fonctionnement** : Se base sur des **groupes de fichiers** (listes d'extensions, ex: `*.mp3`, `*.mkv`).
  - **Types de filtrage** :
    - **Filtrage actif** : Emp√™che l'utilisateur d'enregistrer le fichier interdit (message "Acc√®s refus√©").
    - **Filtrage passif** : Autorise l'enregistrement mais g√©n√®re une alerte pour l'administrateur (utile pour surveiller sans bloquer le travail).

- **Audit des Acc√®s (Tra√ßabilit√©)** :
  - **Objectif** : Renforcer la s√©curit√© en gardant une trace ("Qui a fait quoi et quand ?") sur les fichiers sensibles. Id√©al pour savoir qui a supprim√© ou modifi√© un fichier critique.
  - **Mise en place (2 √©tapes)** :
        1. **Activer la strat√©gie d'audit** : Via une GPO (Configuration Ordinateur > Strat√©gies > Param√®tres Windows > Param√®tres de s√©curit√© > Strat√©gies locales > Strat√©gie d'audit > **Auditer l'acc√®s aux objets**).
        2. **Configurer la SACL** : Sur le dossier cible (Clic droit > Propri√©t√©s > S√©curit√© > Avanc√© > Onglet **Audit**), on d√©finit *qui* on surveille et pour *quelles actions* (R√©ussite/√âchec de suppression, √©criture, etc.).
  - **Consultation** : Les traces se trouvent dans l'**Observateur d'√©v√©nements**, journal **S√©curit√©**.

[Challenge A405](./challenges/Challenge_A405.md) : Mappage de lecteurs, ressources, quotas, filtres, et audit.

> **üìö Ressources :**
>
> Monter un Lecteur r√©seau par GPO - ITconnect : <https://www.it-connect.fr/comment-monter-un-lecteur-reseau-par-gpo/>
>
> GPSearch Microsoft : <https://gpsearch.azurewebsites.net/>
>
> Audit des Groupes de S√©curit√© de l'AD - ITconnect : <https://www.it-connect.fr/audit-des-groupes-de-securite-de-lactive-directory/>
>
> Audit des acc√®s aux Fichiers et Dossiers - RDR-IT : <https://rdr-it.com/serveur-fichiers-windows-enregistrer-acces-fichiers-dossiers/>

[Retour en haut](#-table-des-mati√®res)

---

### ‚öôÔ∏è A406. Atelier

[Challenge A406](./challenges/Challenge_A406.md) : Atelier de mise en place et gestion de GPO.

et Correction Atelier A407.

[Retour en haut](#-table-des-mati√®res)

---

### üåê A408. DNS & IIS

> Ce cours explore deux r√¥les fondamentaux de Windows Server : le serveur DNS, pilier de la r√©solution de noms dans le r√©seau, et le serveur Web IIS, plateforme d'h√©bergement d'applications et de sites internet. Leur configuration conjointe est essentielle pour rendre les services accessibles de mani√®re conviviale.

- **DNS (Domain Name System)** :

  - **R√¥le** : C'est l'annuaire d'Internet et des r√©seaux locaux. Il convertit des noms de domaine lisibles par l'humain (ex: `www.exemple.com`) en adresses IP utilisables par les machines.
  - **Gestionnaire DNS** : L'outil d'administration sur Windows Server permet de configurer deux types de zones principales :
    - **Zone de recherche directe** : Associe un nom √† une IP (le cas le plus courant). Elle contient des enregistrements de type **A** (IPv4), **AAAA** (IPv6), **CNAME** (Alias), **MX** (Messagerie) ou **TXT** (Infos diverses).
    - **Zone de recherche invers√©e** : Associe une IP √† un nom. Elle utilise des enregistrements de type **PTR** (Pointeur). Utile pour le diagnostic r√©seau et certaines v√©rifications de s√©curit√©.

- **IIS (Internet Information Services)** :

  - **D√©finition** : C'est le serveur Web modulaire et extensible de Microsoft. Il permet d'h√©berger des sites web (HTML, ASP.NET), des services FTP et des API.
  - **Test rapide** : Apr√®s l'installation du r√¥le, acc√©der √† `http://127.0.0.1` ou `http://localhost` depuis le serveur affiche la page d'accueil par d√©faut d'IIS, confirmant son bon fonctionnement.
  - **Fonctionnalit√©s cl√©s** :
    - **Sites multiples** : H√©bergement de plusieurs sites sur un m√™me serveur gr√¢ce aux **bindings** (liaisons).
    - **S√©curit√©** : Gestion des certificats SSL/TLS pour le HTTPS.
    - **Pools d'applications** : Isolation des processus pour qu'un crash sur un site n'affecte pas les autres.
    - **Exploration de r√©pertoire** : Option (souvent d√©sactiv√©e par s√©curit√©) qui permet d'afficher la liste des fichiers d'un dossier ("Index of...").

- **L'Interaction DNS \<-\> IIS** :

  - Pour qu'un utilisateur acc√®de √† un site h√©berg√© sur IIS via un nom (ex: `intranet.thm.local`), deux configurations sont n√©cessaires :
        1. **C√¥t√© DNS** : Cr√©er un enregistrement **A** qui fait pointer le nom `intranet` vers l'adresse IP du serveur IIS.
        2. **C√¥t√© IIS** : Configurer le **binding** (liaison) du site pour qu'il √©coute les requ√™tes arrivant sur cette IP avec ce nom d'h√¥te sp√©cifique (ex: port 80, nom d'h√¥te `intranet.thm.local`).

[Challenge A408](./challenges/Challenge_A408.md) : enregistrement DNS, IIS et index.html

> **üìö Ressources :**
>
> - **Commande `nslookup`** : Outil en ligne de commande essentiel pour interroger un serveur DNS et diagnostiquer les probl√®mes de r√©solution.
>   - **Mode interactif** : Taper `nslookup` puis `server <IP_du_DNS>` pour tester un serveur sp√©cifique.
>   - **Recherche directe** : `nslookup www.google.com` (renvoie l'IP).
>   - **Recherche invers√©e** : `nslookup 8.8.8.8` (renvoie le nom associ√© `dns.google`).

[Retour en haut](#-table-des-mati√®res)

---

### üõ°Ô∏è A409. Pools IIS, Authentification et Backup

> Ce cours approfondit la configuration du serveur Web IIS avec la gestion des pools d'applications et de l'authentification, et aborde un aspect critique de l'administration syst√®me : la sauvegarde et la restauration (notamment d'Active Directory) avec Windows Server Backup.

- **IIS - Pools d'Application** :

  - **D√©finition** : Un pool d'application est un m√©canisme d'isolation qui permet d'ex√©cuter des sites web ou des applications dans des processus s√©par√©s. Chaque pool fonctionne avec son propre processus syst√®me (**`w3wp.exe`**).
  - **Id√©e cl√©** : **Un pool = Une isolation**. Si un site plante ou consomme toutes les ressources, les autres sites (dans d'autres pools) continuent de fonctionner normalement.
  - **Avantages** :
    - **Isolation** : Si une application plante, elle ne fait pas tomber les autres pools.
    - **S√©curit√© & Stabilit√©** : Permet de d√©finir une identit√© sp√©cifique (compte de service) et des r√©glages de recyclage pour chaque application.
    - **Flexibilit√©** : Possibilit√© de configurer des versions de .NET diff√©rentes par pool.
  - **Configuration** : Dans le Gestionnaire IIS \> Pools d'applications \> Ajouter un pool d'applications. Chaque pool peut avoir sa propre version de .NET et son propre compte de service (identit√©).

- **IIS - Authentification et Contr√¥le d'Acc√®s** :

  - **Objectif** : Par d√©faut, un site est en acc√®s anonyme. L'authentification permet d'exiger une identification pour garantir la tra√ßabilit√© et restreindre l'acc√®s aux seules personnes autoris√©es.
  - **Installation** : C'est une fonctionnalit√© √† ajouter via le Gestionnaire de serveur \> R√¥le Serveur Web (IIS) \> Serveur Web \> S√©curit√© \>
  - **Authentification de base** : M√©thode simple o√π le navigateur demande un identifiant et un mot de passe.
    - *Attention* : Les identifiants sont encod√©s en Base64 (facilement d√©chiffrables), il est donc crucial d'utiliser le **SSL/TLS (HTTPS)** pour chiffrer la connexion.
    - **R√®gle d'or** : Si on active l'Authentification de base, il faut imp√©rativement **d√©sactiver l'Authentification anonyme** pour forcer la connexion.
  - **Authentification Digest** : Plus s√©curis√©e que la "Basic" (hachage des identifiants), mais moins robuste que Windows.
  - **Authentification Windows** : La plus robuste pour un Intranet, utilise **NTLM** ou **Kerberos** (AD).
  - **Certificat Client** : Authentification forte bas√©e sur des certificats X.509.
  - **Autres restrictions** : Il est aussi possible de filtrer par **Adresse IP/Domaine** ou d'utiliser le **Filtrage des demandes** (URL Authorization) pour bloquer certaines requ√™tes sp√©cifiques.

- **Windows Server Backup & Strat√©gie de Sauvegarde (PRA)** :

  - **Contexte** : La sauvegarde est le pilier du **PRA (Plan de Reprise d'Activit√©)**.

  - **Windows Server Backup** : Solution native id√©ale pour les TPE/PME. Elle permet des sauvegardes compl√®tes, incr√©mentielles ou de l'√©tat du syst√®me ("System State"). A installer via "Ajout de r√¥les et fonctionnalit√©s".
  - **Limites** : Pour les grandes structures, on privil√©gie des solutions tierces (Veeam, etc.) offrant la centralisation, la d√©duplication, et la r√©plication cloud.
  - **Technologies** :
    - **Sauvegarde classique** : Garantie de continuit√© "√† froid".
    - **VSS (Volume Shadow Copy)** : M√©canisme de "Snapshot" (instantan√©) permettant de sauvegarder des fichiers en cours d'utilisation sans interrompre le service.
  - **Strat√©gie** : Les snapshots permettent des sauvegardes fr√©quentes sans interruption de service. Une sauvegarde compl√®te "√† froid" (services arr√™t√©s) reste une bonne pratique ponctuelle pour une coh√©rence absolue.
  - **Format** : Les sauvegardes sont stock√©es sous forme d'images disques **.vhdx**, qui peuvent √™tre mont√©es manuellement pour r√©cup√©rer des fichiers unitaires.
  - **Types de r√©cup√©ration** : Fichiers et dossiers, Volumes entiers, Applications, ou **√âtat du syst√®me** (System State).

- **Sauvegarde et Restauration Active Directory** :

  - **Composants critiques** : La sauvegarde de l'AD repose sur deux dossiers cl√©s :
    - **NTDS** : Contient la base de donn√©es de l'annuaire (`ntds.dit` avec utilisateurs, groupes, ordinateurs).
    - **SYSVOL** : Contient les fichiers publics r√©pliqu√©s (Strat√©gies de groupe/GPO, scripts de connexion).
    - **Restauration de l'√âtat du Syst√®me (System State)** : C'est l'option √† choisir pour r√©cup√©rer un AD. Elle restaure :
    - **AD** (L'annuaire lui-m√™me).
    - **FRS/DFSR** (Le dossier SYSVOL).
    - **Registry** (La configuration syst√®me locale).
  - **R√®gle imp√©rative** : Active Directory √©tant un service critique en cours d'ex√©cution, il **ne peut pas √™tre restaur√© en mode normal**. Il faut obligatoirement red√©marrer le serveur en **Mode de restauration des services d'annuaire (DSRM)**.

[Challenge A409](./challenges/Challenge_A409.md) : Supression et r√©cup√©ration utilisateur dans l'AD.

> üìö **Ressources** :
>
> - **D√©marrage en Mode Restauration des Services d'Annuaire (DSRM)** : N√©cessaire pour certaines restaurations AD.
>   - Via l'interface : `msconfig` \> Onglet D√©marrer \> D√©marrage s√©curis√© \> R√©parer Active Directory.
>   - Au d√©marrage : Maintenir la touche **MAJ (Shift)** en cliquant sur "Red√©marrer" \> D√©pannage \> Options avanc√©es \> Param√®tres de d√©marrage.
>
> Sauvegarder son serveur avec Windows Server Backup - IT-connect <https://www.it-connect.fr/chapitres/windows-server-2025-sauvegarder-son-serveur-avec-windows-backup/>
>
> Restaurer un contr√¥leur de domaine AD - IT-connect <https://www.it-connect.fr/comment-restaurer-un-controleur-de-domaine-active-directory/>
>
> Restaurer une zone DNS - IT-connect <https://www.it-connect.fr/windows-server-comment-restaurer-une-zone-dns/>
>
> Vid√©o Sauvegarde et restauration Active Directory - ENNIBI-IT <https://www.youtube.com/watch?v=p3N8LkLb7sU>
>
> Reset mdp Admin en DSRM <https://learn.microsoft.com/fr-fr/troubleshoot/windows-server/active-directory/reset-directory-services-restore-mode-admin-pwd>

[Retour en haut](#-table-des-mati√®res)

---

### üöÄ A410. Windows Deployment Services (WDS)

> Ce cours aborde le d√©ploiement automatis√© de syst√®mes d'exploitation via le r√©seau en utilisant le r√¥le **WDS** (Windows Deployment Services). Il permet d'installer Windows sur de multiples machines simultan√©ment, sans avoir besoin de support physique (cl√© USB/DVD) pour chaque poste. Ainsi que l'injection de pilotes et l'automatisation des installations via des fichiers de r√©ponses.

#### 1. **WDS (Windows Deployment Services)**

- **R√¥le** : Permet de stocker et de diffuser des images syst√®mes Windows (fichiers `.wim`) via le r√©seau. C'est l'√©volution des anciens services RIS.
- **Images** : Le service repose sur deux types d'images principales :
  - **Image de d√©marrage (Boot Image)** : C'est l'environnement Windows PE (`boot.wim`) qui se charge en premier via le r√©seau pour lancer l'assistant d'installation.
  - **Image d'installation (Install Image)** : C'est l'image du syst√®me d'exploitation complet (`install.wim`) qui sera copi√©e sur le disque dur du client.
  - **Image de capture (Capture Image)** : C'est une image de d√©marrage sp√©ciale. Elle sert √† capturer l'√©tat d'une machine de r√©f√©rence (pr√©alablement pr√©par√©e avec Sysprep) pour cr√©er une nouvelle image d'installation ``.wim`` personnalis√©e (Master) qui pourra √™tre red√©ploy√©e ult√©rieurement (voir cours A413. VDI).

- **Fonctionnement via PXE** :
  - Le d√©ploiement repose sur la norme **PXE (Preboot Execution Environment)**. Cette technologie permet √† une station de travail de d√©marrer directement depuis sa carte r√©seau (avant m√™me le chargement de l'OS local) pour r√©cup√©rer une image syst√®me situ√©e sur un serveur.
  - **Pr√©requis** : Pour que cela fonctionne, l'environnement doit disposer d'un serveur **DNS** (r√©solution de noms), d'un serveur **DHCP** (attribution d'IP) et d'un domaine **Active Directory** (authentification).

- **Configuration DHCP pour le PXE** :
  - Si le DHCP n'est pas sur le m√™me serveur que WDS (exemple : un routeur pfSense), des options sp√©cifiques doivent √™tre configur√©es pour guider le client PXE :
    - **Option 66 (Boot Server Host Name)** : L'adresse IP ou le nom du serveur WDS.
    - **Option 67 (Bootfile Name)** : Le chemin du fichier de d√©marrage (ex: `boot\x64\wdsnbp.com` pour BIOS ou `boot\x64\wdsmgfw.efi` pour UEFI).
  - **Option 60 (PXEClient)** : Cette option est n√©cessaire uniquement si le DHCP et le WDS cohabitent sur le **m√™me serveur**, pour √©viter les conflits car ils √©coutent tous deux sur le port UDP 67.

- **Limitations et transition vers MDT** :
  - WDS seul montre ses limites, notamment avec Windows 11 (nouveaux formats `.esd`, pr√©requis TPM/Secure Boot). Microsoft recommande d'utiliser **MDT (Microsoft Deployment Toolkit)**.
  - **MDT** est un outil gratuit qui se superpose √† WDS pour offrir des sc√©narios beaucoup plus riches : il permet d'injecter automatiquement des drivers, d'installer des logiciels post-d√©ploiement, d'ex√©cuter des scripts de personnalisation et de migrer des donn√©es utilisateur, ce que WDS ne fait pas nativement. Pour les tr√®s grandes structures, on passera sur **SCCM** (System Center).

#### 2. WDS : Gestion des Pilotes (Drivers)

Pour que l'installation de Windows fonctionne sur diff√©rents mat√©riels, WDS permet de g√©rer et d√©ployer des pilotes (ex: carte r√©seau, contr√¥leur de disque).

- **Groupes de Pilotes** : Permet d'organiser les pilotes logiquement. On peut appliquer des **Filtres** pour contr√¥ler leur d√©ploiement :
  - **Filtres Client** : D√©finissent **QUI** re√ßoit les pilotes (ex: *Manufacturer* = Dell, *Model* = Optiplex 7080).
  - **Filtres Fichier** : D√©finissent **QUOI** (quels fichiers du groupe) est install√© (ex: uniquement les pilotes *Net* ou *Video*).

- **Injection dans l'Image de D√©marrage (Boot Image)** :
  - **Indispensable** : Pour que l'installateur Windows (WinPE) puisse voir le disque dur ou acc√©der au r√©seau, les pilotes critiques (Stockage et R√©seau) doivent √™tre inject√©s directement dans l'image de boot (`boot.wim`).
  - **Cas de la Virtualisation (VirtIO)** : Sur des hyperviseurs comme Proxmox/KVM, il faut injecter les pilotes **VirtIO** :
    - **NetKVM** : Pour la carte r√©seau.
    - **viostor/vioScsi** : Pour le contr√¥leur de disque.
    - **Balloon** : Pour la gestion dynamique de la m√©moire.
  - *Attention* : L'injection est une modification lourde de l'image `.wim`. En cas de mise √† jour de pilote, il faut souvent reconstruire l'image.

#### 2. WDS : Automatisation (Unattend)

L'objectif est de r√©aliser une installation "z√©ro touche" (Zero Touch Installation) o√π l'administrateur n'a pas besoin de cliquer sur "Suivant" devant chaque poste.

- **Fichier de r√©ponses (Unattend.xml)** :
  - C'est un fichier XML qui contient les r√©ponses aux questions de l'installateur (Langue, Partitionnement du disque, Fuseau horaire, Mot de passe admin local, etc.).
  - Dans les propri√©t√©s du serveur WDS (onglet *Client*), on lie ce fichier XML aux architectures (x64/x86) pour qu'il soit charg√© automatiquement.

- **Pr√©-staging (Approbation et Nommage)** :
  - Permet de s√©curiser le WDS en demandant une approbation avant l'installation.
  - L'administrateur peut nommer la machine et d√©finir dans quelle OU (Active Directory) elle sera cr√©√©e avant m√™me que l'installation ne commence.
  - **Droits de jointure** : On d√©finit quel compte est utilis√© pour joindre le domaine (souvent un compte de service ou administrateur) avec les droits complets pour cr√©er l'objet ordinateur.

- **Avantage et Inconv√©nient** :
  - **Avantages** : Installation rapide d'OS natifs, standardisation du parc.
  - **Inconv√©nient** : G√®re uniquement l'installation, pas la maintenance applicative post-install.

[Challenge A410](./challenges/Challenge_A410.md) : Test de Windows Deployment Services (WDS) et boot PXE.

> üìö **Ressources** :
>
> Convertir un fichier ESD en WIM <https://www.it-connect.fr/wds-convertir-un-fichier-esd-en-wim/>
>
> Serveurs WDS et DHCP : boot PXE BIOS et UEFI <https://www.it-connect.fr/serveurs-dhcp-wds-boot-pxe-bios-et-uefi/>
>
> Sur notre pfsense DHCP option 60 si UEFI et option 66 & 67 pour BIOS : "PXEClient" + Enable Network Booting avec l'addresse du server.
>
> Prise en charge de boot.wim <https://learn.microsoft.com/fr-fr/windows/deployment/wds-boot-support>
>
> WDS installation et configuration <https://rdr-it.com/wds-installation-et-configuration/>
>
> D√©ployer un Certificat <https://rdr-it.com/gpo-deployer-un-certificat/>
>
> Configurer le SSO <https://rdr-it.com/en/gpo-configure-sso-on-rds-connections/>

[Retour en haut](#-table-des-mati√®res)

---

### üñ•Ô∏è A411. RDS (Remote Desktop Services)

> Ce cours introduit le r√¥le RDS (Services Bureau √† Distance) pour la centralisation des environnements utilisateurs. Il couvre le d√©ploiement rapide, la s√©curisation via certificats et l'automatisation de la connexion via les GPO.

- **RDS (Remote Desktop Services)** :
  - Les Services Bureau √† Distance permettent d'h√©berger des sessions utilisateurs sur un serveur centralis√© (virtualisation de session).
  - **Fonctionnement** :
    - Le **Serveur H√¥te** ex√©cute les applications et le bureau.
    - Le **Client** (l√©ger ou PC) se connecte via le protocole **RDP** (port 3389).
    - **mstsc.exe** : La commande qui lance l'application Connexion Bureau √† distance (Remote Desktop Connection) sous Windows.
    - **Multi-session** : Plusieurs utilisateurs travaillent simultan√©ment sur le m√™me serveur, chacun dans sa bulle isol√©e.

- **Modes d'utilisation** :
  - **Bureau complet** : L'utilisateur acc√®de √† un bureau Windows distant classique.
  - **RemoteApp** : Seule la fen√™tre de l'application est envoy√©e au client. L'application s'ex√©cute sur le serveur mais semble tourner en local (int√©gration transparente).

- **Installation (D√©marrage Rapide)** :
  - Via le Gestionnaire de serveur > "Installation des services Bureau √† distance".
  - Choisir **"D√©marrage rapide"** pour une installation sur un seul serveur (installe le Broker, l'Acc√®s Web et l'H√¥te de session en une seule op√©ration).
  - Choisir "D√©ploiement de bureaux bas√©s sur une session".

- **Gestion des Licences (RD Licensing)** :
  - Ce r√¥le est indispensable pour le d√©ploiement en production. Il stocke et d√©livre les **CALs RDS** (licences d'acc√®s client).
  - Lorsqu'un utilisateur se connecte, le serveur H√¥te de session interroge le serveur de licences pour obtenir une CAL valide (distincte de la licence Windows Server de base). Sans ce r√¥le configur√©, la p√©riode de gr√¢ce de 120 jours finira par bloquer les connexions.

- **Acc√®s Web (RDWeb)** :
  - Permet aux utilisateurs d'acc√©der √† leurs applications/bureaux via un navigateur (URL type : `https://serveur/RDWeb`).
  - **S√©curit√© (HTTPS)** : N√©cessite imp√©rativement un certificat SSL. En environnement de lab, on utilise souvent un certificat auto-sign√© qu'il faut lier au port 443 dans IIS.
  
- **Gestion des Certificats (MMC)** :
  - Pour que les clients acceptent la connexion sans erreur de s√©curit√©, ils doivent faire confiance au certificat du serveur RDS.
  - **Export du certificat** : Sur le serveur, ouvrir la console `mmc.exe` > Ajouter un composant > Certificats > **Compte d'ordinateur** > Ordinateur Local. Exporter le certificat (sans la cl√© priv√©e) pour le d√©ployer ensuite.

- **D√©ploiement Automatis√© via GPO** :
  - Une GPO permet de distribuer le certificat et de configurer automatiquement la connexion RemoteApp sur les postes clients.
  - **1. Distribution du Certificat (Confiance)** :
    - *Chemin* : Configuration Ordinateur > Strat√©gies > Param√®tres Windows > Param√®tres de s√©curit√© > Strat√©gies de cl√© publique > **Autorit√©s de certification racines de confiance**.
    - *Action* : Importer le certificat export√© pr√©c√©demment.
  - **2. Configuration du flux RemoteApp** :
    - *Chemin* : Configuration Utilisateur > Strat√©gies > Mod√®les d'administration > Composants Windows > Services Bureau √† distance > Connexions aux programmes RemoteApp et aux services Bureau √† distance.
    - *Param√®tre* : **Sp√©cifier l'URL de connexion par d√©faut**.
    - *Valeur* : `https://ws2025.oclock.lan/rdweb/Feed/webfeed.aspx` (URL du flux RSS/Webfeed).

- **Avantages et Inconv√©nients** :
  - **Avantages** : Centralisation des donn√©es, maintenance simplifi√©e (1 seule installation d'app pour 50 utilisateurs), acc√®s √† distance s√©curis√©.
  - **Inconv√©nients** : **SPOF** (Single Point of Failure) - si le serveur RDS plante, tous les utilisateurs sont bloqu√©s. N√©cessite une infrastructure serveur robuste (RAM/CPU).

[Challenge A411](./challenges/Challenge_A411.md) : Installation et test du RDS (Remote Desktop Services).

> üìö **Ressources** :
>
> RDS overwiew <https://learn.microsoft.com/fr-fr/windows-server/remote/remote-desktop-services/overview>
>
> RDS d√©ploiement <https://www.it-connect.fr/deploiement-rapide-dun-serveur-rds-avec-windows-server-2016/>

[Retour en haut](#-table-des-mati√®res)

---

### ‚òÅÔ∏è A412. VDI & Hyper-V

> Ce cours introduit la base de la VDI (Virtual Desktop Infrastructure) : l'hyperviseur. Sur Windows Server, le r√¥le **Hyper-V** permet de cr√©er et g√©rer des machines virtuelles qui serviront de mod√®les ("Masters") pour les bureaux virtuels.

- **Installation du r√¥le Hyper-V** :
  - S'installe via "Ajouter des r√¥les et fonctionnalit√©s" > **Hyper-V**.
  - **Configuration** :
    - **Ethernet** : Il est conseill√© de ne pas cocher la carte r√©seau durant l'installation (pour configurer le switch virtuel manuellement plus tard).
    - **Migration** : Laisser par d√©faut (CredSSP).
    - **Emplacement** : Changer le chemin par d√©faut pour stocker les VM dans un dossier d√©di√© (ex: `C:\VM`) pour une meilleure organisation.
  - **Red√©marrage** : Obligatoire pour charger l'hyperviseur au niveau noyau.

- **Gestion du R√©seau : Commutateurs Virtuels (vSwitch)** :
  - Une fois install√©, on configure le r√©seau via le **Gestionnaire Hyper-V** > **Gestionnaire de commutateur virtuel**.
  - Il existe 3 types de commutateurs :
    1. **Externe (Bridge)** : La VM est connect√©e directement au r√©seau physique (comme si elle √©tait branch√©e au switch r√©el). Elle obtient une IP du DHCP du r√©seau LAN.
    2. **Interne (NAT)** : La VM communique uniquement avec l'h√¥te physique et les autres VM. (Souvent utilis√© avec du NAT).
    3. **Priv√© (Local Only)** : La VM communique uniquement avec les autres VM sur le m√™me vSwitch. Isolation totale de l'h√¥te physique.
  - *Note* : La cr√©ation d'un vSwitch externe cr√©e une interface r√©seau virtuelle visible dans `ncpa.cpl`.

- **Cr√©ation d'une VM "Master"** :
  - L'objectif est de cr√©er une VM mod√®le (Master) propre, qui servira de base pour le d√©ploiement de masse.
  - **Installation de l'OS** : On configure la VM pour d√©marrer via le r√©seau ("Installer √† partir d'un serveur d'installation r√©seau") afin de r√©cup√©rer l'image Windows via **WDS**.

- **G√©n√©rations de VM : Gen 1 vs Gen 2** :
  - C'est un choix crucial √† la cr√©ation de la VM.
  - **G√©n√©ration 1 (Gen 1)** :
    - Simule un mat√©riel ancien.
    - **BIOS** classique (Legacy).
    - Disque IDE / Partition **MBR**.
    - Compatible avec les vieux OS (Windows 7, vieux Linux).
  - **G√©n√©ration 2 (Gen 2)** :
    - Standard moderne (recommand√©).
    - **UEFI**.
    - Disque SCSI / Partition **GPT**.
    - Supporte le **Secure Boot** (D√©marrage s√©curis√©). *Attention : il faut parfois d√©sactiver le Secure Boot pour certaines distributions Linux.*

[Challenge A412](./challenges/Challenge_A412.md) : Installation d'une VM sur Hyper-V.

> üìö **Ressources** :
>
> Types d'Hyperviseurs <https://www.it-connect.fr/les-types-dhyperviseurs/>
>
> Installer Hyper-V sur Windows <https://www.it-connect.fr/installer-hyper-v-sur-windows-10-et-creer-sa-premiere-vm/>
>
> Cr√©er une VM avec Hyper-V <https://learn.microsoft.com/fr-fr/windows-server/virtualization/hyper-v/get-started/create-a-virtual-machine-in-hyper-v?tabs=hyper-v-manager>

[Retour en haut](#-table-des-mati√®res)

---

### üè≠ A413. D√©ploiement VDI & Sysprep

> Ce cours finalise la mise en place de la VDI (Virtual Desktop Infrastructure). L'objectif est de transformer une machine virtuelle Windows 10 "Master" en un mod√®le d√©ployable massivement via les services RDS, offrant ainsi √† chaque utilisateur son propre PC virtuel.

#### 1. Pr√©paration du Master (Windows 10)

Avant de dupliquer une VM, il faut la "nettoyer" pour qu'elle soit neutre.

- **Nettoyage des comptes** :
  - On active le compte **Administrateur** int√©gr√© (via `lusrmgr.msc` ou Gestion de l'ordinateur).
  - On se connecte avec ce compte Admin.
  - On **supprime** le compte utilisateur initial (celui cr√©√© lors de l'installation) et son profil. *But : Avoir une image sans fichiers utilisateurs parasites.*

- **Sysprep (System Preparation Tool)** :
  - C'est l'outil indispensable pour l'autonomie mat√©rielle et la duplication. Il se trouve dans `C:\Windows\System32\Sysprep\sysprep.exe`.
  - **Modes d'utilisation** :
    - **Mode Audit** : Permet de d√©marrer en mode administrateur sp√©cial pour installer des logiciels, des drivers ou faire des mises √† jour *avant* de sceller l'image.
    - **Mode OOBE (Out-Of-Box Experience)** : C'est le mode final. Au prochain d√©marrage, la machine lancera l'assistant de configuration (choix de la langue, clavier, cr√©ation utilisateur...), comme un PC neuf sortant du carton.
  - **L'option "G√©n√©raliser" (Generalize)** : **Cruciale**. Elle supprime les informations sp√©cifiques au mat√©riel et surtout le **SID** (Security Identifier) unique de la machine. Si on ne g√©n√©ralise pas, on ne peut pas d√©ployer l'image dans un domaine Active Directory (conflit d'identifiants).
  - **Action** : Pour le VDI, on choisit **OOBE** + Cocher **G√©n√©raliser** + Option d'extinction **Arr√™ter**.

#### 2. D√©ploiement VDI (Processus RDS)

Une fois le Master √©teint (Sysprepp√©), le serveur RDS prend le relais pour cr√©er la "Collection" de bureaux virtuels.

- **R√¥le n√©cessaire** : Contrairement au RDS classique (Session), le VDI n√©cessite le r√¥le **H√¥te de virtualisation des services Bureau √† distance** (RD Virtualization Host) install√© sur le serveur physique Hyper-V.
- **Processus d'installation (Th√©orique)** :
    1. Dans le Gestionnaire de serveur > Services Bureau √† distance.
    2. Lancer l'assistant "Cr√©er une collection de bureaux virtuels".
    3. **Type** : "Pooled" (Bureaux partag√©s, non persistants) ou "Personal" (Bureaux persistants, l'utilisateur garde ses modifs).
    4. **Source** : On s√©lectionne le fichier disque dur du Master (`C:\VM\Win10-MASTER.vhdx`).
    5. **D√©ploiement** : Le serveur va copier ce disque, et cr√©er X machines virtuelles bas√©es dessus.

- **R√©sultat** : Dans le portail web RDS (`/RDWeb`), l'utilisateur voit une ic√¥ne "Windows 10 VDI". Quand il clique, le serveur allume une des VM disponibles et le connecte dessus.

#### Bonus : Optimisation Disque (Proxmox / QCOW2)

En bonus, voici la m√©thode pour r√©duire la taille d'un disque virtuel `qcow2` sur Proxmox (Linux). Les disques virtuels ont tendance √† grossir m√™me si on supprime des fichiers dedans. Cette manip permet de r√©cup√©rer l'espace vide (sparsify).

- **Condition** : La VM doit imp√©rativement √™tre **√©teinte**.
- **Proc√©dure (Shell Proxmox)** :
    1. Passer en root :
        `sudo su -`
    2. Aller dans le dossier de stockage des images (adapter l'ID `9000` √† votre VM) :
        `cd /var/lib/vz/images/9000`
    3. V√©rifier la taille actuelle :
        `ls -lh`
    4. **Convertir et compresser** (Cr√©ation d'une copie optimis√©e `newdisk`) :
        `qemu-img convert -f qcow2 -O qcow2 -o preallocation=off vm-9000-disk-1.qcow2 newdisk.qcow2`
        *(Cette commande r√©√©crit le disque en ignorant les blocs vides).*
    5. Supprimer l'ancien disque (Attention, irr√©versible) :
        `rm vm-9000-disk-1.qcow2`
    6. Renommer le nouveau disque pour qu'il prenne la place de l'ancien :
        `mv newdisk.qcow2 vm-9000-disk-1.qcow2`

> üìö **Ressources** :
>
> Erreurs sysrep : <https://neptunet.fr/error-sysprep/>
>
> Install & config VDI <https://rdr-it.com/vdi-installer-configurer-windows-serveur/>

[Retour en haut](#-table-des-mati√®res)

---

### ‚òÅÔ∏è A414. Microsoft Azure

> Ce cours introduit le Cloud Computing, une √©volution majeure de l'informatique o√π les ressources (calcul, stockage, r√©seau) sont fournies √† la demande via Internet. Il se concentre sur la pratique avec **Microsoft Azure**, de la th√©orie des mod√®les de service (XaaS) au d√©ploiement concret de machines virtuelles.

- **Concepts Fondamentaux du Cloud** :

  - **D√©finition** : Mise √† disposition de ressources informatiques via Internet avec une facturation √† l'usage (Pay-as-you-go). On passe d'une d√©pense d'investissement (CapEx - acheter des serveurs) √† une d√©pense de fonctionnement (OpEx - louer des services).
  - **Principaux Fournisseurs** : **AWS** (Amazon Web Services), **Azure** (Microsoft), **GCP** (Google Cloud Platform).

- **Mod√®les de Service (XaaS)** :

  - **IaaS (Infrastructure as a Service)** : Le fournisseur g√®re le mat√©riel (datacenter, r√©seau physique, hyperviseur). Vous g√©rez tout √† partir de l'OS (VM, middleware, data, apps).
    - *Exemple : Azure VM, Amazon EC2.*
  - **PaaS (Platform as a Service)** : Le fournisseur g√®re l'OS et le runtime. Vous ne g√©rez que vos applications et vos donn√©es. Id√©al pour les d√©veloppeurs.
    - *Exemple : Azure App Service, Google App Engine.*
  - **SaaS (Software as a Service)** : Le fournisseur g√®re tout. Vous utilisez simplement le logiciel.
    - *Exemple : Microsoft 365, Gmail, Salesforce.*
  - **FaaS (Function as a Service)** : "Serverless". Vous d√©ployez uniquement des bouts de code (fonctions) qui s'ex√©cutent sur √©v√©nement.
    - *Exemple : Azure Functions, AWS Lambda.*

- **D√©ploiement d'une VM sous Azure (IaaS)** :
    La cr√©ation d'une machine virtuelle n√©cessite de configurer plusieurs composants interd√©pendants :

  - **Image** : Le syst√®me d'exploitation de base (ex: Ubuntu 22.04, Windows Server 2022) ou une image Marketplace (ex: WordPress pr√©-install√©).
  - **Taille (Size) & Co√ªt** : D√©finit la puissance (vCPU, RAM). Le prix est affich√© par mois mais factur√© √† la seconde/heure.
  - **Disques** :
    - *OS Disk* : Contient le syst√®me.
    - *Data Disk* : Pour les donn√©es (optionnel).
    - *Types* : HDD Standard (lent/pas cher), SSD Standard, SSD Premium (performant/cher).
  - **R√©seau Virtuel (VNet)** : Le r√©seau logique dans le cloud. Il est segment√© en **Subnets** (sous-r√©seaux).
  - **Interface R√©seau (NIC)** : Carte virtuelle connect√©e au VNet. Elle peut avoir une **IP Publique** (pour l'acc√®s Internet) et une **IP Priv√©e** (pour le LAN Azure).
  - **S√©curit√© (NSG - Network Security Group)** : C'est le pare-feu de la VM. Il contient des r√®gles entrantes/sortantes (Inbound/Outbound rules).
    - *Indispensable* : Ouvrir le port **22** (SSH) pour Linux ou **3389** (RDP) pour Windows, et **80/443** pour un serveur Web.

> üìö **Ressources** :
>
> Qu'est-ce que le Cloud <https://www.cloudflare.com/fr-fr/learning/cloud/what-is-the-cloud/>
>
> IaaS Paas Saas <https://www.redhat.com/fr/topics/cloud-computing/iaas-vs-paas-vs-saas>
>
> Microsoft Azure : <https://portal.azure.com/>
>
> Microsoft Azure pour Etudiants <https://azure.microsoft.com/fr-fr/free/students>
>
> Calculatrice Azure (Pour estimer les co√ªts avant d√©ploiement) <https://azure.microsoft.com/fr-ca/pricing/calculator/>

[Retour en haut](#-table-des-mati√®res)

---

### üí† Fin Saison A4. Windows Server

[QCM Saison A4](https://forms.gle/ttL2fUrjdREAjsLh7)

![R√©sultat QCM](/images/2025-12-09-09-51-18.png)

[Retour en haut](#-table-des-mati√®res)

---

## **üêß Saison A5. Linux**

> Cette saison introduit l'environnement **GNU/Linux**, syst√®me d'exploitation incontournable pour les serveurs, le Cloud et la s√©curit√©. Elle se concentre sur la compr√©hension de son architecture, de son histoire, et sur la ma√Ætrise fondamentale de l'administration syst√®me via l'interface en ligne de commande.

---

### üñ•Ô∏è A501. Introduction √† GNU/Linux

> Ce cours pose les bases de l'environnement Linux, de ses origines historiques (Unix, GNU) √† son architecture actuelle (distributions, syst√®me de fichiers), en passant par la philosophie du logiciel libre.

- **Un peu d'Histoire : De Multics √† Linux**
  - **Multics (1964)** : Projet ambitieux (MIT, Bell Labs, GE) visant √† cr√©er un syst√®me en "temps partag√©". Trop complexe et co√ªteux, il fut abandonn√© par les Bell Labs, mais a inspir√© la suite.
  - **Unix (1969)** : Cr√©√© par Ken Thompson et Dennis Ritchie (inventeur du langage C) sur un PDP-7. Philosophie KISS (*Keep It Simple, Stupid*) : faire une seule chose, mais la faire bien. Il devient portable gr√¢ce √† sa r√©√©criture en C.
  - **BSD (1977)** : La *Berkeley Software Distribution* est une branche universitaire d'Unix, am√©lior√©e par Bill Joy (cr√©ateur de l'√©diteur `vi`). Elle a donn√© naissance aux syst√®mes modernes comme FreeBSD ou macOS.
  - **GNU (1983)** : Richard Stallman lance le projet GNU (*GNU's Not Unix*) avec pour but de cr√©er un syst√®me d'exploitation enti√®rement libre. Il cr√©e les outils essentiels (compilateur GCC, √©diteur Emacs, shell Bash) et la licence **GPL**, mais il manque le c≈ìur du syst√®me : le noyau.
  - **Minix (1987)** : Syst√®me √©ducatif cr√©√© par Andrew Tanenbaum. C'est en l'utilisant que Linus Torvalds d√©cidera de cr√©er son propre noyau.
  - **Linux (1991)** : Linus Torvalds d√©veloppe un noyau (kernel) monolithique. En le combinant avec les outils du projet GNU, le syst√®me d'exploitation complet **GNU/Linux** est n√©.

- **Les Distributions Linux**
  - **D√©finition** : Linux est un noyau, pas un OS complet. Une distribution est un assemblage comprenant le noyau Linux, les outils GNU, un gestionnaire de paquets et souvent un environnement graphique.
  - **Grandes Familles** : Elles se distinguent principalement par leur gestionnaire de paquets :
    - **Debian** (et ses d√©riv√©s Ubuntu, Kali, Mint) : Utilise le format `.deb` et le gestionnaire `apt`. Tr√®s populaire et stable.
    - **Red Hat** (RHEL, Fedora, CentOS/Alma) : Utilise le format `.rpm` et le gestionnaire `dnf`/`yum`. Standard dans le monde de l'entreprise.
    - **Slackware** : La plus ancienne encore active, philosophie minimaliste.
    - **Arch Linux** : Mod√®le "Rolling release" (mise √† jour continue), utilise `pacman`. Pour utilisateurs avanc√©s.
    - **Android** : Utilise le noyau Linux mais pas les outils GNU (remplac√©s par des biblioth√®ques Java/Google).

- **Notions de Base**
  - **CLI (Ligne de Commande)** : Interface privil√©gi√©e sous Linux pour sa puissance et sa rapidit√© d'administration. Le **Shell** (souvent Bash) interpr√®te les commandes saisies dans le terminal.
  - **Le Prompt** : Invite de commande indiquant qui on est (`user`), o√π on est (machine/dossier) et le niveau de privil√®ge (`$` pour utilisateur, `#` pour root).
  - **Syst√®me de Fichiers** :
    - **Arborescence unique** : Tout commence √† la racine `/`. Il n'y a pas de lettres de lecteur (C:, D:) comme sous Windows.
    - **Tout est fichier** : Documents, dossiers, mais aussi mat√©riel (disque dur, souris), processus... tout est repr√©sent√© sous forme de fichier.
    - **Sensible √† la casse** : `Fichier.txt` et `fichier.txt` sont deux fichiers diff√©rents.
  - **Dossiers Cl√©s** :
    - `/home` : Dossiers personnels des utilisateurs.
    - `/root` : Dossier personnel de l'administrateur.
    - `/etc` : Fichiers de configuration du syst√®me.
    - `/bin` & `/usr/bin` : Ex√©cutables (programmes) essentiels.
    - `/var` : Donn√©es variables (logs, sites web, bases de donn√©es).
    - `/tmp` : Fichiers temporaires (vid√© √† chaque red√©marrage).

- **Commandes Linux essentielles**

  - `sudo` : **S**uper **U**ser **DO**, permet d'ex√©cuter une commande avec les droits d'administrateur (root).
  - `apt` : **A**dvanced **P**ackaging **T**ool, outil pour g√©rer les paquets (logiciels) : rechercher, mettre √† jour, installer ou supprimer (ex: `sudo apt update`, `sudo apt upgrade`).
  - `ls` : **L**i**S**t, liste les fichiers et dossiers pr√©sents dans le r√©pertoire courant.
  - `cd` : **C**hange **D**irectory, permet de changer de r√©pertoire.
  - `pwd` : **P**rint **W**orking **D**irectory, affiche le chemin absolu du dossier dans lequel vous vous trouvez.
  - `man` : **MAN**ual, affiche la documentation d'une commande (ex: `man ls` pour voir les options de liste).
  - `mkdir` : **M**a**K**e **DIR**ectory, pour cr√©er un dossier.
  - `touch` : Permet de cr√©er un fichier vide.
  - `rm` : **R**e**M**ove, pour supprimer un ou plusieurs fichiers.
  - `mv` : **M**o**V**e, pour d√©placer ou renommer des fichiers/dossiers.
  - `cat` : Affiche le contenu d'un fichier dans la sortie standard (le terminal).
  
[Challenge A501](./challenges/Challenge_A501.md) : Installation d'une VM Linux sur VMware, et jeu Terminus Quest pour apprendre les commandes de base.

> üìö **Ressources** :
>
> Temps partag√© <https://fr.wikipedia.org/wiki/Temps_partag%C3%A9>
>
> Multit√¢che Pr√©emptif <https://fr.wikipedia.org/wiki/Multit%C3%A2che_pr%C3%A9emptif>
>
> Minix <https://fr.wikipedia.org/wiki/Minix>
>
> Noyau OS <https://fr.wikipedia.org/wiki/Noyau_de_syst%C3%A8me_d%27exploitation>
>
> Liste des distributions Linux <https://upload.wikimedia.org/wikipedia/commons/9/96/Liste_des_distributions_Linux.svg>
>
> Cheatsheet Linux cmd  [cheatsheetlinux](./ressources/Linux-Commands-Cheatsheet-FR.pdf)
>
> Jeu Terminus <https://luffah.xyz/bidules/Terminus/>

![Linus original mail](/images/2025-12-10-10-57-25.png)

[Retour en haut](#-table-des-mati√®res)

---

### üß± A502. Composants d'un syst√®me GNU/Linux

> Ce cours d√©taille l'anatomie d'un syst√®me Linux en passant en revue les diff√©rentes briques logicielles qui, assembl√©es autour du noyau, forment un syst√®me d'exploitation complet et fonctionnel.
>
> - Chargeur d'amor√ßage
> - Init : Gestionnaire de services
> - Drivers : Pilotes de p√©riph√©riques
> - Shell
> - Gestionnaire de paquets
> - √âditeur de texte
> - Serveur graphique
> - Gestionnaire d'affichage
> - Gestionnaire de fen√™tres
> - Environnement de bureau
> - Biblioth√®ques d'interface graphique
> - Explorateur de fichiers
> - Outil de configuration r√©seau
> - Serveur & sous-syst√®me audio

---

#### 1. Les Fondations du Syst√®me (Bas niveau)

- **Le Chargeur d'amor√ßage (Bootloader)** :

  - **R√¥le** : C'est le tout premier logiciel lanc√© au d√©marrage de la machine (par le BIOS ou l'UEFI). Il permet de choisir sur quel syst√®me d'exploitation d√©marrer (si vous avez un dual-boot Windows/Linux) et charge le noyau en m√©moire.
  - *Exemple c√©l√®bre :* **GRUB** (GRand Unified Bootloader).

- **Le Syst√®me d'Init (Gestionnaire de services)** :

  - **R√¥le** : Une fois le noyau charg√©, `init` est le **premier programme** lanc√© (il porte le PID 1). Il est le "p√®re" de tous les autres processus. Il est charg√© de d√©marrer les services (r√©seau, son, cron, etc.).
  - *Standard actuel :* **systemd**. Bien que controvers√© pour sa complexit√©, il est aujourd'hui le standard sur la majorit√© des distributions. Il se g√®re avec la commande `systemctl`.

- **Pilotes de P√©riph√©riques (Drivers)** :

  - **R√¥le** : Permettent au syst√®me de communiquer avec le mat√©riel. Sous Linux, ils sont g√©n√©ralement int√©gr√©s directement au noyau sous forme de **modules** charg√©s dynamiquement.

#### 2. Les Outils d'Administration

- **Le Shell (Interpr√©teur de commandes)** :

  - **R√¥le** : C'est l'interface textuelle qui permet de dialoguer avec le syst√®me. Il interpr√®te vos commandes et lance les programmes.
  - *Les stars :*
    - **Bash** : Le standard historique, pr√©sent presque partout.
    - **Zsh** : Tr√®s populaire et moderne (par d√©faut sur macOS), souvent utilis√© avec des plugins pour l'autocompl√©tion.

- **Le Gestionnaire de Paquets** :

  - **R√¥le** : Il automatise l'installation, la mise √† jour et la suppression des logiciels. Contrairement √† Windows o√π l'on t√©l√©charge des `.exe` manuellement, ici on demande au gestionnaire de r√©cup√©rer le logiciel et toutes ses **d√©pendances** (les biblioth√®ques n√©cessaires) depuis un d√©p√¥t s√©curis√©.
  - *Exemples :* **apt** (Debian/Ubuntu), **dnf/rpm** (Red Hat), **pacman** (Arch).

- **√âditeur de texte** :

  - **R√¥le** : Indispensable pour modifier les fichiers de configuration.
  - *Les incontournables :* **Nano** (simple pour d√©buter), **Vim** (puissant mais n√©cessite un apprentissage), **Emacs**.

---

#### 3. L'Interface Graphique (La couche visible)

C'est l√† que Linux diff√®re le plus de Windows/macOS, car l'interface graphique est une "pile" de plusieurs logiciels distincts :

- **Serveur Graphique** :

  - C'est la fondation qui permet de dessiner des fen√™tres et de g√©rer la souris/clavier. C‚Äôest un composant technique, invisible pour l‚Äôutilisateur.
  - **X11 (X.Org)** : Le standard historique (depuis 1987), robuste mais vieillissant.
  - **Wayland** : Le rempla√ßant moderne, plus s√©curis√© et performant, mais qui n√©cessite que les applications soient adapt√©es.

- **Gestionnaire d'Affichage (Display Manager)** :

  - C'est simplement votre **√©cran de connexion** (Login screen). Il lance le serveur graphique et vous demande votre mot de passe.

- **Gestionnaire de Fen√™tres (Window Manager - WM)** :

  - Il s'occupe uniquement de "d√©corer" et placer les fen√™tres (bordures, r√©duction, d√©placement). Il peut √™tre utilis√© seul (pour les configurations minimalistes comme *i3* ou *Openbox*).

- **Environnement de Bureau (Desktop Environment - DE)** :

  - C'est une suite compl√®te qui inclut un Gestionnaire de Fen√™tres + un Explorateur de fichiers + des applications (calculatrice, param√®tres, terminal) + une barre des t√¢ches. C'est ce qui donne l'apparence globale (le "look & feel").
  - *Exemples :*
    - **GNOME** : Moderne, √©pur√© (utilis√© par Ubuntu, Fedora).
    - **KDE Plasma** : Tr√®s personnalisable, ressemble un peu √† Windows.
    - **XFCE** : L√©ger et performant pour les vieux PC.

- **Biblioth√®ques Graphiques** :

  - Ce sont les "bo√Ætes √† outils" utilis√©es par les d√©veloppeurs pour cr√©er les boutons et menus. **GTK** est utilis√© par GNOME, **Qt** est utilis√© par KDE.

---

#### 4. Les Outils Compl√©mentaires

- **Biblioth√®ques d'interface graphique** :
  - **R√¥le** : Ce sont des ensembles de code (librairies) qui fournissent aux d√©veloppeurs les "briques visuelles" pr√™tes √† l'emploi (boutons, menus, fen√™tres) pour cr√©er des logiciels.
  - *Les principales :* **GTK** (utilis√©e par les environnements GNOME, XFCE, Mate) et **Qt** (utilis√©e par KDE Plasma, LXQt).

- **Explorateur de fichiers** :
  - **R√¥le** : L'√©quivalent de l'Explorateur Windows ou du Finder macOS, il permet de naviguer graphiquement dans l'arborescence.
  - *Exemples Graphiques (GUI) :* **Nautilus** (Gnome), **Dolphin** (KDE), **Thunar** (l√©ger, souvent avec XFCE).
  - *Exemples Ligne de commande (CLI) :* **Ranger** ou **Midnight Commander** (pour naviguer efficacement dans les dossiers sans souris).

- **Outil de configuration r√©seau** :
  - **R√¥le** : Permet de g√©rer les interfaces r√©seau (IP statique, DHCP, DNS). La m√©thode varie beaucoup selon la distribution.
  - *Exemple :* **Netplan** est l'outil standard utilis√© sur Ubuntu pour configurer le r√©seau via des fichiers YAML.

- **Serveur & sous-syst√®me audio** :
  - **R√¥le** : C'est la couche logicielle qui g√®re la carte son et permet √† plusieurs applications de jouer du son en m√™me temps (mixage).
  - *Contexte :* Bien que le support soit bref √† ce sujet, on retient souvent **PulseAudio** (cr√©√© par le m√™me auteur que systemd) ou plus r√©cemment **PipeWire** comme standards actuels.

[Challenge A502](./challenges/Challenge_A502.md) : Jouer √† VIM Adventures et VIM Tutor pour se familiariser avec VIM.

> üìö **Ressources** :
>
> Shebang <https://fr.wikipedia.org/wiki/Shebang>
>
> Ajouter chemin au Path <https://www.malekal.com/ajouter-chemin-path-linux/>
>
> Bootloaders <https://wiki.archlinux.org/title/Arch_boot_process#Feature_comparison>
>
> X window System <https://fr.wikipedia.org/wiki/X_Window_System>
>
> Le Display manager <https://wiki.archlinux.org/title/Display_manager>
>
> M√©taphore du Bureau <https://fr.wikipedia.org/wiki/Environnement_de_bureau#M%C3%A9taphore_du_bureau>
>
> Qt <https://www.d-booker.fr/content/43-qt-une-bibliotheque-dediee-au-developement-multiplate-forme>
>
> Netplan <https://doc.ubuntu-fr.org/netplan>
>
> Son <https://doc.ubuntu-fr.org/utilisateurs/darkjam/son>
>
> Learn VIM via Game <https://vim-adventures.com/> ou `vimtutor`

[Retour en haut](#-table-des-mati√®res)

---

### üîê A503. Utilisateurs, Groupes, Permissions & Sudo

> Ce cours aborde la gestion des comptes utilisateurs, l'organisation en groupes, et la s√©curit√© du syst√®me de fichiers via les permissions. Il d√©taille √©galement l'utilisation de `sudo` pour l'√©l√©vation de privil√®ges.

#### Gestion des Utilisateurs

Les utilisateurs sont identifi√©s par un **UID** (User ID) et un **GID** (Group ID) principal.

- **Fichiers de configuration** :

  - `/etc/passwd` : Liste les comptes utilisateurs.
    - *Format* : `user:x:UID:GID:Commentaire:/home/user:/bin/bash`.
  - `/etc/shadow` : Stocke les mots de passe chiffr√©s et les r√®gles d'expiration (accessible uniquement par root).

- **Commandes principales** :

  - **Cr√©er** : `useradd`
    - `sudo useradd -m -s /bin/bash -c "Jean Dupont" jean`.
    - `-m` : Cr√©e le dossier personnel (`/home/user`).
    - `-s` : D√©finit le shell par d√©faut (ex: `/bin/bash`).
    - `-c` : Ajoute un commentaire (Nom complet, GECOS).
    - `-u` / `-g` : Imposer un UID ou un GID sp√©cifique.
  - **Modifier** : `usermod`
    - `sudo usermod -s /bin/zsh jean` : Change le shell.
    - `sudo usermod -l nouveau_nom ancien_nom` : Renomme le compte.
    - `sudo usermod -L jean` / `-U jean` : Verrouille / D√©verrouille le compte.
    - `sudo usermod -d /home/new -m jean` : Change le dossier home et d√©place les fichiers existants.
  - **Supprimer** : `userdel`
    - `sudo userdel -r jean` : Supprime l'utilisateur **et** son dossier personnel (`-r`).
  - **Mot de passe** : `passwd jean` pour d√©finir/changer le mot de passe.

---

#### Gestion des Groupes

Les groupes permettent de rassembler des utilisateurs pour simplifier la gestion des droits. Un utilisateur a un groupe primaire et peut avoir plusieurs groupes secondaires.

- **Fichier de configuration** :

  - `/etc/group` : Liste les groupes et leurs membres secondaires.

- **Commandes principales** :

  - **Cr√©er** : `groupadd`
    - `sudo groupadd reseau`.
    - `-g` : Imposer un GID sp√©cifique.
  - **Supprimer** : `groupdel nom_groupe`.
  - **G√©rer les membres** :
    - `sudo usermod -aG sudo,reseau jean` : Ajoute (`-a`) l'utilisateur aux groupes secondaires (`-G`) sp√©cifi√©s.
    - `sudo gpasswd --delete jean reseau` : Retire un utilisateur d'un groupe.
    - `sudo usermod -g devops jean` : Change le groupe **primaire** de l'utilisateur.
    - `groups jean` : Affiche dans quel groupes est l'utilisateur jean.

---

#### Permissions et Propri√©taires

Chaque fichier/dossier appartient √† un **Propri√©taire (u)** et un **Groupe propri√©taire (g)**. Les permissions sont d√©finies pour eux et pour les **Autres (o)**.

- **Visualiser** : `ls -l` affiche les permissions (ex: `-rw-r--r--`).

  - 1er caract√®re : Type (`-` fichier, `d` dossier, `l` lien).
  - Suivants : 3 blocs de droits `rwx` (User, Group, Others).

- **Signification des droits** :

  - `r` (Read) : Lire le fichier / Lister le dossier.
  - `w` (Write) : Modifier le fichier / Cr√©er ou supprimer dans le dossier.
  - `x` (Execute) : Ex√©cuter le fichier (script/programme) / Traverser le dossier (indispensable pour y acc√©der).

- **Changer le propri√©taire** : `chown` (Change Owner)

  - `sudo chown user:group fichier` : Change le propri√©taire et le groupe.
  - `sudo chown -R user:group dossier/` : Applique r√©cursivement au dossier et son contenu (`-R`).

- **Changer les permissions** : `chmod` (Change Mode)

  - **M√©thode Symbolique** (`u/g/o` + `+/-/=` + `r/w/x`) :
    - `chmod u+x script.sh` : Ajoute l'ex√©cution pour le propri√©taire.
    - `chmod o-w file` : Retire l'√©criture aux autres.
  - **M√©thode Octale** (r=4, w=2, x=1) :
    - `7` (4+2+1) : `rwx` (Lecture, √©criture, ex√©cution).
    - `6` (4+2) : `rw-` (Lecture, √©criture).
    - `5` (4+1) : `r-x` (Lecture, ex√©cution).
    - `chmod 644 fichier` : rw- (proprio), r-- (groupe), r-- (autres).
    - `chmod 755 dossier` : rwx (proprio), r-x (groupe), r-x (autres).

      ![octal](/images/2025-12-12-14-38-23.png)

---

#### Sudo (SuperUser DO)

`sudo` permet √† un utilisateur autoris√© d'ex√©cuter des commandes en tant qu'administrateur (root) ou un autre utilisateur, sans se connecter directement en root.

- **Configuration** :

  - Fichier principal : `/etc/sudoers`.
  - Dossier pour ajouts : `/etc/sudoers.d/`.
  - **Outil obligatoire** : Toujours utiliser `sudo visudo` pour √©diter la configuration (v√©rifie la syntaxe avant d'enregistrer pour √©viter de casser le syst√®me).

- **Syntaxe d'une r√®gle sudo** :
    `QUI O√ô=(EN_TANT_QUE) QUOI`

  - Exemple : `%sudo ALL=(ALL:ALL) ALL` (Le groupe sudo peut tout faire, partout, en tant que n'importe qui).
  - Exemple cibl√© : `jean ALL=(root) /usr/bin/systemctl restart nginx` (Jean peut seulement red√©marrer Nginx en tant que root).

- **Commandes utiles** :

  - `sudo -l` : Liste les droits sudo de l'utilisateur courant.
  - `sudo -i` ou `sudo -s` : Ouvre un shell root interactif (√† √©viter pour des t√¢ches ponctuelles).

[Challenge A503](./challenges/Challenge_A503.md) : sur Rocky Linux, cr√©ation d'utilisateur, droits et dossiers.

> üìö **Ressources** :
>
> Gestion des groupes sous Linux <https://www.it-connect.fr/la-gestion-des-groupes-sous-linux/>

[Retour en haut](#-table-des-mati√®res)

---

### üì¶ A504. Gestion des Paquets, Compilation & Logs

> Ce cours couvre la gestion du cycle de vie des logiciels sous Linux (installation via paquets ou compilation) ainsi que la surveillance du syst√®me (logs et ressources mat√©rielles).

#### 1. Gestion des Paquets

Un gestionnaire de paquets automatise l'installation, la mise √† jour et la suppression de logiciels. Il g√®re les **d√©pendances** (biblioth√®ques n√©cessaires au fonctionnement d'un programme) et v√©rifie l'int√©grit√© des fichiers via des d√©p√¥ts officiels.

Il existe toujours une distinction entre l'outil **bas niveau** (g√®re le fichier paquet local) et l'outil **haut niveau** (g√®re les d√©p√¥ts et les d√©pendances).

##### A. Debian / Ubuntu (et d√©riv√©s)

- **Outils** : `dpkg` (bas niveau) et **`apt`** (haut niveau).
- **Fichiers de config** : `/etc/apt/sources.list`.

| Action | Commande `apt` (Recommand√©) |
| :--- | :--- |
| Rafra√Æchir la liste des d√©p√¥ts | `sudo apt update` |
| Mettre √† jour les paquets | `sudo apt upgrade` |
| Installer un paquet | `sudo apt install <nom>` |
| D√©sinstaller un paquet | `sudo apt remove <nom>` |
| Rechercher un paquet | `sudo apt search <nom>` |
| Installer un fichier `.deb` local | `sudo dpkg -i fichier.deb` |

##### B. Arch Linux / Manjaro

- **Outil** : **`pacman`** (g√®re tout : synchro, install, cache).
- **Fichiers de config** : `/etc/pacman.conf`.

| Action | Commande `pacman` |
| :--- | :--- |
| Mettre √† jour tout le syst√®me | `sudo pacman -Syu` |
| Installer un paquet | `sudo pacman -S <nom>` |
| Rechercher un paquet | `sudo pacman -Ss <nom>` |
| D√©sinstaller (+ d√©pendances inutiles) | `sudo pacman -Rns <nom>` |

##### C. Red Hat / Fedora / CentOS

- **Outils** : `rpm` (bas niveau) et **`dnf`** (haut niveau, remplace yum).
- **Fichiers de config** : `/etc/yum.repos.d/`.

| Action | Commande `dnf` |
| :--- | :--- |
| V√©rifier les mises √† jour | `sudo dnf check-update` |
| Mettre √† jour le syst√®me | `sudo dnf upgrade` |
| Installer un paquet | `sudo dnf install <nom>` |
| Installer un fichier `.rpm` local | `sudo rpm -ivh fichier.rpm` |

---

#### 2. Compiler un programme (Depuis les sources)

Parfois n√©cessaire pour avoir une version tr√®s r√©cente, activer des options sp√©cifiques ou √™tre s√ªr que le programme n'a pas √©t√© alt√©r√©.

- **Pr√©requis** : Il faut les outils de d√©veloppement (compilateur `gcc`, `make`, etc.).
  - Debian/Ubuntu : `sudo apt install build-essential`.
  - RHEL : `sudo dnf groupinstall "Development Tools"`.

**Workflow classique (La trinit√© de la compilation) :**

1. **Extraction** : `tar xf logiciel.tar.gz` puis `cd logiciel`.
2. **Configuration** : `./configure` (V√©rifie les pr√©requis et pr√©pare la compilation. On peut ajouter `--prefix=/usr/local` pour choisir le dossier d'install).
3. **Compilation** : `make` (Transforme le code source en binaire. Option `-j$(nproc)` pour aller plus vite).
4. **Installation** : `sudo make install` (Copie les binaires dans le syst√®me).

---

#### 3. Journaux du Syst√®me (Logs)

Les logs sont essentiels pour le d√©pannage. Ils sont soit centralis√©s par **systemd** (binaire), soit stock√©s dans des fichiers texte.

##### A. Fichiers logs classiques (`/var/log/`)

On les lit avec `cat`, `less` ou `tail`.

- `/var/log/syslog` ou `/var/log/messages` : Logs g√©n√©raux.
- `/var/log/auth.log` : Logs d'authentification (sudo, ssh, login).
- `/var/log/dmesg` : Messages du noyau au d√©marrage.

##### B. Journald (systemd)

Commande unique : **`journalctl`**.

- `journalctl -f` : Suivre les logs en direct (√©quivalent √† tail -f).
- `journalctl -xe` : Voir les derni√®res erreurs d√©taill√©es.
- `journalctl -u ssh` : Voir les logs d'un service pr√©cis (ici ssh).
- `journalctl -k` : Messages du noyau (kernel).
- `journalctl --since "10 min ago"` : Logs des 10 derni√®res minutes.

---

#### 4. P√©riph√©riques, Hardware & Surveillance

Pour surveiller les ressources et identifier le mat√©riel.

##### Surveillance des ressources

- **CPU / RAM** : `top` ou `htop` (vue temps r√©el).
- **M√©moire** : `free -h` (affiche la RAM libre/utilis√©e).
- **Disques** :
  - `df -h` : Affiche l'espace disque occup√©/libre (**-h** = human readable, lisible par l'homme en Go/Mo).
  - `lsblk` : Affiche l'arborescence des partitions.

##### Identification Mat√©riel

- `lspci` : Liste les p√©riph√©riques PCI (cartes graphiques, r√©seau...).
- `lsusb` : Liste les p√©riph√©riques USB.
- `dmesg` : Affiche les messages du noyau (tr√®s utile pour voir si un p√©riph√©rique est d√©tect√© au branchement).
- `/dev/` : Dossier contenant les fichiers repr√©sentant le mat√©riel (ex: `/dev/sda` pour un disque).

---

#### ‚å®Ô∏è R√©capitulatif des commandes

> Voici les commandes essentielles √† retenir pour ce module :

- **Infos utilisateur & commandes**
  - `whoami` : Affiche le nom de l'utilisateur courant.
  - `which <commande>` : Affiche le chemin complet de l'ex√©cutable d'une commande (ex: `which python`).
  - `man <commande>` : Affiche le manuel d'utilisation.

- **Paquets**
  - `sudo apt update && sudo apt upgrade` : Mettre √† jour (Debian/Ubuntu).
  - `sudo apt install <paquet>` : Installer.

- **Disques & Fichiers**
  - `df -h` : Espace disque libre (en format lisible).
  - `lsblk` : Liste des blocs/partitions.

- **Logs**
  - `tail -f /var/log/syslog` : Suivre les logs en continu.
  - `journalctl -xe` : Debugger une erreur r√©cente systemd.

[Challenge A504](./challenges/Challenge_A504.md) : Compiler un Binaire.

> üìö **Ressources** :
>
> Cheatsheet Linux <https://cheatography.com/davechild/cheat-sheets/linux-command-line/>

[Retour en haut](#-table-des-mati√®res)

---

### ü™î A505. Atelier LAMP

> Dans cet atelier, vous allez d√©couvrir comment installer et configurer les diff√©rents logiciels n√©cessaire √† la mise en place d'une stack LAMP.
> LAMP pour Linux, Apache, MySQL et PHP : ce sont les briques de bases n√©cessaires pour un serveur web h√©bergeant des applications web cod√©es en PHP !

![LAMP](/images/2025-12-18-16-12-11.png)

[Atelier A505](./challenges/Challenge_A505.md) : Atelier mise en place d'une stack LAMP.

> üìö **Ressources** :
>
> - GLPI 11 sur Debian 13 <https://www.it-connect.fr/installation-pas-a-pas-de-glpi-10-sur-debian-12/>
> - Apache config <https://glpi-install.readthedocs.io/en/latest/prerequisites.html#apache-configuration>
> - Apache Virtual Hosts <https://www.linuxtricks.fr/wiki/apache-les-virtual-hosts>

[Retour en haut](#-table-des-mati√®res)

---

### üìÅ A506. Atelier SAMBA

> L'int√©ret d'utiliser un serveur Linux √† la place d'un Windows Server avec Active Directory ? On √©conomise le co√ªt des licences ! Pas besoin de CAL pour nos postes/utilisateurs.
> Pour remplacer Active Directory sur GNU/Linux, il existe plusieurs solutions. L'une des plus populaires est le logiciel Samba.

![SAMBA](/images/2025-12-18-16-12-30.png)

[Atelier A506](./challenges/Challenge_A506.md) : Atelier mise en place de SAMBA (AD)

> üìö **Ressources** :
>
> - Installer et configurer SAMBA <https://www.it-connect.fr/serveur-de-fichiers-debian-installer-et-configurer-samba-4/>
> - Lier un lecteur r√©seau avec une GPO <https://activedirectorypro.com/map-network-drives-with-group-policy/>
> - Samba et Systemd <https://wiki.samba.org/index.php/Managing_the_Samba_AD_DC_Service_Using_Systemd>

[Retour en haut](#-table-des-mati√®res)

---

### üêß A507. Arch Linux

> Ce cours introduit **Arch Linux**, une distribution ind√©pendante connue pour sa philosophie minimaliste, son mod√®le de mise √† jour continue (*Rolling Release*) et sa gestion de paquets communautaire (AUR). C'est le syst√®me id√©al pour comprendre en profondeur le fonctionnement de Linux.

#### 1. Philosophie & Concepts Cl√©s

Contrairement √† Debian (stabilit√© avant tout) ou Ubuntu (facilit√© d'utilisation), Arch Linux repose sur des principes diff√©rents :

- **KISS (Keep It Simple, Stupid)** :
- Le syst√®me est con√ßu pour √™tre **simple techniquement** (pas de surcouche inutile, pas de patchs complexes), mais pas forc√©ment simple √† utiliser pour un d√©butant.
- L'utilisateur a le contr√¥le total : rien n'est install√© par d√©faut sans que vous l'ayez d√©cid√©.

- **Rolling Release (Publication Continue)** :
- Il n'y a **pas de versions** majeures (pas de "Arch 22.04" ou "Arch 11").
- Vous installez le syst√®me une seule fois, et vous le mettez √† jour continuellement. Vous aurez toujours la toute derni√®re version des logiciels (noyau, drivers, applications) quelques jours apr√®s leur sortie.
- *Avantage* : Toujours √† jour ("Bleeding Edge").
- *Inconv√©nient* : Risque d'instabilit√© si une mise √† jour casse une configuration (n√©cessite de lire les news du site officiel).

- **DIY (Do It Yourself)** :
- Apr√®s l'installation, vous vous retrouvez avec un √©cran noir et un curseur clignotant. C'est √† vous d'installer l'interface graphique, le son, le r√©seau, etc..

#### 2. Gestion des Paquets : Pacman & AUR

Arch Linux utilise un gestionnaire de paquets tr√®s rapide et une communaut√© immense.

- **Pacman (Package Manager)** :
- C'est l'√©quivalent de `apt` ou `dnf`. Il g√®re les d√©p√¥ts officiels (Core, Extra).
- Il utilise des fichiers binaires `.pkg.tar.zst`.

- **AUR (Arch User Repository)** :
- C'est la grande force d'Arch. Si un logiciel n'est pas dans les d√©p√¥ts officiels (ex: Google Chrome, Spotify, ou un petit outil obscur), il est √† 99% dans AUR.
- C'est un d√©p√¥t communautaire contenant des scripts (`PKGBUILD`) qui t√©l√©chargent les sources et compilent le logiciel pour vous.
- Pour l'utiliser facilement, on installe un **"AUR Helper"** comme `yay` ou `paru` (non install√©s par d√©faut).

#### 3. Anatomie de l'Installation

L'installation classique se fait en ligne de commande. Voici les √©tapes logiques :

1. **Clavier & R√©seau** : Mettre le clavier en FR (`loadkeys fr`) et v√©rifier la connexion internet (indispensable car l'installateur t√©l√©charge tout en direct).
2. **Partitionnement** : Utiliser `cfdisk` ou `fdisk` pour cr√©er les partitions (EFI, Root, Swap).
3. **Formatage & Montage** :

- Formater les partitions (`mkfs.ext4`, `mkswap`).
- Monter la partition Root dans `/mnt` (le syst√®me temporaire).

1. **Installation du syst√®me de base** : La commande magique est **`pacstrap`**.

- Exemple : `pacstrap /mnt base linux linux-firmware vim`.

1. **Configuration du syst√®me (Chroot)** :

- G√©n√©rer le fichier fstab (`genfstab`).
- Entrer dans le nouveau syst√®me (`arch-chroot /mnt`) pour devenir "root" √† l'int√©rieur de votre nouvelle installation.
- Configurer la langue, l'heure, le nom de la machine et le mot de passe root.

1. **Bootloader** : Installer et configurer **GRUB** pour que le PC puisse d√©marrer.

> **Note :** Il existe d√©sormais un script officiel nomm√© `archinstall` qui automatise tout cela via des menus, mais savoir le faire √† la main est un excellent exercice p√©dagogique.

#### ‚å®Ô∏è Commandes Essentielles (Pacman)

Voici les √©quivalences pour vous rep√©rer par rapport √† Debian/Ubuntu :

| Action | Commande Arch (`pacman`) | √âquivalent Debian (`apt`) |
| --- | --- | --- |
| Mettre √† jour tout le syst√®me | `sudo pacman -Syu` | `apt update && apt upgrade` |
| Installer un paquet | `sudo pacman -S <nom>` | `apt install <nom>` |
| Chercher un paquet | `pacman -Ss <mot>` | `apt search <mot>` |
| Supprimer un paquet | `sudo pacman -Rs <nom>` | `apt autoremove <nom>` |
| Nettoyer le cache | `sudo pacman -Sc` | `apt clean` |

[Challenge A507](./challenges/Challenge_A507.md) : Installation et test d'Arch Linux.

> üìö **Ressources** :
>
> - Les liens symboliques <https://www.it-connect.fr/creer-un-lien-symbolique-sous-linux/>
> - L'umask sous Linux <https://www.it-connect.fr/gestion-de-lumask-sous-linux/>
> - Install Arch <https://wiki.archlinux.org/title/Installation_guide>

[Retour en haut](#-table-des-mati√®res)

---

### üìû A508. Introduction √† la VoIP et Asterisk

> Ce cours marque la transition de la t√©l√©phonie traditionnelle vers la t√©l√©phonie moderne sur IP. Il aborde l'√©volution des r√©seaux, les protocoles de communication et la mise en place d'un standard t√©l√©phonique logiciel (IPBX) avec Asterisk.

#### 1. L'√âvolution des R√©seaux T√©l√©phoniques

Avant la VoIP, la t√©l√©phonie reposait sur la **commutation de circuits** (une ligne physique est r√©serv√©e entre deux interlocuteurs pendant toute la dur√©e de l'appel).

- **RTC (R√©seau T√©l√©phonique Commut√©)** :
  - Aussi appel√© **PSTN** (Public Switched Telephone Network).
  - C'est le r√©seau analogique historique (la prise en T murale).
  - *Technologie* : Commutation de circuits.
  - *Inconv√©nient* : Co√ªteux, peu flexible, une ligne = un appel.

- **RNIS (R√©seau Num√©rique √† Int√©gration de Services)** :
  - Aussi appel√© **ISDN** (Integrated Services Digital Network) ou **Num√©ris** en France.
  - C'est une √©volution du RTC permettant de transporter de la voix et des donn√©es en num√©rique sur les lignes t√©l√©phoniques classiques.
  - *Avantage* : Qualit√© sup√©rieure, plusieurs appels simultan√©s sur une m√™me ligne physique (canaux B).

- **VoIP (Voice over IP)** :
  - C'est la technologie actuelle. La voix est num√©ris√©e, compress√©e et d√©coup√©e en **paquets** de donn√©es (comme pour un email ou une page web).
  - Elle transite par le r√©seau Internet ou un r√©seau local (LAN).
  - *Avantages* : R√©duction des co√ªts (pas de c√¢blage t√©l√©phonique d√©di√©), mobilit√©, int√©gration avec l'informatique.

#### 2. PABX vs IPBX

C'est le c≈ìur du syst√®me t√©l√©phonique d'une entreprise (le standard).

- **PABX (Private Automatic Branch Exchange)** :
  - L'ancien standard t√©l√©phonique "physique".
  - G√®re les lignes internes et l'acc√®s au r√©seau public (RTC/RNIS).
  - N√©cessite souvent un c√¢blage t√©l√©phonique s√©par√© du r√©seau informatique.

- **IPBX (Internet Protocol Private Branch Exchange)** :
  - C'est la version moderne, souvent logicielle (comme Asterisk).
  - Il g√®re les t√©l√©phones IP via le r√©seau informatique existant (c√¢bles Ethernet RJ45).
  - Il offre des fonctionnalit√©s avanc√©es : messagerie unifi√©e, conf√©rences, serveur vocal interactif (IVR) .

#### 3. Les Protocoles VoIP

Pour t√©l√©phoner sur Internet, on a besoin de deux choses : un protocole pour *√©tablir* la connexion (signalisation) et un protocole pour *transporter* la voix.

- **SIP (Session Initiation Protocol)**  :

  - C'est le standard mondial (RFC 3261) pour la **signalisation**.
  - **R√¥le** : Il ne transporte pas la voix ! Il sert √† **initier** (faire sonner), **modifier** (mettre en attente) et **terminer** (raccrocher) les sessions multim√©dia .
  - **Fonctionnement** : Architecture Client-Serveur (similaire au HTTP du web).

- **Autres protocoles** :
  - **RTP** (Real-time Transport Protocol) : C'est lui qui transporte r√©ellement la voix (le flux audio) une fois que SIP a √©tabli la connexion.
  - **IAX** (Inter-Asterisk eXchange) : Protocole sp√©cifique √† Asterisk, plus efficace pour relier deux serveurs Asterisk entre eux.
  - **H.323** : Ancien standard, plus complexe, aujourd'hui supplant√© par SIP.

#### 4. Architecture Technique et Qualit√©

Pour qu'un appel VoIP fonctionne correctement, le protocole SIP ne suffit pas. Il faut une infrastructure mat√©rielle et une gestion fine du r√©seau.

- **Composants SIP** :
  - **User Agent (UA)** : Le t√©l√©phone (physique ou logiciel) utilis√© par le client.
  - **Proxy SIP** : Serveur qui achemine les requ√™tes d'un utilisateur √† l'autre (le "facteur").
  - **Registrar** : Serveur de base de donn√©es qui note o√π se trouve chaque utilisateur (son adresse IP) quand il s'enregistre.
  - **Gateway (Passerelle)** : L'√©quipement indispensable pour sortir vers le r√©seau classique (appeler un fixe ou un mobile via le RTC).

- **Num√©risation et Codecs** :
  - Le **Codec** (Coder-Decoder) transforme la voix analogique en donn√©es num√©riques compress√©es.
  - **G.711** : Qualit√© standard (HD), aucune compression, consomme **64 kbps**.
  - **G.729** : Forte compression, qualit√© l√©g√®rement d√©grad√©e, id√©al pour petits d√©bits (**8 kbps**).

- **Qualit√© de Service (QoS)** :
  - La VoIP est du temps r√©el : on ne peut pas mettre la voix en "pause" le temps que le r√©seau charge. Il faut configurer la QoS sur les routeurs pour prioriser la voix sur les t√©l√©chargements.
  - **Les 4 crit√®res vitaux** :
    - **Bande passante** : Le d√©bit doit √™tre suffisant.
    - **Latence** : Le d√©lai doit √™tre faible (< 150ms) pour √©viter l'effet "√©cho".
    - **Gigue (Jitter)** : La variation du d√©lai (le pire ennemi de la VoIP).
    - **Perte de paquets** : Entra√Æne des coupures de son (hachures).

#### 5. Zoom sur Asterisk

**Asterisk** est la solution de r√©f√©rence pour cr√©er son propre IPBX.

- **D√©finition** : C'est une plateforme Open Source (cr√©√©e en 1999 par Mark Spencer) qui transforme un ordinateur en serveur de communication complet .

- **Fonctionnalit√©s** : Il agit comme un PBX, une passerelle VoIP, un serveur de conf√©rence et un serveur vocal (IVR) .

**Architecture et Dialplan**
L'intelligence d'Asterisk r√©side dans son **Dialplan** (Plan de num√©rotation). C'est le cerveau qui d√©cide "qui appelle qui" et "que faire quand √ßa sonne" .

- **Fichier de configuration** : Le dialplan se configure dans le fichier `/etc/asterisk/extensions.conf`.

- **Structure d'une r√®gle (Dialplan)**  :
Une r√®gle se compose de 4 √©l√©ments :

  - **Contexte** (`[internal]`) : Groupe logique (ex: appels internes vs appels externes).
  - **Extension** (`100`) : Le num√©ro appel√©.
  - **Priorit√©** (`1`, `2`, `n`) : L'ordre d'ex√©cution des √©tapes.
  - **Application** (`Dial`, `Answer`) : L'action √† effectuer.

- **Exemple de syntaxe**  :

  [internal]                ; Nom du contexte

  exten => 100,1,Answer()   ; √âtape 1 : Si on appelle le 100, Asterisk d√©croche

  exten => 100,2,Playback(hello-world) ; √âtape 2 : Il joue le son "hello-world"

  exten => 100,3,Hangup()   ; √âtape 3 : Il raccroche

**Terminologie importante** :

- **Softphone** : Logiciel install√© sur PC ou Smartphone qui simule un t√©l√©phone (ex: Zoiper, Linphone).
- **Trunk SIP** : Le "tuyau" qui relie votre IPBX Asterisk au monde ext√©rieur (via un op√©rateur VoIP) pour passer des appels sur les fixes/mobiles.

[Challenge A508](./challenges/Challenge_A508.md) : Installer et configurer un serveur Asterisk.

> üìö **Ressources** :
>
> - Code Chappe <https://fr.wikipedia.org/wiki/Code_Chappe>
> - Qu'est-ce que la VoIP <https://www.it-connect.fr/quest-ce-que-la-voip/>
> - Qu'est-ce qu'un PBX <https://www.cisco.com/c/fr_ca/solutions/small-business/resource-center/collaboration/what-is-a-pbx.html>
> - Installing Asterisk <https://docs.asterisk.org/Getting-Started/Installing-Asterisk/>
> - Ubuntu Asterisk <https://doc.ubuntu-fr.org/asterisk>
> - Debian Asterisk <https://doc.clementperrin.fr/application/asterisk/installation-asterisk-18-debian>

[Retour en haut](#-table-des-mati√®res)

---

### ‚òéÔ∏è A509. Atelier Asterisk

> IPBX Asterisk sur Debian 13

[Challenge A509](./challenges/Challenge_A509.md) : Atelier Installer et configurer un serveur Asterisk sur proxmox, fonctionnel via app VOIP du smartphone.

> üìö **Ressources** :
>
> <https://berenger-benam.over-blog.com/2023/06/mise-en-place-de-la-telephonie-sur-ip-avec-asterisk-pjsip.html>

[Retour en haut](#-table-des-mati√®res)

---

### üêß Fin Saison A5. Linux

[QCM Saison A5](https://forms.gle/S27i3URSAbpBPg6T9)

![R√©sultat QCM](/images/2025-12-23-10-05-41.png)

- **üêß M√©mo Linux - L'essentiel √† retenir**

- Les Commandes de Survie (Navigation & Fichiers)

| Commande | Action | Exemple / Option utile |
| --- | --- | --- |
| **`ls`** | **Lister** le contenu | `ls -l` (d√©tails), `ls -a` (fichiers cach√©s) |
| **`cd`** | **Changer** de dossier | `cd ..` (remonter), `cd ~` (aller √† la maison) |
| **`pwd`** | **Afficher** o√π on est | Affiche le chemin absolu actuel |
| **`mkdir`** | **Cr√©er** un dossier | `mkdir -p A/B` (cr√©e tout le chemin) |
| **`cp`** | **Copier** | `cp -r source/ dest/` (pour un dossier complet) |
| **`mv`** | **D√©placer** ou **Renommer** | `mv ancien.txt nouveau.txt` |
| **`rm`** | **Supprimer** | `rm -r dossier/` (supprime un dossier) |
| **`cat`** | **Lire** tout le fichier | Affiche tout le texte d'un coup |
| **`man`** | **Manuel** d'aide | `man ls` (pour quitter : touche `q`) |

- Administration & Syst√®me

| Commande / Concept | R√¥le | D√©tails importants |
| :--- | :--- | :--- |
| **`sudo`** | **Super-utilisateur** | Ex√©cute une commande en tant qu'admin (root) |
| **`chmod`** | Changer les **Permissions** | `chmod +x script.sh` (rend ex√©cutable) |
| **`chown`** | Changer le **Propri√©taire** | `chown user:group fichier` |
| **`\|`** (Pipe) | **Cha√Æner** deux commandes | `ls \| grep "test"` (la sortie de l'un va dans l'autre) |
| **`>`** | **Rediriger** vers un fichier | `echo "coucou" > fichier.txt` (√©crase le contenu) |
| **`apt`** | Gestionnaire de **Paquets** | Pour Debian/Ubuntu (`apt install vlc`) |

- Les Dossiers Cl√©s de l'Arborescence

| Dossier | Contenu |
| --- | --- |
| **`/`** | La **Racine** (le d√©but de tout) |
| **`~`** | Le dossier **Home** de l'utilisateur (`/home/moi`) |
| **`/etc`** | Les fichiers de **Configuration** syst√®me |
| **`/bin`** | Les **Binaires** (programmes essentiels comme `ls`) |
| **`/home`** | Les dossiers personnels des utilisateurs |
| **`/tmp`** | Fichiers temporaires (vid√© au red√©marrage) |

- Culture G√©n√©rale & Histoire

  - **Multics** (1964) : L'anc√™tre complexe.
  - **Unix** (1969) : La version simplifi√©e (KISS), base de tout.
  - **GNU** (1983 - **R. Stallman**) : Le projet libre ("Free as in speech"), mais sans noyau.
  - **Linux** (1991 - **L. Torvalds**) : Le noyau qui a compl√©t√© GNU.
  - **Philosophie Unix** : "Faire une seule chose et la faire bien" + "Tout est fichier".
  - **Distributions** : D√©finies par leur **gestionnaire de paquets** (Debian=`apt` / RedHat=`rpm` / Arch=`pacman`).

Le nombre de VM Linux sur Proxmox √† la fin de la saison

![VM](/images/2025-12-23-11-07-15.png)

[Retour en haut](#-table-des-mati√®res)

---

## **‚òÅÔ∏è Saison B1. Virtualisation**

> Cette saison introduit la Virtualisation, socle technologique indispensable au Cloud Computing et au DevOps. Elle se concentre sur la compr√©hension des hyperviseurs, l'optimisation des ressources mat√©rielles et la gestion d'infrastructures virtuelles via les solutions standards comme VMware et Proxmox.

---

### üíΩ B101. Introduction √† la Virtualisation

> Ce cours introduit les concepts fondamentaux de la virtualisation, son histoire, et distingue les diff√©rents types d'hyperviseurs. Il pr√©sente √©galement les deux outils qui seront utilis√©s durant la semaine : **VMware Workstation** et **Proxmox VE**.

#### 1. Qu'est-ce que la Virtualisation ?

- **D√©finition** : C'est une technologie permettant de cr√©er des versions virtuelles de ressources informatiques (serveurs, stockage, r√©seaux) sur un mat√©riel physique unique.

- **Objectif** : Faire tourner plusieurs syst√®mes d'exploitation (OS) et applications sur un seul serveur physique, comme s'ils avaient chacun leur propre machine.

- **Avantages cl√©s** :

  - **Consolidation** : On passe de "1 serveur = 1 application" √† "1 serveur = 10 VMs".
  - **R√©duction des co√ªts** : Moins de mat√©riel √† acheter (CapEx) et moins d'√©lectricit√©/clim √† payer (OpEx).
  - **Flexibilit√©** : D√©ploiement rapide de nouveaux serveurs.
  - **Isolation** : Si une VM plante, les autres continuent de fonctionner.

#### 2. L'Hyperviseur : La pi√®ce ma√Ætresse

L'hyperviseur est le logiciel qui rend la virtualisation possible. Il s'intercale entre le mat√©riel et les machines virtuelles pour distribuer les ressources (CPU, RAM, Disque). Il en existe deux familles distinctes :

- **Type 1 : Bare Metal (Natif)**

  - **Installation** : S'installe **directement sur le mat√©riel** (le serveur physique), √† la place de l'OS.
  - **Usage** : Production, Data Centers, Entreprises.
  - **Avantages** : Performance maximale, s√©curit√© accrue, acc√®s direct au hardware.
  - *Exemples* : **VMware ESXi**, **Proxmox VE**, Microsoft Hyper-V, Xen.

- **Type 2 : Hosted (H√©berg√©)**

  - **Installation** : S'installe **sur un syst√®me d'exploitation** existant (Windows, Linux, macOS), comme une application classique.
  - **Usage** : Tests, d√©veloppement, p√©dagogie (ce que vous faites sur vos PC).
  - **Inconv√©nients** : Moins performant car il doit passer par l'OS h√¥te pour acc√©der au mat√©riel.
  - *Exemples* : **VMware Workstation**, Oracle VirtualBox, Parallels.

#### 3. Les outils de la semaine

##### A. VMware Workstation (Hyperviseur Type 2)

C'est la r√©f√©rence professionnelle pour la virtualisation de bureau.

- **Fonctionnalit√©s cl√©s** :

  - **Snapshots** : Permet de "geler" l'√©tat d'une VM √† un instant T. Id√©al avant de faire une manipulation risqu√©e pour revenir en arri√®re en cas d'erreur.
  - **Clonage** : Dupliquer une VM rapidement (Clone complet ou Clone li√© pour √©conomiser de l'espace).

- **Modes R√©seau (Crucial pour les TPs)** :

  - **Bridged (Pont)** : La VM est connect√©e directement au r√©seau physique. Elle re√ßoit une IP de votre box/routeur (ex: 192.168.1.x). Elle est vue comme une machine ind√©pendante sur le r√©seau.
  - **NAT (Network Address Translation)** : La VM partage l'IP de l'h√¥te. Elle a acc√®s √† Internet, mais elle est "cach√©e" derri√®re votre PC.
  - **Host-Only** : R√©seau priv√© et isol√© entre l'h√¥te et la VM. Pas d'acc√®s Internet, id√©al pour des labos s√©curis√©s.

##### B. Proxmox VE (Hyperviseur Type 1)

C'est une solution **Open Source** bas√©e sur **Debian**, de plus en plus populaire en entreprise comme alternative √† VMware ESXi (devenu tr√®s cher).

- **Caract√©ristiques** :

  - **Gestion** : Tout se g√®re via une interface Web (GUI).
  - **Polyvalence** : Il g√®re √† la fois :

    1. **KVM (Kernel-based Virtual Machine)** : Virtualisation compl√®te (pour Windows, Linux, etc.).
    2. **LXC (Linux Containers)** : Conteneurs l√©gers (partage le noyau de l'h√¥te), beaucoup plus rapides et √©conomes en RAM.

  - **Fonctionnalit√©s Enterprise** : Supporte la Haute Disponibilit√© (HA), le Clustering et les sauvegardes natives.

#### 4. Autres types de virtualisation

Outre la virtualisation de serveurs, le concept s'applique ailleurs :

- **R√©seau (SDN)** : Cr√©ation de VLANs, switchs virtuels (ex: NSX).
- **Stockage (SDS)** : Regrouper plusieurs disques physiques en un pool virtuel (ex: vSAN, Ceph).
- **Poste de travail (VDI)** : L'utilisateur acc√®de √† son PC Windows √† distance, l'OS tourne en r√©alit√© dans le datacenter.

[Challenge B101](./challenges/Challenge_B101.md) : Installation d'Hyperviseurs Types 1 √© 2, imbrication.

> üìö **Ressources** :
>
> - C'est quoi la virtualisation des r√©seaux ? <https://www.linkedin.com/pulse/cest-quoi-la-virtualisation-des-r%C3%A9seaux-academy-zegus/>
> - Qu'est-ce qu'un Hyperviseur (Red hat) <https://www.redhat.com/en/topics/virtualization/what-is-a-hypervisor>
> - Proxmox <https://pve.proxmox.com/wiki/Main_Page>
> - VMware Workstation : comment virtualiser Proxmox VE <https://www.it-connect.fr/vmware-workstation-comment-virtualiser-proxmox-ve/>

[Retour en haut](#-table-des-mati√®res)

---

### ‚òÅÔ∏è B102. Proxmox VE & Infrastructure Haute Disponibilit√©

> Ce cours est purement pratique et se concentre sur l'administration d'un hyperviseur de Type 1 (**Proxmox VE**). L'objectif est de passer de la gestion d'un simple serveur √† la gestion d'un **Cluster** de serveurs, capable d'assurer la continuit√© de service (HA) et la mobilit√© des machines (Migration).

#### 1. Tour du Propri√©taire : L'Interface Proxmox

L'interface web de Proxmox est hi√©rarchique. Comprendre cette structure est essentiel pour savoir o√π appliquer les configurations.

- **Le Datacenter** (Niveau Racine) :

  - C'est le point d'entr√©e global. Les configurations faites ici (Stockage, Sauvegardes, Utilisateurs) peuvent s'appliquer √† tous les n≈ìuds.
  - C'est ici qu'on visualise l'√©tat de sant√© global du cluster (¬´ Est-ce que tout est vert ? ¬ª).

- **Les N≈ìuds (Nodes)** :

  - Ce sont les serveurs physiques (vos machines *Bare-Metal*).
  - Chaque n≈ìud g√®re ses propres ressources locales (Disques, CPU, RAM, R√©seau).
  - On y cr√©e et g√®re les **VMs** (Machines Virtuelles) et **CTs** (Conteneurs LXC).

- **Gestion des Utilisateurs & Permissions** :

  La s√©curit√© dans Proxmox repose sur plusieurs briques :

  - **Realms (Domaines)** : La m√©thode d'authentification.
    - *Linux PAM* : Utilise les comptes syst√®me de l'OS Debian sous-jacent (ex: `root`).
    - *Proxmox VE (pve)* : Utilisateurs g√©r√©s uniquement par Proxmox, ind√©pendants du syst√®me.
  - **R√¥les** : Des ensembles de privil√®ges pr√©d√©finis (ex: `PVEAdmin` pour tout faire, `PVEVMUser` pour juste utiliser une VM).
  - **Permissions** : L'association **Qui + Quoi + O√π** (Utilisateur X a le R√¥le Y sur la VM Z).

#### 2. Le Clustering

Un **Cluster** consiste √† regrouper plusieurs serveurs physiques (n≈ìuds) pour qu'ils fonctionnent comme une seule entit√© logique.

- **Int√©r√™t** : Administration centralis√©e (une seule interface web pour g√©rer 10 serveurs) et activation des fonctions avanc√©es (Migration, HA).
- **Quorum** : Concept vital. Pour qu'un cluster fonctionne (et puisse modifier des fichiers), la majorit√© des n≈ìuds doit √™tre en ligne (Vote > 50%).
  - *Exemple* : Sur un cluster de 3 n≈ìuds, si 1 tombe, il en reste 2 (Majorit√© OK). Si 2 tombent, le dernier se met en s√©curit√© (Read-only) pour √©viter la corruption de donn√©es (*Split-brain*).

#### 3. Fonctions Avanc√©es (La "Magie" de la Virtualisation)

C'est ici que la virtualisation prend tout son sens par rapport √† des serveurs physiques classiques.

- **La Migration (Live Migration)**

  - **Le concept** : D√©placer une VM d'un n≈ìud A vers un n≈ìud B **sans √©teindre la machine** et sans coupure de service pour l'utilisateur.
  - **Comment √ßa marche ?** : La RAM de la VM est copi√©e √† chaud via le r√©seau vers le nouveau serveur. Une fois la copie finie, la bascule se fait instantan√©ment.
  - **Pr√©requis** : Avoir un stockage partag√© (NAS/SAN) ou utiliser la r√©plication de stockage.

- **La R√©plication (ZFS Replication)**

  - **Le concept** : Copier r√©guli√®rement les donn√©es d'une VM d'un serveur vers un autre pour avoir une copie de secours pr√™te √† l'emploi.
  - **Fonctionnement** : Utilise la puissance du syst√®me de fichiers **ZFS**. Il envoie uniquement les diff√©rences (delta) depuis la derni√®re synchronisation, ce qui est tr√®s rapide (possible toutes les minutes).
  - **Usage** : Permet de migrer rapidement une VM m√™me sans stockage partag√© co√ªteux.

- **La HA (High Availability / Haute Disponibilit√©)**

  - **Le concept** : Le "Saint Graal" de l'infra. Si le serveur physique A tombe en panne (coupure √©lec, carte m√®re grill√©e), le cluster le d√©tecte et **red√©marre automatiquement** les VMs concern√©es sur le serveur B.
  - **Downtime** : Il y a une petite coupure de service (le temps du red√©marrage de l'OS de la VM), mais aucune intervention humaine n'est n√©cessaire √† 3h du matin !
  - **Fencing** : M√©canisme de s√©curit√© pour s'assurer que le serveur en panne est bien "mort" (on lui coupe le courant via une prise connect√©e ou IPMI) avant de relancer ses VMs ailleurs, pour √©viter que deux serveurs ne lancent la m√™me VM en m√™me temps (corruption de donn√©es).

- üí° En r√©sum√©

  - **Hyperviseur Type 1** = Install√© direct sur le m√©tal (Proxmox, ESXi).
  - **Cluster** = Plusieurs n≈ìuds qui discutent ensemble.
  - **Migration** = Je bouge ma VM (maintenance planifi√©e).
  - **HA** = Le cluster sauve ma VM (panne impr√©vue).

[Challenge B102](./challenges/Challenge_B102.md) : Installer ESXi (vSphere)

> üìö **Ressources** :
>
> - Proxmox : configuration du quorum avec un cluster de 2 serveurs <https://rdr-it.com/proxmox-configuration-du-quorum-avec-un-cluster-de-2-serveurs/>
> - Community Scripts pour Proxmox VE <https://community-scripts.github.io/ProxmoxVE/scripts>

[Retour en haut](#-table-des-mati√®res)

---

### üè¢ B103. VMware ESXi & vCenter

> Ce cours marque l'entr√©e dans l'√©cosyst√®me **VMware**, le leader du march√© de la virtualisation en entreprise. Apr√®s avoir vu Proxmox (Open Source), nous passons √† la solution propri√©taire standard : l'hyperviseur **ESXi** et son chef d'orchestre **vCenter**.

#### 1. VMware ESXi : L'Hyperviseur (Le Moteur)

**ESXi** est un hyperviseur de **Type 1** (Bare-Metal). C'est un syst√®me d'exploitation minimaliste con√ßu pour une seule chose : h√©berger des machines virtuelles de mani√®re performante.

- **Installation** :

  - En entreprise, on l'installe directement sur le serveur physique (Dell, HP, etc.).
  - **Virtualisation Imbriqu√©e (Nested Virtualization)** : En TP, nous avons install√© ESXi *√† l'int√©rieur* d'une VM (sur Proxmox ou Workstation). C'est le concept "Inception" (une VM dans une VM). Cela permet de simuler un Datacenter complet sans avoir 10 serveurs physiques.

- **Interface (Host Client)** :

  - Une fois install√©, ESXi se g√®re via une page web accessible sur son IP (https://IP_ESXi/ui).
  - Cette interface permet de g√©rer **un seul** serveur √† la fois (cr√©er des VMs, voir les logs, configurer le r√©seau de base).

#### 2. Les Datastores (Le Stockage)

Pour qu'ESXi puisse cr√©er des VMs, il lui faut de la place pour stocker les fichiers (disques virtuels `.vmdk`, fichiers de config `.vmx`, images ISO).

- **D√©finition** : Un **Datastore** est un espace de stockage logique format√© pour VMware. C'est une abstraction : peu importe que le disque soit un SSD local, un NAS ou une baie SAN, ESXi le voit comme un "Datastore".

- **Syst√®me de fichiers** : Le format propri√©taire utilis√© par VMware pour formater ces disques s'appelle **VMFS** (Virtual Machine File System). Il est con√ßu pour permettre √† plusieurs serveurs d'√©crire sur le m√™me disque en m√™me temps sans corruption.

#### 3. VMware vCenter : La Gestion Centralis√©e

G√©rer 50 serveurs ESXi en se connectant √† 50 pages web diff√©rentes est impossible. C'est l√† qu'intervient **vCenter**.

- **R√¥le** : C'est le point de contr√¥le unique. Il permet de :

  - Rassembler tous les ESXi dans une seule interface.
  - Cr√©er des **Clusters** et activer les fonctions avanc√©es (vMotion, HA, DRS) vues au cours B102.
  - G√©rer les permissions et les mises √† jour globales.

- **L'Appliance vCenter (vCSA)** :

  - Avant, vCenter √©tait un logiciel √† installer sur Windows. Aujourd'hui, c'est une **Appliance**.
  - **D√©finition d'une Appliance** : C'est une solution "cl√© en main". C'est un syst√®me pr√©-install√© et pr√©-configur√© (OS + Logiciel) fourni par l'√©diteur (souvent sous forme de grosse VM).
  - *Avantage* : On ne perd pas de temps √† installer Linux/Windows, configurer la base de donn√©es, etc. On d√©ploie l'appliance, on allume, et √ßa marche.
  - *L'Appliance vCenter (vCSA)* est bas√©e sur une distribution Linux (Photon OS) optimis√©e par VMware.

> Une appliance est une solution informatique ¬´ cl√© en main ¬ª (mat√©rielle ou virtuelle) livr√©e avec son logiciel d√©j√† pr√©-install√© et optimis√© pour remplir une fonction unique imm√©diatement, sans n√©cessiter d'installation complexe (sauvegarde, s√©curit√©, gestion de VMs ESXi,..).

#### üí° R√©sum√© : La diff√©rence ESXi vs vCenter

Pour ne pas confondre les deux :

| Composant | R√¥le | Analogie |
| --- | --- | --- |
| **ESXi** | C'est l'ouvrier. Il fournit la puissance (CPU/RAM) et fait tourner les VMs. | Le moteur de la voiture. |
| **vCenter** | C'est le manager. Il ne fait pas tourner de VM lui-m√™me*, il donne les ordres aux ESXi. | Le conducteur (ou le GPS). |

**Note : vCenter tourne lui-m√™me dans une VM, mais sa fonction est de manager.*

[Challenge B103](./challenges/Challenge_B103.md) : Installer vCenter et le configurer.

> üìö **Ressources** :
>
> Installation vCenter <https://wiki.jovelinantoine.fr/Virtualisation/vcenter/installation>

[Retour en haut](#-table-des-mati√®res)

---

### ‚òÅÔ∏è B104. Op√©rations Avanc√©es avec vCenter et vSphere

> Ce cours explore la puissance de vCenter pour piloter un parc de serveurs ESXi. L'objectif est de passer d'une gestion manuelle √† une gestion centralis√©e, mutualis√©e et flexible (Clusters, vMotion, vSAN).

Il est crucial de ne pas confondre les deux interfaces d'administration de l'appliance vCenter. Elles n'ont pas le m√™me but ni les m√™mes acc√®s.

- **vCenter Server Management (VAMI)** :

  - **URL** : `https://IP_vCenter:5480`
  - **Login** : `root` (le compte syst√®me Linux).
  - **R√¥le** : Sert √† g√©rer l'appliance **en tant que machine** (Mises √† jour du vCenter, √©tat de sant√© syst√®me, sauvegarde de la config, red√©marrage des services). Ce n'est pas ici qu'on g√®re les VMs.

- **vSphere Client (HTML5)** :

  - **URL** : `https://IP_vCenter:443` (ou juste l'IP).
  - **Login** : `administrator@vsphere.local` (le compte admin SSO par d√©faut).
  - **R√¥le** : C'est l'interface de travail quotidienne. C'est ici qu'on cr√©e les clusters, d√©place les VMs, configure le r√©seau, etc.

#### 1. Gestion Centralis√©e des H√¥tes

vCenter agit comme une tour de contr√¥le. Pour l'utiliser, il faut d'abord y connecter vos "ouvriers" (les ESXi).

- **L'ajout d'h√¥tes** :

Au lieu de se connecter sur chaque ESXi individuellement, on les "enr√¥le" dans vCenter.

Cela permet de voir tout le parc (CPU total, RAM totale) dans une seule fen√™tre.

- **Les Images (Repr√©sentation des h√¥tes)** :

Une fois ajout√©s, vos serveurs ESXi apparaissent comme des objets g√©r√©s dans l'inventaire de vCenter.

vCenter maintient une "image" de l'√©tat de chaque h√¥te pour lui envoyer des commandes directement (red√©marrage, configuration, mises √† jour) sans que vous ayez √† toucher √† la console de l'h√¥te.

#### 2. Manipulation des VMs

vCenter facilite grandement les op√©rations courantes sur les machines virtuelles.

- **Les Snapshots** :

Comme vu sur Workstation, c'est une "photo" de la VM √† un instant T.

*Usage pro* : Indispensable avant une mise √† jour critique d'une VM de production pour pouvoir revenir en arri√®re instantan√©ment en cas de crash.

- **Le Clonage** :

Permet de dupliquer une VM existante √† l'identique.

*Template (Mod√®le)* : On transforme souvent une VM "parfaite" (OS install√© + mises √† jour) en **Template**. On ne peut plus la d√©marrer, mais on peut s'en servir pour d√©ployer 50 nouveaux serveurs identiques en quelques clics.

#### 3. Architecture & Haute Disponibilit√© (Clusters)

C'est ici que la "magie" op√®re. On regroupe plusieurs h√¥tes ESXi pour former un **Cluster**.

- **Le Cluster** :

C'est une grappe de serveurs qui travaillent ensemble. vCenter voit le cluster comme un super-ordinateur unique qui additionne la puissance de tous les h√¥tes membres.

- **vMotion (Migration √† chaud)** :
  
  - **Le concept** : D√©placer une VM en cours de fonctionnement d'un h√¥te physique A vers un h√¥te B **sans aucune coupure** pour l'utilisateur.

  - *Utilit√©* : Permet de vider un serveur physique pour faire sa maintenance (ajouter de la RAM, d√©poussi√©rer) sans arr√™ter la production.

  - *Technique* : La m√©moire RAM de la VM est copi√©e √† la vol√©e via le r√©seau.

#### 4. Stockage et R√©seau Virtuel

Pour que vMotion et les Clusters fonctionnent, il faut que le stockage et le r√©seau soient partag√©s.

- **vSAN (Virtual SAN)** :

  - **Le concept** : Au lieu d'acheter une grosse baie de stockage externe co√ªteuse, vSAN utilise les disques durs locaux de chaque serveur ESXi.
  - **Fonctionnement** : Il "colle" tous ces disques ensemble pour cr√©er un √©norme espace de stockage partag√© virtuel visible par tout le cluster. Si un serveur tombe, les donn√©es sont accessibles via les autres (gr√¢ce √† la r√©plication).

- **vSwitch (Commutateur Virtuel)** :

  - C'est l'√©quivalent logiciel d'un switch physique, situ√© √† l'int√©rieur de l'ESXi.
  - **R√¥le** :

    1. Connecter les VMs entre elles (r√©seau interne).
    2. Connecter les VMs au monde ext√©rieur (via les cartes r√©seau physiques de l'ESXi, appel√©es *Uplinks*).
    3. Permettre √† vCenter de communiquer avec l'h√¥te (Portgroup de gestion).

#### üí° En r√©sum√©

- **Cluster** = Plusieurs ESXi qui font √©quipe.
- **vMotion** = Je d√©place ma VM sans l'√©teindre.
- **vSAN** = Je transforme mes disques locaux en stockage partag√©.
- **vSwitch** = Je c√¢ble mes VMs virtuellement.

#### üîÑ L'Alternative Open Source : XCP-ng

Bien que VMware soit le leader, il existe des alternatives puissantes et libres abord√©es rapidement :

- **XCP-ng** : Un hyperviseur de Type 1 Open Source (bas√© sur Xen), alternative directe √† ESXi.
- **Xen Orchestra** : L'interface de gestion web centralis√©e pour XCP-ng, √©quivalent libre de vCenter.
- *Int√©r√™t* : Tr√®s populaire pour s'affranchir des co√ªts de licence VMware (surtout depuis le rachat par Broadcom).

[Challenge B103](./challenges/Challenge_B103.md) : Installer vCenter et le configurer

> üìö **Ressources** :
>
> - Cr√©ation d‚Äôun Datacenter et ajout d'un ESXi hors cluster <https://wiki.jovelinantoine.fr/Virtualisation/vcenter/datacenter>
> - Migration √† chaud de VM avec vSPhere et le vMotion <https://www.it-connect.fr/migration-a-chaud-de-machines-virtuelles-avec-vmware-vsphere-et-le-vmotion%EF%BB%BF/>

[Retour en haut](#-table-des-mati√®res)

---

### ‚òÅÔ∏è Fin Saison B1. Virtualisation

[QCM Saison B1](https://forms.gle/kHM6u1HBdEJXQcEB7)

![R√©sultat QCM](/images/2026-01-09-09-01-05.png)

---

## **üíæ Saison B2. Stockage & sauvegarde**

> Cette saison explore les fondamentaux de la gestion de la donn√©e en entreprise. Elle se concentre sur les architectures de stockage physiques et logicielles (NAS, SAN, SDS), les protocoles d'acc√®s, ainsi que sur les strat√©gies vitales de sauvegarde et de s√©curisation pour garantir l'int√©grit√© et la disponibilit√© des informations.

---

### üíæ B201. Introduction : Sauvegarde & Stockage

> La s√©curit√© absolue n'existe pas. Face aux menaces (ex: Ransomware), il faut pr√©voir l'√©chec des mesures de protection. La sauvegarde est l'ultime rempart pour ne pas payer de ran√ßon et restaurer l'activit√©.

#### 1. Concepts Cl√©s & M√©triques (SLA)

Pour d√©finir une strat√©gie de sauvegarde efficace, il faut d'abord s'accorder avec la direction sur deux m√©triques vitales (SLA)  :

- **PDMA / RPO (Perte de Donn√©es Maximale Admissible)** :
  - *Recovery Point Objective* : C'est le "retour en arri√®re" acceptable. Combien de temps de travail (donn√©es) acceptons-nous de perdre ? (ex: 4h, 24h...).
  - *Impact* : D√©finit la **fr√©quence** des sauvegardes. Si RPO = 1h, il faut sauvegarder toutes les heures.

- **DMIA / RTO (Dur√©e Maximale d'Interruption Admissible)** :
  - *Recovery Time Objective* : C'est le temps "chrono" pour remettre le service en route apr√®s la panne.
  - *Impact* : D√©finit la **technologie** de restauration (disques rapides, r√©plication, etc.).

  **PRA / PCA** : Ces strat√©gies s'inscrivent dans un Plan de Reprise (PRA) ou de Continuit√© (PCA) d'Activit√©. **Important** : Une sauvegarde non test√©e est une sauvegarde inexistante. Il faut tester les restaurations !.

#### 2. Strat√©gie de Sauvegarde

- **R√®gle du 3-2-1 (Standard de l'industrie)**  :

  - **3** copies des donn√©es minimum (1 production + 2 sauvegardes).
  - Sur **2** supports diff√©rents (ex: NAS + Bande, ou Disque + Cloud).
  - Dont **1** copie conserv√©e **hors site** (off-site) pour se prot√©ger des sinistres physiques (incendie, vol).

- **R√©tention** : La dur√©e de conservation des sauvegardes avant suppression (ex: garder les 30 derniers jours, puis 1 an d'archive) .

#### 3. Les Types de Sauvegardes

Comment sauvegarder les donn√©es ? Voici les 3 m√©thodes principales :

| Type | Fonctionnement | Avantages (+) | Inconv√©nients (-) | Restauration |
| --- | --- | --- | --- | --- |
| **Compl√®te** (Full) | Copie 100% des donn√©es √† chaque fois. | Restauration simple et rapide. | Tr√®s long, consomme √©norm√©ment d'espace. | Juste la derni√®re Full. |
| **Incr√©mentielle** | Copie uniquement les modifs depuis la **derni√®re sauvegarde** (quelle qu'elle soit). | Tr√®s rapide, fichier de sauvegarde l√©ger. | Restauration complexe et lente. | Derni√®re Full + **toutes** les incr√©mentielles suivantes. |
| **Diff√©rentielle** | Copie les modifs depuis la **derni√®re Full**. | Bon compromis vitesse/restauration. | Plus lourd que l'incr√©mentielle. | Derni√®re Full + la derni√®re Diff√©rentielle. |

#### 4. Snapshots & R√©plication (Ne pas confondre !)

- **Snapshot (Instantan√©)** :
  - C'est une "photo" du syst√®me √† un instant T.
  - ‚ö†Ô∏è **Ce n'est PAS une sauvegarde** √† part enti√®re car le snapshot d√©pend souvent des donn√©es originales et est stock√© au m√™me endroit.
  - *Usage* : Compl√©ment id√©al pour des retours en arri√®re rapides (ex: erreur utilisateur), combin√© √† une vraie sauvegarde.

- **R√©plication** :
  - Copie des donn√©es (synchrone ou asynchrone) vers un autre site/serveur pour assurer la continuit√© de service (RTO proche de z√©ro).

#### 5. Stockage : M√©dias et Architectures

On classe le stockage selon sa "temp√©rature":

- **Hot (Online)** : Donn√©es accessibles imm√©diatement (Production, Disques rapides).
- **Cold (Offline)** : Donn√©es archiv√©es, non connect√©es √©lectriquement (Bandes LTO dans un coffre).

**Les 3 Architectures physiques**  :

1. **DAS (Direct Attached Storage)** : Disque branch√© directement au serveur (USB/SATA). Rapide mais non partag√©.
2. **NAS (Network Attached Storage)** : Serveur de fichiers autonome sur le r√©seau (Partage via SMB/NFS).
3. **SAN (Storage Area Network)** : R√©seau d√©di√© haute performance (Fibre Channel/iSCSI) o√π le stockage est vu comme un disque local (Bloc) par les serveurs.

**Les Protocoles d'Acc√®s** :

Selon l'architecture, le langage pour acc√©der aux donn√©es change :

- **Mode Fichier (NAS)** :

  - **SMB (Server Message Block)** : Le standard de Windows (et macOS).
  - **NFS (Network File System)** : Le standard du monde Linux/Unix.

- **Mode Bloc (SAN)** :

  - **iSCSI** : Transporte des commandes SCSI sur un r√©seau IP (Ethernet). Permet de monter un disque distant comme s'il √©tait local.

#### 6. S√©curisation Mat√©rielle : Le RAID

Le RAID (Redundant Array of Independent Disks) permet de virtualiser plusieurs disques pour la performance ou la s√©curit√©. Le choix du niveau d√©pend de ce que l'on privil√©gie : **Performance**, **S√©curit√©** (Redondance) ou **Co√ªt**.

| Niveau RAID | Concept & Fonctionnement | Disques Min. | Panne Max. | Avantages | Inconv√©nients |
| --- | --- | --- | --- | --- | --- |
| **RAID 0** | **Striping (Agr√©gation)** : Les donn√©es sont r√©parties sur tous les disques. | **2** | **0** ‚ö†Ô∏è | ‚ûï Performance maximale. | ‚ûñ Si 1 disque l√¢che, tout est perdu. |
| **RAID 1** | **Mirroring (Miroir)** : Les donn√©es sont clon√©es √† l'identique sur 2 disques. | **2** | **1** | ‚ûï S√©curit√© simple. | ‚ûñ 50% d'espace perdu. |
| **RAID 5** | **Parit√© Distribu√©e** : Donn√©es + 1 bloc de parit√© r√©partis sur les disques. | **3** | **1** | ‚ûï Bon compromis Stockage/S√©curit√©. | ‚ûñ √âcriture plus lente (calculs). |
| **RAID 6** | **Double Parit√©** : Donn√©es + 2 blocs de parit√© r√©partis sur les disques. | **4** | **2** | ‚ûï Tr√®s haute s√©curit√©. | ‚ûñ Co√ªteux en disques. |
| **RAID 10** | **Grappe de Miroirs (1+0)** : Combine la vitesse du RAID 0 et la s√©curit√© du RAID 1. | **4** | **1** (par grappe) | ‚ûï Le plus performant et s√©curis√©. | ‚ûñ Le plus cher (50% espace perdu). |

**SDS (Software Defined Storage)** :

  L'intelligence du stockage est g√©r√©e par un logiciel, ind√©pendamment du mat√©riel (ex: **vSAN** chez VMware, **Ceph**, ou **TrueNAS**). Cela permet une grande flexibilit√© et √©volutivit√©.

#### 7. Solutions du March√©

- **Mat√©riel (NAS/SAN)** : Synology, QNAP, Dell EMC, HPE .

- **OS NAS (DIY)** : **TrueNAS** (celui qu'on va utiliser !), OpenMediaVault, Unraid.

- **Logiciels de Sauvegarde** : **Veeam** (Leader), Proxmox Backup Server, UrBackup .

[Challenge B201](./challenges/Challenge_B201.md) : Installation de TrueNAS (Proxmox), configuration ZFS, SMB et snapshots.

> üìö **Ressources** :
>
> - [Recommandations ANSSI pour la sauvegarde](./ressources/anssi-fondamentaux-sauvegarde_systemes_dinformation_v1-0.pdf) <https://messervices.cyber.gouv.fr/guides/fondamentaux-sauvegarde-systemes-dinformation>
> - IT-Connect DAS, SAN, NAS et Cloud <https://www.it-connect.fr/les-das-san-nas-et-le-stockage-cloud-pour-les-debutants/>
> - D√©finition HPE NAS <https://www.hpe.com/fr/fr/what-is/nas.html>
> - D√©finition HPE SAN <https://www.hpe.com/fr/fr/what-is/san-storage.html>
> - D√©finition et niveaux de RAID <https://www.ip-systemes.com/details-qu+est+ce+qu+un+systeme+raid+-870.html>

[Retour en haut](#-table-des-mati√®res)

---

### üóÑÔ∏è B202. Architecture ZFS & TrueNAS

> Ce cours d√©taille le fonctionnement de **ZFS** (Zettabyte File System), de fichiers open source de TrueNAS. Contrairement √† un syst√®me classique, ZFS g√®re √† la fois le syst√®me de fichiers et le gestionnaire de volume (RAID), garantissant une int√©grit√© des donn√©es absolue.

#### 1. La Pyramide de Stockage ZFS

Pour construire le stockage, ZFS utilise une hi√©rarchie stricte. On peut imaginer des poup√©es russes ou des briques Lego :

- **Disques Physiques** : Les disques durs r√©els (HDD ou SSD).

- **Vdev (Virtual Device)** :
  - C'est une "brique" constitu√©e d'un ou plusieurs disques physiques regroup√©s.
  - C'est **au niveau du vdev** que l'on configure la redondance (Miroir, RAIDZ1, RAIDZ2).
  - *Attention* : Si un vdev tombe en panne (trop de disques morts), **tout le Pool est perdu**.

- **Pool de Stockage** :

  - C'est l'espace de stockage global (le "r√©servoir").
  - Il agr√®ge un ou plusieurs vdevs pour additionner leur capacit√©.
  - Exemple : Un pool `Tank` de 20 To form√© de deux vdevs de 10 To.

#### 2. Organisation Logique : Les Datasets

Une fois le Pool cr√©√©, on d√©coupe l'espace intelligemment.

- **Dataset (Jeu de donn√©es)** :
  - Cela ressemble √† un dossier, mais c'est bien plus puissant. C'est un **sous-syst√®me de fichiers**.
  - On peut configurer des propri√©t√©s diff√©rentes pour chaque Dataset :
    - *Compression* (ex: activ√©e pour les documents, d√©sactiv√©e pour les vid√©os).
    - *Quotas* (Limites de taille).
    - *Snapshots* (Fr√©quence de sauvegarde).

  - *Bonne pratique* : Cr√©er un Dataset par usage (ex: `Tank/RH`, `Tank/IT`, `Tank/Videos`).

#### 3. Contr√¥le et S√©curit√© des Donn√©es

ZFS offre des outils granulaires pour g√©rer qui fait quoi et limiter la consommation.

- **Quotas** :
  - Limite d'espace disque impos√©e √† un Dataset ou un utilisateur.
  - *But* : Emp√™cher qu'un service ou un utilisateur ne sature tout le serveur.

- **Permissions (ACL)** :
- D√©finit qui a le droit de **Lire (Read)**, **√âcrire (Write)** ou **Ex√©cuter** les fichiers.
- Essentiel pour la confidentialit√© (ex: Le groupe "Stagiaires" ne doit pas acc√©der au Dataset "Compta").

- **Snapshots (Instantan√©s)** :
  - Photo de l'√©tat des donn√©es √† un instant T.
  - **Immuable** : Le snapshot ne peut pas √™tre modifi√© par un virus ou un ransomware.
  - **L√©ger** : Ne stocke que les blocs modifi√©s (Copy-on-Write). Permet de revenir en arri√®re instantan√©ment si on efface un fichier par erreur.

#### 4. Partage R√©seau (Protocoles)

Une fois les donn√©es stock√©es et s√©curis√©es, il faut les rendre accessibles aux clients via le r√©seau.

| Protocole | Signification | Cible principale | Type d'acc√®s |
| --- | --- | --- | --- |
| **SMB** | Server Message Block | **Windows** / macOS | **Fichier** (Dossier partag√© classique). |
| **NFS** | Network File System | **Linux** / Unix | **Fichier** (Montage dans l'arborescence). |
| **iSCSI** | Internet SCSI | **Serveurs / VM** | **Bloc** (Vu comme un disque dur local non format√© par le client). |

#### üí° En r√©sum√© : La logique de construction TrueNAS

1. J'assemble mes **Disques** pour cr√©er un **Vdev** (avec s√©curit√© RAIDZ).
2. Je mets mes Vdevs dans un **Pool** (mon grand r√©servoir).
3. Je d√©coupe mon Pool en **Datasets** (mes casiers de rangement).
4. J'applique des **Permissions** et **Quotas** sur ces Datasets.
5. Je partage mes Datasets via **SMB** ou **NFS** pour que les utilisateurs y acc√®dent.

[Challenge B202](./challenges/Challenge_B202.md) : Installation Veeam Backup & Replication, configuration, restauration.

> üìö **Ressources** :
>
> - (ancien)TP Sauvegarde et Stockage : <https://pmaldi.notion.site/Atelier-TP-Sauvegarde-Stockage-1907f06da9c780bd95b3ec2cb4032c52>

[Retour en haut](#-table-des-mati√®res)

---

### üõ°Ô∏è B203. Veeam Backup & Replication

> **Veeam** est la solution de r√©f√©rence pour la sauvegarde des infrastructures virtualis√©es. Ce cours d√©taille son architecture modulaire, ses m√©thodes de sauvegarde intelligente (CBT) et ses m√©canismes de restauration rapide, essentiels pour garantir un RPO/RTO optimal en entreprise.

#### 1. Introduction et Philosophie

Veeam Backup & Replication est un logiciel con√ßu sp√©cifiquement pour les environnements virtuels (VMware vSphere, Microsoft Hyper-V, Nutanix AHV, Proxmox VE).

Contrairement aux solutions traditionnelles qui installaient un "agent" (petit logiciel) dans chaque serveur √† sauvegarder, Veeam est **Agentless** (sans agent) pour les VMs : il communique directement avec l'hyperviseur pour copier les donn√©es, ce qui all√®ge la charge sur les serveurs de production.

#### 2. Architecture Modulaire (Les Composants)

Veeam fonctionne comme un jeu de Lego. On peut tout installer sur un seul serveur (pour une PME) ou √©clater les r√¥les sur plusieurs machines (pour une grande entreprise).

- **Veeam Backup Server (Le Cerveau)** :
  - C'est le chef d'orchestre. Il contient la configuration, la planification des t√¢ches (Jobs) et la base de donn√©es catalogue. C'est lui qui donne les ordres.

- **Backup Proxy (Les Bras)** :
  - C'est le "d√©m√©nageur". Il se situe entre la source (l'hyperviseur) et la destination.
  - **R√¥le** : Il r√©cup√®re les donn√©es, les compresse, les d√©duplique (pour gagner de la place) et les envoie au d√©p√¥t. C'est lui qui consomme le CPU et la RAM lors d'une sauvegarde.

- **Backup Repository (L'Entrep√¥t)** :
  - C'est la cible de stockage. C'est l√† que sont √©crits les fichiers de sauvegarde (`.vbk`, `.vib`).
  - Il peut s'agir d'un serveur Windows/Linux, d'un NAS (via SMB/NFS), ou d'une appliance de d√©duplication.

#### 3. M√©canismes de Sauvegarde

Comment Veeam fait-il pour √™tre rapide et ne pas saturer le stockage ?

- **Le principe de la Cha√Æne de Sauvegarde** :
  - **Full Backup (Compl√®te - `.vbk`)** : Contient 100% des donn√©es de la VM. C'est la base, tr√®s lourde.
  - **Incremental Backup (Incr√©mentielle - `.vib`)** : Ne contient *que* les donn√©es modifi√©es depuis la derni√®re sauvegarde. Tr√®s l√©ger.
  - *Fonctionnement typique* : On fait une "Full" le dimanche, et des "Incr√©mentielles" du lundi au samedi.

- **CBT (Change Block Tracking)** : *La technologie cl√©.*
  - Au lieu de scanner tout le disque dur pour chercher ce qui a chang√© (ce qui prendrait des heures), Veeam demande directement √† l'hyperviseur : *"Quels blocs disque ont √©t√© modifi√©s depuis hier ?"*.
  - L'hyperviseur renvoie la liste exacte, et Veeam ne copie que ces quelques blocs. La sauvegarde prend quelques minutes au lieu de quelques heures.

#### 4. La R√®gle du 3-2-1 et la S√©curit√©

Veeam int√®gre nativement les outils pour respecter les standards de s√©curit√© :

- **Backup Job** : Sauvegarde locale (sur site) pour la performance (restauration rapide).
- **Backup Copy Job** : Copie automatique de la sauvegarde vers un site distant ou le Cloud, sans toucher √† la production.
- **Immuabilit√© (Hardened Repository)** : Protection contre les **Ransomwares**. Veeam permet de stocker les sauvegardes sur des d√©p√¥ts Linux verrouill√©s (WORM - Write Once Read Many). Pendant la dur√©e d√©finie (ex: 10 jours), personne, m√™me pas l'administrateur, ne peut supprimer ou chiffrer ces fichiers.

#### 5. Les Types de Restauration (Restore)

C'est la force principale de Veeam : la granularit√©.

- **Full VM Restore** : On restaure la machine virtuelle enti√®re √† son emplacement d'origine. C'est long (il faut tout copier).
- **Instant VM Recovery** :
  - Permet de d√©marrer une VM **directement depuis le fichier de sauvegarde** (le Repository agit comme un Datastore temporaire).
  - **Int√©r√™t** : La VM est up en 2 minutes, m√™me si elle fait 500 Go. On migre les donn√©es en arri√®re-plan pendant que les utilisateurs travaillent. Id√©al pour le **RTO**.

- **File Level Recovery (FLR)** : On ouvre le fichier de sauvegarde comme un dossier, et on restaure juste un fichier pr√©cis (ex: un Excel √©cras√© par erreur) vers la VM d'origine.

#### üí° Synth√®se du vocabulaire Veeam

| Terme | D√©finition |
| --- | --- |
| **Job** | Une t√¢che planifi√©e (Sauvegarde, Copie, R√©plication). |
| **Repository** | L'emplacement logique o√π sont stock√©s les fichiers de backup. |
| **Proxy** | Le service qui traite la donn√©e (compression/transport). |
| **Retention** | Le nombre de points de restauration (jours) que l'on conserve. |
| **CBT** | Technologie de suivi des blocs modifi√©s pour acc√©l√©rer les backups. |

[Challenge B202](./challenges/Challenge_B202.md) : Installation Veeam Backup & Replication, configuration, restauration.

> üìö **Ressources** :
>

[Retour en haut](#-table-des-mati√®res)

---

### ‚ôªÔ∏è B204. Proxmox Backup Server

> **PBS** est une solution de sauvegarde moderne orient√©e "d√©duplication", con√ßue pour s'int√©grer nativement avec Proxmox VE. L'objectif est de d√©ployer une sauvegarde rapide, √©conome en espace et s√©curis√©e contre les ransomwares.

#### 1. M√©thodes d'Installation & R√©seau

Avant d'attaquer la sauvegarde, il faut comprendre comment PBS s'implante dans l'infrastructure. Nous avons vu deux m√©thodes :

- **Installation via ISO** : La m√©thode classique "Bare-metal". On utilise l'ISO officielle sur une machine (ou une VM) pour installer l'OS et le logiciel d'un coup.

- **Installation sur Linux existant** : PBS peut s'installer sur une **Debian** standard d√©j√† en place. Cela demande de g√©rer les sources APT et d'adapter les d√©p√¥ts (notamment pour **Debian 13**).

**Architecture R√©seau** :
Pour s√©curiser les flux, une configuration √† **deux cartes r√©seau** est essentielle (et impos√©e par notre architecture pfSense) :

1. Une interface pour le r√©seau g√©n√©ral/cluster.

2. Une interface **d√©di√©e** √† la communication directe avec Proxmox VE (Management).
*L'adressage IP doit √™tre configur√© manuellement (IP Statique) pour garantir la connectivit√©.*

#### 2. Philosophie : La D√©duplication

Contrairement aux sauvegardes classiques, PBS repose sur une approche **"Incremental-Forever"** et une forte **D√©duplication**. PBS ne stocke pas des fichiers entiers, il stocke des **Chunks** (morceaux).

- **Le Chunking** : Le fichier disque d'une VM est d√©coup√© en millions de petits morceaux.
- **Le Hachage** : Chaque morceau re√ßoit une empreinte num√©rique unique.
- **La D√©duplication** : Le client demande au serveur : *"Tu as d√©j√† ce morceau ?"*.
  - **Oui** : On ne l'envoie pas (gain de temps et de bande passante).
  - **Non** : On l'envoie et PBS le stocke.

  **R√©sultat** : Si vous avez 10 VMs Windows identiques, le syst√®me d'exploitation n'est stock√© qu'une seule fois.

#### 3. Gestion du Stockage (Datastore & RAID)

Dans PBS, l'espace de stockage s'appelle aussi un **Datastore**. C'est le dossier o√π sont stock√©s les Chunks et les Index. Ce stockage repose souvent sur **ZFS** et des concepts de protection disque :

- **RAID** : Assure la tol√©rance aux pannes mat√©rielles.
- **RAID-Z** : La variante ZFS qui combine performance et protection des donn√©es.
- **Miroir** : Duplication des donn√©es sur plusieurs disques.

**Garbage Collection (GC)** :
C'est le "Ramasse-miettes". Une t√¢che de maintenance essentielle qui scanne le Datastore pour supprimer r√©ellement les "Chunks orphelins" (ceux qui ne sont plus utilis√©s par aucune sauvegarde) afin de lib√©rer de la place.

#### 4. Int√©gration PVE & S√©curit√©

La connexion entre votre hyperviseur (PVE) et votre sauvegarde (PBS) est critique.

- **Jointure & Fingerprint** : L'ajout du PBS dans Proxmox VE n√©cessite une validation par **Empreinte (Fingerprint)**. C'est une s√©curit√© cryptographique pour √™tre s√ªr que l'on parle au bon serveur et √©viter les interceptions.
- **Chiffrement (Encryption)** : Les donn√©es peuvent √™tre chiffr√©es c√¥t√© client (PVE) avant l'envoi. Le serveur PBS ne voit alors que des donn√©es illisibles.

#### 5. Sauvegardes & Restaurations (Validation)

Sauvegarder ne suffit pas, il faut valider la protection des donn√©es par des tests :

- **Verify Jobs** : T√¢ches planifi√©es qui relisent les morceaux stock√©s pour v√©rifier leur int√©grit√© physique (bit rot).
- **Restauration Compl√®te** : Remettre une VM enti√®re sur pied.
- **File Picking (Collecte de fichiers)** : Capacit√© √† restaurer *juste un fichier* pr√©cis √† l'int√©rieur d'une archive de Conteneur ou de VM, sans tout √©craser.
- **Simulation d'erreurs** : Provoquer des pannes volontaires pour valider que les proc√©dures de restauration fonctionnent r√©ellement.

#### 6. Synchronisation & R√®gle 3-2-1

Pour respecter la r√®gle du 3-2-1, PBS utilise les **Remotes** et la **Sync**.

- **Remote** : On d√©clare un autre serveur PBS distant.

- **Sync Job** : On configure une t√¢che qui va "tirer" les sauvegardes d'un PBS A vers un PBS B.

- *Avantage* : Gr√¢ce √† la d√©duplication, seuls les nouveaux morceaux sont transf√©r√©s via Internet. C'est extr√™mement efficace pour la r√©plication hors-site.

#### 7. Maintenance : Le Pruning (√âlagage)

Comme sur Veeam, il faut d√©finir une politique de r√©tention pour ne pas saturer le disque. Cela s'appelle le **Pruning**.

- Exemple de politique :
  - `keep-last=7` (Garder les 7 derni√®res sauvegardes)
  - `keep-daily=1` (Garder 1 par jour sur 2 semaines)
  - `keep-weekly=4` (Garder 1 par semaine...)

- PBS supprime les index des vieilles sauvegardes, et le *Garbage Collector* passera plus tard pour nettoyer les blocs.

#### üí° R√©sum√© : Diff√©rences Cl√©s Veeam vs PBS

| Fonctionnalit√© | Veeam Backup & Replication | Proxmox Backup Server |
| --- | --- | --- |
| **Cible** | VMware, Hyper-V, Nutanix, Physique | **Proxmox VE**, Linux (Debian) |
| **Format** | Fichiers `.vbk` (Full) et `.vib` (Incr) | **Chunks** (Morceaux d√©dupliqu√©s) |
| **Architecture** | Agentless (Hyperviseur) ou Agent (Physique) | Client natif int√©gr√© dans PVE |
| **Installation** | Windows (Server ou Desktop) | **Bare-metal** (ISO) ou sur Debian |
| **Licence** | Payant (Community limit√©e) | **Open Source** (Support payant optionnel) |

**En bref** : Pour un environnement 100% Proxmox, PBS est plus performant (d√©duplication native) et l√©ger. Veeam reste incontournable pour les parcs h√©t√©rog√®nes (Windows/VMware).

![proxmox](/images/2026-01-15-10-01-36.png)

#### üöÄ Zoom 2026 : L'√âcosyst√®me Proxmox Unifi√© (V9 & Datacenter)

Depuis fin 2025, Proxmox ne se limite plus √† un hyperviseur et un serveur de sauvegarde isol√©s. L'architecture a √©volu√© pour concurrencer directement les g√©ants comme VMware Cloud Foundation.

#### 1. Proxmox VE 9 et les "Nouveaux" Conteneurs

La version 9 (bas√©e sur Debian 13 "Trixie") a bris√© une barri√®re historique dans la virtualisation l√©g√®re :

- **Support OCI (Open Container Initiative)** : Avant, les conteneurs LXC √©taient des "petits Linux" (OS complet). Avec la V9, Proxmox peut lancer des **images OCI** (le format standard utilis√© par Docker/Kubernetes) directement dans des conteneurs LXC.

- *Int√©r√™t pour le Backup* : PBS 4 (la nouvelle version majeure) sait d√©dupliquer ces images conteneurs de mani√®re encore plus agressive, car elles partagent toutes les m√™mes couches de base (Layers).

#### 2. Proxmox Datacenter Manager

C'est la pi√®ce manquante qui est enfin arriv√©e (V1.0 sortie en d√©c. 2025).

- **Le Concept** : C'est une troisi√®me brique logicielle qui s'installe au-dessus de tout le reste. Elle offre une **interface unique** pour piloter plusieurs clusters PVE et plusieurs serveurs PBS diss√©min√©s g√©ographiquement.

- **Corr√©lation** : Au lieu de configurer vos sauvegardes PBS cluster par cluster, vous d√©finissez une strat√©gie globale dans le Datacenter Manager, et il l'applique partout. Il permet aussi la migration √† chaud de VMs entre deux clusters diff√©rents (Cross-Cluster Migration), ce qui change la strat√©gie de sauvegarde (le backup doit suivre la VM !).

> **En r√©sum√©** : Aujourd'hui, l'admin syst√®me g√®re le trio **PVE 9** (Compute) + **PBS 4** (Backup) + **Datacenter Manager** (Orchestration).

[Challenge B204](./challenges/Challenge_B204.md) : Installer Proxmox Backup Server, configurer, backup et restore.

> üìö **Ressources** :
>
> - Documentation PBS <https://pbs.proxmox.com/docs/>
> - Transf√©rer des fichiers sous Linux avec SCP <https://www.it-connect.fr/transferer-fichiers-linux-scp-exemples-commandes/>

[Retour en haut](#-table-des-mati√®res)

---

### üíæ Fin Saison B2. Stockage & sauvegarde

[QCM Saison B2](https://forms.gle/QM4RdUAYAwpWHtfR8)

![R√©sultat QCM](/images/2026-01-16-09-42-43.png)

---

## **üìä Saison B3. Supervision**

> Cette saison se concentre sur la "sant√©" du Syst√®me d'Information. L'objectif est de passer d'une gestion r√©active ("C'est cass√©, on r√©pare") √† une gestion proactive ("√áa va casser, on intervient"). On y apprendra √† collecter des m√©triques, g√©rer des alertes et utiliser les protocoles standards comme SNMP.

---

### üìä B301. Introduction : Monitoring & Supervision

> Ce premier cours pose les bases th√©oriques. Il distingue la collecte de donn√©es (Monitoring) de l'analyse d√©cisionnelle (Supervision) et introduit le protocole roi des r√©seaux : SNMP.

#### 1. Supervision vs Monitoring : Quelle diff√©rence ?

Bien que souvent utilis√©s comme synonymes, ces termes ont une nuance importante  :

- **Monitoring (Surveillance)** : C'est l'action technique de **collecter des donn√©es** en temps r√©el sur l'√©tat des composants (ex: "Le CPU est √† 80%"). C'est le thermom√®tre.
- **Supervision (Pilotage)** : C'est l'√©tape sup√©rieure. Elle **analyse** ces donn√©es pour prendre des d√©cisions, d√©clencher des alertes, visualiser l'√©tat global et parfois automatiser des corrections (ex: "Le CPU est > 80% depuis 5min -> Alerte Critique -> Red√©marrage du service").

**Pourquoi superviser ?**
Pour garantir la disponibilit√© (le service est-il accessible ?), la performance (est-il rapide ?) et la s√©curit√© du SI. L'objectif final est de r√©duire les temps d'arr√™t et d'am√©liorer la productivit√©.

#### 2. Les Donn√©es de la Supervision

Pour surveiller un syst√®me, on s'appuie sur trois piliers :

- **Les M√©triques (Chiffres)** : Donn√©es quantitatives mesurables (ex: Temps de r√©ponse, % RAM utilis√©e, D√©bit r√©seau). Elles servent √† faire des graphiques et voir l'√©volution.

- **Les Logs (Journaux)** : Donn√©es qualitatives/textuelles. Ce sont les enregistrements d'√©v√©nements pass√©s (ex: "Connexion √©chou√©e de l'utilisateur admin").

- **Les Alertes (Notifications)** : Message envoy√© √† l'administrateur lorsqu'une m√©trique d√©passe un seuil. On distingue 3 niveaux  :

  - ‚ÑπÔ∏è **Info** : Pour suivi.
  - ‚ö†Ô∏è **Warning** : Probl√®me potentiel, √† surveiller.
  - üö® **Critique** : Incident majeur, intervention imm√©diate requise.

  **KPI & SLA** : Les m√©triques deviennent des **KPI** (Indicateurs Cl√©s de Performance) qui permettent de v√©rifier si l'on respecte les **SLA** (Accords de niveau de service d√©finis avec le client) .

#### 3. M√©thodes et Strat√©gies

- **Proactif vs R√©actif** : Le but est d'√™tre **Proactif** (anticiper la panne avant qu'elle n'impacte l'utilisateur) plut√¥t que **R√©actif** (r√©parer apr√®s la panne) .

- **Push vs Pull** :
  - *Polling (Pull)* : Le serveur de supervision demande r√©guli√®rement "√áa va ?" √† l'√©quipement.
  - *Push* : L'√©quipement envoie lui-m√™me l'info quand elle change.

- **Agent vs Agentless** :
  - *Avec Agent* : On installe un petit logiciel sur le serveur cible (plus pr√©cis, mais intrusif).
  - *Agentless* : On utilise des protocoles standards sans rien installer (ex: SNMP, WMI).

#### 4. Le Protocole SNMP (Simple Network Management Protocol)

C'est le standard universel pour superviser les √©quipements r√©seaux (routeurs, switchs) et serveurs sans agent.

**Architecture en 3 composants**  :

1. **Manager** (Serveur de supervision) : Il pose les questions (Zabbix, Nagios...).
2. **Agent** (√âquipement) : Il r√©pond aux questions ou envoie des alertes.
3. **MIB** (Management Information Base) : La base de donn√©es hi√©rarchique qui contient toutes les infos possibles. Chaque info a une adresse unique appel√©e **OID** (ex: `1.3.6.1...` pour le nom du syst√®me).

**Fonctionnement**  :

- **GET** : Le Manager demande une info ("Quelle est ta charge CPU ?"). C'est du *Polling*.
- **TRAP** : L'Agent envoie une alerte spontan√©e ("Alerte ! Interface Down !"). C'est du *Push* (ou Alerting).

**Les Versions de SNMP**  :

- **v1 & v2c** (Le plus courant) : Simple mais **non s√©curis√©**. Le mot de passe (appel√© **Community String**) circule en clair sur le r√©seau.

- **v3** (Le standard recommand√©) : Complexe mais **s√©curis√©**. Il apporte l'authentification (login/mdp) et le chiffrement des √©changes.

#### 5. Outils du march√©

Quelques noms cit√©s dans le cours pour la culture g√©n√©rale:

- **Open Source** : Zabbix, Nagios, Centreon.
- **Commercial** : PRTG.

**En r√©sum√©** üí°

- **Supervision** = Analyse & D√©cision / **Monitoring** = Collecte.
- **SNMP** est le protocole roi du r√©seau. Il utilise le **Port 161 (UDP)** pour les questions (GET) et **162 (UDP)** pour les alertes (TRAP).

- En production, on √©vite SNMP v1/v2c (mot de passe "public" en clair) et on privil√©gie **SNMP v3** pour la s√©curit√©.

[Challenge B301](./challenges/Challenge_B301.md) : Installation de Zabbix

> üìö **Ressources** :
>
> - SNMPv2c vs SNMPv3 : comparaison de la s√©curit√© avec Wireshark <https://www.it-connect.fr/snmpv2c-vs-snmpv3-comparaison-de-la-securite-avec-wireshark/>
> - Zabbix Documentation <https://www.zabbix.com/documentation/8.0/en/manual/appliance>

[Retour en haut](#-table-des-mati√®res)

---

### ü§ñ B302. Pr√©sentation de Zabbix

> D√©couvrons **Zabbix**, la solution Open Source de r√©f√©rence pour la supervision d'entreprise. Comprendre comment ses diff√©rents composants s'articulent pour collecter, stocker et visualiser l'√©tat de sant√© du Syst√®me d'Information.

#### 1. Qu'est-ce que Zabbix ?

**Zabbix** est un logiciel de supervision "tout-en-un" cr√©√© en 2001. Il est gratuit (Open Source sous licence GPLv2) et con√ßu pour passer √† l'√©chelle de la petite PME au grand groupe.

- **P√©rim√®tre de surveillance** : Il surveille absolument tout :
  - **Infrastructure** : Serveurs (Linux/Windows), R√©seau (Switchs/Routeurs via SNMP).
  - **Cloud & Virtualisation** : VMs, Conteneurs (Docker/K8s), Services Cloud.
  - **Applications** : Bases de donn√©es, serveurs Web (Apache/Nginx), applications Java.

- **Philosophie** : Centraliser toutes les m√©triques en un point unique pour alerter en cas de probl√®me.

#### 2. Architecture & Composants

Zabbix repose sur une architecture modulaire compos√©e de 4 briques essentielles :

- **Zabbix Server (Le Cerveau)** :

  - C'est le processus central (backend en C).
  - **R√¥le** : Il ordonne la collecte des donn√©es, traite les informations re√ßues, calcule les d√©clencheurs (triggers) et envoie les alertes (mails, SMS).

- **Base de Donn√©es (La M√©moire)** :

  - **R√¥le** : Tout est stock√© ici : la configuration de Zabbix ET l'historique des donn√©es collect√©es.
  - **Technologies** : Compatible avec MySQL, MariaDB, PostgreSQL (et Oracle pour les versions pro).

- **Zabbix Frontend (Le Visage)** :

  - **R√¥le** : L'interface Web (en PHP) qui permet √† l'administrateur de configurer la supervision et de visualiser les graphiques/tableaux de bord.

- **Zabbix Agent (Les Bras)** :

  - **R√¥le** : Petit logiciel install√© directement sur les serveurs √† surveiller (Linux ou Windows).
  - Il r√©cup√®re les infos locales (CPU, RAM, Disque) et les renvoie au serveur.
  - *Note* : Pour le mat√©riel r√©seau o√π on ne peut pas installer d'agent, Zabbix utilise le protocole **SNMP**.

#### 3. Fonctionnement : Le Flux de Donn√©es

Comment une donn√©e arrive-t-elle sur votre √©cran ?

1. **Collecte** : L'Agent (ou le Serveur via SNMP) mesure une valeur (ex: CPU √† 90%).
2. **Stockage** : La valeur est envoy√©e au Serveur Zabbix qui l'√©crit en Base de Donn√©es.
3. **Analyse** : Le Serveur compare cette valeur √† un seuil d√©fini (Trigger).
    - *Exemple* : "Si CPU > 80% alors ALERTE".
4. **Visualisation** : L'administrateur voit l'alerte clignoter sur l'Interface Web.

#### 4. Concepts Cl√©s (Vocabulaire Zabbix)

Pour ma√Ætriser Zabbix, il faut parler son langage :

- **Host (H√¥te)** : Tout √©quipement surveill√© (Serveur, Switch).
- **Item (√âl√©ment)** : Une m√©trique pr√©cise que l'on surveille (ex: "Charge CPU", "Espace Disque C:").
- **Trigger (D√©clencheur)** : La r√®gle qui d√©finit un probl√®me (ex: "Espace libre < 10%").
- **Action** : Ce que fait Zabbix en cas de probl√®me (Envoyer un email, red√©marrer un service).

**En r√©sum√©** üí°

- **Zabbix** = Solution compl√®te (OS + R√©seau + App).
- **Agent** = Install√© sur les serveurs pour des infos pr√©cises.
- **Serveur + BDD + Frontend** = Le trio central pour g√©rer la supervision.
- **SNMP** = Utilis√© par Zabbix pour surveiller ce qui ne supporte pas d'agent (Routeurs/Switchs).

[Challenge B302](./challenges/Challenge_B302.md) : Installation d'Agents Zabbix pour √©tendre la supervision √† l‚Äôensemble de l‚Äôinfrastructure.

> üìö **Ressources** :
>
> - Manuel Zabbix, doc officielle <https://www.zabbix.com/documentation/current/en/manual/introduction/manual_structure>

[Retour en haut](#-table-des-mati√®res)

---

### üïµÔ∏è B303. Les Agents Zabbix

> Comprendre le fonctionnement de la brique "collecte" de Zabbix. L'agent est le composant essentiel pour une surveillance fine et granulaire des syst√®mes (OS, Hardware) et des applications.

#### 1. Qu'est-ce qu'un Agent Zabbix ?

L'Agent Zabbix est un **d√©mon (service)** l√©ger install√© directement sur l'h√¥te √† surveiller (Serveur Linux, Windows, BSD...).

- **R√¥le** : Il acc√®de aux ressources locales (CPU, RAM, journaux, disques) pour collecter des m√©triques pr√©cises que le serveur Zabbix ne pourrait pas voir depuis l'ext√©rieur.
- **Compatibilit√©** : Multiplateforme (Linux, Windows, macOS, BSD, AIX, Solaris...).

#### 2. Les Deux Versions d'Agents

Zabbix propose deux d√©clinaisons de son agent. Elles peuvent cohabiter, mais on en choisit g√©n√©ralement une selon le besoin :

- **Zabbix Agent (Classic)** :
  - L'agent historique, √©crit en **C**.
  - Tr√®s l√©ger, stable et √©prouv√©.
  - Fonctionne sur toutes les architectures (m√™me tr√®s anciennes).

- **Zabbix Agent 2** :
  - La version moderne, √©crite en **Go**.
  - **Modulaire** : Il int√®gre nativement des **plugins** pour surveiller des applications complexes (Docker, MySQL, PostgreSQL, Redis) sans avoir besoin de scripts externes compliqu√©s.
  - G√®re mieux les connexions persistantes et la concurrence.

#### 3. Modes de Communication : Actif vs Passif

C'est la notion technique la plus importante. Comment l'Agent et le Serveur se parlent-ils ? Le choix d√©pend de votre architecture r√©seau (Firewall, NAT).

| Mode | Qui initie la connexion ? | Fonctionnement | Cas d'usage id√©al |
| --- | --- | --- | --- |
| **Passif** (D√©faut) | **Le Serveur** (Poller) | Le Serveur demande : *"Donne-moi ton CPU"*. L'Agent r√©pond. | R√©seau local s√©curis√©, charge faible. Facile √† configurer. |
| **Actif** | **L'Agent** (Trapper) | L'Agent demande sa config au d√©marrage, puis **pousse** les donn√©es tout seul p√©riodiquement. | Machines derri√®re un **NAT/Firewall**, ou surveillance de PC portables instables. |

**Le Port** : Par d√©faut, l'Agent √©coute sur le port **10050**. (Le Serveur contacte l'Agent sur le 10050 en mode passif).

#### 4. Configuration et Extension

- **Fichier de configuration** :
  - Sous Linux : `/etc/zabbix/zabbix_agentd.conf`
  - Param√®tres cl√©s :
    - `Server=` (IP du serveur Zabbix autoris√© √† interroger l'agent - Mode Passif).
    - `ServerActive=` (IP du serveur √† qui envoyer les donn√©es - Mode Actif).
    - `Hostname=` (Nom unique de la machine, doit correspondre √† l'interface Web).

- **Que surveille-t-on ?** :
  - **Syst√®me** : Charge CPU, M√©moire libre, IO Disque, Espace disque, Uptime.
  - **R√©seau** : Bande passante entrante/sortante, erreurs de paquets.
  - **Services** : √âtat d'un service (Systemd, Service Windows), Processus en cours.

- **Extension (UserParameter)** :
  - Si Zabbix ne sait pas r√©cup√©rer une info nativement, on peut cr√©er un **UserParameter**.
  - C'est une ligne dans le fichier de config qui associe une cl√© Zabbix √† une **commande shell personnalis√©e**.
  - *Exemple* : Cr√©er une m√©trique qui compte le nombre de fichiers dans un dossier sp√©cifique.

**En r√©sum√©** üí°

1. **Port** : L'agent √©coute sur le **10050** (TCP).
2. **Agent 2** = Nouvelle version en Go avec **plugins int√©gr√©s** (Docker/DB).
3. **Mode Passif** = Le Serveur interroge (Polling).
4. **Mode Actif** = L'Agent envoie (Push) -> Indispensable si l'agent est derri√®re un pare-feu bloquant l'entr√©e.
5. **UserParameter** = La m√©thode pour ex√©cuter vos propres scripts via l'agent.

[Challenge B303](./challenges/Challenge_B303.md) : Exploration plus en d√©tail des param√®tres, alertes de Zabbix avec les Agents, configuration d'une alerte pour fichiers.

> üìö **Ressources** :
>
> - Documentation des Agents Zabbix <https://www.zabbix.com/documentation/current/en/manual/config/items/itemtypes/zabbix_agent>

[Retour en haut](#-table-des-mati√®res)

---

### üçü B304. Nagios

> D√©couvrir **Nagios**, le standard historique de la supervision Open Source. Bien que son interface soit vieillissante, son moteur et sa logique de "Plugins" sont √† la base de la majorit√© des outils modernes (Centreon, Icinga, Shinken).

#### 1. Qu'est-ce que Nagios ?

N√© en 1999 (sous le nom NetSaint), **Nagios Core** est un moteur de supervision pur et dur.
Contrairement √† Zabbix qui stocke tout en base de donn√©es, Nagios repose historiquement sur des **fichiers de configuration texte** et une ex√©cution de scripts.

- **Philosophie** : "Fais une chose et fais-la bien". Nagios est un **ordonnanceur** (scheduler). Il ne sait rien faire tout seul, il d√©l√®gue tout le travail de v√©rification √† des **Plugins**.
- **R√©putation** : Extr√™mement stable, mais difficile √† configurer (pas d'interface de config native dans la version Core) et interface web "r√©tro".

#### 2. Architecture Modulaire

Nagios fonctionne selon le principe **C≈ìur + Plugins**.

- **Le Scheduler (Le C≈ìur)** :

  - C'est le chef d'orchestre. Il lit les fichiers de config et dit : *"Il est 14h00, je dois lancer la v√©rification du disque sur le serveur A"*.

- **Les Plugins (Les Ouvriers)** :

  - C'est la grande force de Nagios. Ce sont de petits programmes (scripts Bash, Perl, Python, C...) ex√©cutables en ligne de commande.
  - Exemple : `./check_ping -H 192.168.1.1`
  - Nagios ex√©cute le plugin, r√©cup√®re le r√©sultat et l'affiche.
  - *Avantage* : Si vous savez √©crire un script, vous savez cr√©er un plugin Nagios.

- **L'Interface Web (CGI)** :

  - Permet de voir l'√©tat des services (Vert/Rouge), mais pas de modifier la configuration dans la version gratuite.

#### 3. Les √âtats (Status) & Codes Retour

C'est le standard de l'industrie cr√©√© par Nagios. Un plugin doit renvoyer un **Code de retour** pr√©cis pour dire √† Nagios comment √ßa va.

| Code | √âtat | Couleur | Signification |
| --- | --- | --- | --- |
| **0** | **OK** | üü¢ Vert | Tout va bien (ex: Ping r√©pond, Disque √† 40%). |
| **1** | **WARNING** | üü° Jaune | Avertissement, seuil d√©pass√© mais fonctionne encore (ex: Disque √† 85%). |
| **2** | **CRITICAL** | üî¥ Rouge | Probl√®me critique, service HS (ex: Site Web down, Disque √† 99%). |
| **3** | **UNKNOWN** | üü† Orange | Impossible de v√©rifier (ex: Timeout, erreur du script). |

#### 4. Concepts Cl√©s de Configuration

La configuration de Nagios se fait traditionnellement via des fichiers textes (`.cfg`). On y d√©finit des **Objets** :

- **Hosts** : Les machines physiques ou virtuelles (Serveurs, Routeurs).
- **Services** : Ce qu'on surveille sur un h√¥te (HTTP, SSH, Espace Disque).
- **Contacts** : Qui pr√©venir en cas de panne (Admins).
- **Timeperiods** : Quand surveiller (24x7 ou seulement aux heures de bureau).

  Soft vs Hard States** : Pour √©viter les fausses alertes, Nagios distingue deux √©tats :

  - **Soft** : Le service vient de planter (1√®re fois). Nagios attend et re-v√©rifie (ex: 3 fois).
  - **Hard** : Le service est toujours plant√© apr√®s 3 essais. L√†, **l'alerte est envoy√©e**.

#### 5. Agents & Surveillance √† Distance

Comme Zabbix, Nagios surveille le r√©seau via **SNMP**, mais pour entrer dans les serveurs (Linux/Windows), il utilise des agents sp√©cifiques :

- **NRPE (Nagios Remote Plugin Executor)** : L'agent standard pour **Linux/Unix**. Il permet au serveur Nagios d'ex√©cuter des plugins locaux sur la machine cible.
- **NSClient++** : L'agent standard pour **Windows**.

**En r√©sum√©** üí°

1. **Architecture** : Nagios est un moteur qui lance des **scripts (Plugins)**.
2. **Codes Retour** : **0=OK**, **1=Warning**, **2=Critical**, **3=Unknown**. (√Ä conna√Ætre par c≈ìur !).
3. **Configuration** : Bas√©e sur des **fichiers textes** (complexe), pas de BDD de configuration par d√©faut.
4. **H√©ritage** : Nagios est le "p√®re" de **Centreon** (qui est une surcouche graphique fran√ßaise pour Nagios √† l'origine) et d'**Icinga**.

[Challenge B304](./challenges/Challenge_B304.md) : Installation de Nagios et de ses agents.

> üìö **Ressources** :
>
> - Documentation Nagios <https://www.nagios.org/projects/nagios-core/>

[Retour en haut](#-table-des-mati√®res)

---

### üíæ Fin Saison B3. Supervision

[QCM Saison B3](https://forms.gle/EsgNcKmg7PBWoreo9/)

![qcm](/images/2026-01-23-09-53-37.png)

![R√©sultat QCM](/images/2026-01-23-09-52-55.png)

---

## **üìú Saison B4. Scripting**

> Cette saison marque le passage de l'administration manuelle √† l'automatisation. L'objectif est d'apprendre √† faire ex√©cuter par la machine des t√¢ches r√©p√©titives, complexes ou massives (gestion de parc), en utilisant des langages comme Bash, PowerShell ou Python.

---

### üß± B401. Les bases de la Programmation

> Ce premier cours pose les fondations th√©oriques de l'algorithmique. Avant d'√©crire du code, il faut apprendre √† "penser machine". Nous abordons ici la logique universelle (variables, boucles, conditions) commune √† tous les langages de programmation.

#### 1. Le Scripting : Quoi et Pourquoi ?

Un script est une suite de commandes √©crites dans un fichier texte, destin√©es √† automatiser des actions.

- **L'int√©r√™t** : Gagner du temps et r√©duire les erreurs. Si vous devez cr√©er un dossier sur 10 machines, vous le faites √† la main. Sur 1000 machines, c'est impossible sans script.
- **Langage de Script (Interpr√©t√©) vs Langage Compil√©** :
  - **Script (Interpr√©t√©)** : Le code est lu et ex√©cut√© ligne par ligne par un interpr√©teur (ex: Bash, Python, PowerShell). Pas besoin de "traduire" le code avant de le lancer.
  - **Compil√©** : Le code (ex: C, C++) doit √™tre transform√© (compil√©) en binaire machine avant de pouvoir √™tre ex√©cut√©.

#### 2. Les Piliers de l'Algorithmique

Peu importe le langage (Python, JS, Bash...), la logique repose toujours sur ces 4 concepts cl√©s :

- **üì¶ Les Variables** :
  - C'est une "bo√Æte" dans la m√©moire vive (RAM) qui porte une √©tiquette (nom) et contient une valeur.
  - Cette valeur peut changer (d'o√π le nom *variable*). Elle peut stocker du texte, des nombres, des listes, etc.
  - **Attention √† la syntaxe** : Le sch√©ma pr√©cise qu'il ne faut pas confondre l'assignation ( `=` qui donne une valeur) avec la comparaison simple ( `==` ) ou la comparaison stricte ( `===` ).

- **üîÄ Les Conditions (Si... Sinon...)** :
  - Elles permettent au script de prendre des d√©cisions.
  - *Exemple* : **SI** le dossier "Compta" existe, **ALORS** je le supprime, **SINON** je ne fais rien.
  - On utilise des **Op√©rateurs Logiques** pour tester une condition, comme `EQ` (√âgal √†), `NEQ` (Diff√©rent de), `GT` (Plus grand que), ou `LT` (Plus petit que).
  - **Combinaisons** : On peut v√©rifier plusieurs conditions √† la fois :
    - **ET (`&&` / `and`)** : V√©rifie si *toutes* les conditions sont respect√©es.
    - **OU (`||` / `or`)** : V√©rifie si *au moins une* des conditions est OK.

- **üîÑ Les Boucles** :
  - Elles permettent de r√©p√©ter une action sans r√©√©crire le code.
  - *Usage* : R√©p√©ter une action X fois, ou parcourir une liste d'√©l√©ments (ex: "Pour chaque utilisateur dans la liste, cr√©er un compte").
  - **Parcours de liste** : L'usage classique est de d√©clarer un tableau (ex: `Tableau = [elem1, elem2]`), puis de demander au script : "Pour chaque √©l√©ment du tableau, fais cette liste d'actions".
  - **Automatisme** : Pas besoin de r√©p√©ter les actions manuellement ; le script passe automatiquement √† l'√©l√©ment suivant (`element = nextElement`) jusqu'√† la fin du tableau.

- **d∆í Les Fonctions** :
  - C'est un bloc de code auquel on donne un nom. On peut "appeler" ce bloc n'importe quand.
  - *Int√©r√™t* : √âvite de copier-coller du code. On √©crit la logique une fois, et on la r√©utilise partout.
  - **Param√®tres dynamiques** : On peut demander √† une fonction de prendre un **param√®tre** (ex: `verifierAge(Age)`).
  - **R√©utilisation** : Une fois la fonction cr√©√©e, on peut l'appeler avec des valeurs diff√©rentes (ex: `verifierAge(18)`, puis `verifierAge(12)`) sans r√©√©crire le code de v√©rification.

#### 3. Repr√©sentation Logique

Avant de coder, il faut sch√©matiser sa pens√©e.

- **Logigramme (Flowchart)** : Repr√©sentation graphique d'un algorithme. Les losanges repr√©sentent les conditions (choix), les rectangles les actions. Cela permet de visualiser le cheminement des donn√©es.
- **Scratch** : Outil visuel souvent utilis√© pour s'initier √† la logique de programmation sans se soucier de la syntaxe complexe (les blocs s'embo√Ætent comme des Lego).

#### 4. Quel langage pour quel OS ?

Le choix du langage d√©pend de l'environnement cible :

- **Windows** : PowerShell (`.ps1`) ou Batch (`.bat`).
- **Linux / macOS** : Shell / Bash (`.sh`).
- **Multiplateforme** : Python (`.py`), qui fonctionne partout.

#### 5. Comp√©tences Vis√©es (Cadre Pro)

S√©lectionner, adapter ou cr√©er des scripts (Windows/Linux).

Tester le fonctionnement.

Documenter le script pour la maintenance (tr√®s important pour le jury !).

[Challenge B401](./challenges/Challenge_B401.md) : Pratiquer sur Scratch en cr√©ant un jeu du Nombre Myst√®re (Plus/Moins)

> üìö **Ressources** :
>
> - Scratch MIT : <https://scratch.mit.edu/projects/editor/?tutorial=getStarted>
> - Citizen Code : <https://app.citizencode.net/>

[Retour en haut](#-table-des-mati√®res)

---

### üêô B402. Git, GitHub & Markdown

> Apr√®s les bases du scripting, il est indispensable de savoir g√©rer son code. Ce cours introduit le **Versioning** (gestion de versions) qui permet de conserver l'historique, de revenir en arri√®re et de fusionner le travail de plusieurs personnes et √©viter de perdre son travail.

#### 1. Git : Le Moteur Local

**C'est quoi ?**

Git est un outil **local** (install√© sur votre machine). Il surveille un dossier sp√©cifique qu'on appelle un **D√©p√¥t** (Repository).

*Ce qu'il n'est PAS* : Un langage de programmation ou une simple sauvegarde (backup).

**Le Cycle de Vie d'un fichier**  :

1. **Modification** : Vous cr√©ez ou modifiez un script.
2. **Staging (Index)** : Vous s√©lectionnez les fichiers √† "photographier" (`git add`).
3. **Validation (Commit)** : Vous enregistrez la version d√©finitive avec un message (`git commit`).

**Les Commandes Essentielles** :

| Commande | Action | Description |
| --- | --- | --- |
| `git init` | **Initialiser** | Transforme le dossier actuel en d√©p√¥t Git. |
| `git status` | **V√©rifier** | Affiche l'√©tat des fichiers (modifi√©s, ajout√©s, non suivis). |
| `git add <fichier>` | **Ajouter** | Ajoute un fichier √† l'index (pr√™t √† √™tre valid√©). |
| `git add .` | **Tout Ajouter** | Ajoute *tous* les fichiers modifi√©s du dossier courant. |
| `git commit -m "..."` | **Valider** | Enregistre la version. Le message doit √™tre **clair, court et explicite**. |
| `git log` | **Historique** | Affiche la liste des pr√©c√©dents commits. |

#### 2. GitHub : Le Cloud

**Git vs GitHub**  :

- **Git** = Outil local (votre ordinateur).
- **GitHub** = Service en ligne (H√©bergeur de d√©p√¥ts). Il permet de synchroniser le travail et de collaborer.

**Authentification** :
Pour que votre ordinateur puisse parler √† GitHub en toute s√©curit√© sans taper son mot de passe √† chaque fois, on configure une **Cl√© SSH**
.

**Les Commandes Distantes** :

| Commande | Action | Description |
| --- | --- | --- |
| `git clone <URL>` | **Cloner** | R√©cup√®re un d√©p√¥t distant (GitHub) pour le mettre sur votre machine. |
| `git push` | **Envoyer** | Pousse vos commits locaux vers le serveur GitHub. |
| `git pull` | **R√©cup√©rer** | Tire les derni√®res modifications depuis GitHub vers votre machine. |

![git](/images/2026-01-27-13-13-45.png)

#### 3. Bonnes Pratiques

- **Commit r√©guliers** : Ne codez pas 3 jours sans valider.
- **Messages clairs** : "Update" ou "Modif" ne veut rien dire. Pr√©f√©rez "Ajout boucle for" ou "Correction bug calcul".
- ‚õî **S√©curit√©** : Ne JAMAIS mettre de **mots de passe** dans un script commit√© sur Git !.

#### 5. Le Markdown (MD)

Le Markdown est un langage de balisage l√©ger utilis√© pour documenter vos projets (le fameux fichier `README.md` sur GitHub). Voici le tableau r√©capitulatif des syntaxes √† conna√Ætre :

| √âl√©ment | Syntaxe Markdown | R√©sultat visuel |
| --- | --- | --- |
| **Titres** | `# Titre 1` `## Titre 2` `### Titre 3` | **Gros Titre** Moyen Titre Petit Titre |
| **Gras** | `**Texte en gras**` | **Texte en gras** |
| **Italique** | `*Texte en italique*` | *Texte en italique* |
| **Listes √† puces** | `- Item 1` `- Item 2` | ‚Ä¢ Item 1 ‚Ä¢ Item 2 |
| **Listes num√©rot√©es** | `1. Premier` `2. Deuxi√®me` | 1. Premier 2. Deuxi√®me |
| **Liens** | `[Texte](URL)` | [Texte](https://www.google.com/search?q=URL) |
| **Code (Ligne)** | ``` `code` ``` | `code` |
| **Bloc de Code** | ` ```bash echo "Hello"``` ` | (Affiche un bloc de code color√©) |
| **Citation** | `> Ceci est une citation` | ‚ñå Ceci est une citation |

En r√©sum√© üí°

- **Git** g√®re l'historique localement (`add` -> `commit`).
- **GitHub** h√©berge le code (`push` / `pull`).
- On ne sauvegarde jamais de **mots de passe**.
- Le **Markdown** est le standard pour r√©diger la documentation technique.

[Challenge B402](./challenges/Challenge_B402.md) : Pratiquer Git & Github

> üìö **Ressources** :
>
> - Convention de Git Commit : <https://www.conventionalcommits.org/en/v1.0.0/>
> - Cheatsheet Markdown : <https://cheatsheets.zip/markdown>
> - Cheatsheet / Rappel Markdown de Patrick : <https://github.com/Ergeiz/Challenge-O-Clock/blob/main/Rappel%20Markdown.md>

[Retour en haut](#-table-des-mati√®res)

---

### üêç B403. Python les fondamentaux

> Utiliser Python comme un outil p√©dagogique pour ma√Ætriser la logique de programmation (variables, boucles, conditions). M√™me si le Titre Professionnel exige surtout du Bash/PowerShell , la syntaxe claire de Python en fait le meilleur langage pour apprendre l'algorithmique .

#### 1. Pourquoi Python ?

- **Interpr√©t√©** : Contrairement au C, il n'a pas besoin d'√™tre compil√©. Le code est lu et ex√©cut√© ligne par ligne .

- **Multi-plateforme** : Un script `.py` fonctionne sur Windows, Linux et macOS.

- **Lisible** : Python force √† √©crire proprement (l'indentation est obligatoire).

#### 2. Les Bases : Variables & Types

En Python, pas besoin de d√©clarer le type de la variable (typage dynamique). C'est le contenu qui d√©finit le type.

- **Assignation** :

```python
serveur = "SRV-AD-01"   # String (Cha√Æne de caract√®res)
ram_gb = 16             # Int (Entier)
is_active = True        # Bool (Bool√©en - Attention √† la Majuscule !)
pi = 3.14               # Float (Nombre √† virgule)

```

- **Conversions (Casting)** : *Indispensable car `input` renvoie toujours du texte.*
  - `int("10")` : Convertit en entier.
  - `str(10)` : Convertit en texte.

#### 3. Entr√©es & Sorties (I/O)

Comment interagir avec l'utilisateur ou la console.

- **Sortie (Output)** :

```python
print("Bonjour le monde !")
print("Serveur :", serveur, "RAM :", ram_gb) # Concat√©nation simple avec virgule

```

- **Entr√©e (Input)** :

```python
user = input("Quel est votre login ? ") # Pause le script et attend une saisie
[cite_start]age = int(input("Votre √¢ge ? "))        # Conversion imm√©diate en entier pour calculs [cite: 999]

```

#### 4. Structures de Contr√¥le (La Logique)

**üîÄ Les Conditions (`if`, `elif`, `else`)**
L'indentation (le d√©calage vers la droite) remplace les accolades `{}` des autres langages. C'est elle qui d√©finit ce qui est *dans* le bloc conditionnel.

```python
if age >= 18:
    print("Acc√®s Admin autoris√©")  # Ce code ne s'ex√©cute que si Vrai
elif age > 10:
    print("Acc√®s Restreint")       # Sinon si...
else:
    [cite_start]print("Acc√®s Refus√©")          # Sinon... [cite: 964-967]

```

**üîÑ Les Boucles (`for`)**
Id√©al pour r√©p√©ter une action ou parcourir une liste.

- **Boucle chiffr√©e** (r√©p√©ter X fois) :

```python
for i in range(5):  # Va compter de 0 √† 4 (5 exclus)
    print("Tentative num√©ro", i)

```

- **Parcourir une liste** (Foreach) :

```python
vms = ["Web01", "Db01", "Back01"]
for machine in vms:
    print("D√©marrage de :", machine)

```

#### 5. Structures de Donn√©es : Les Listes

Pour g√©rer des parcs de machines ou des utilisateurs, on utilise des listes (Tableaux).

- **Cr√©ation** : `users = ["root", "admin", "guest"]`
- **Acc√®s** : `print(users[0])` (Affiche "root" - l'index commence √† 0).
- **Manipulation** (Bonus pour compl√©ter les slides) :
  - `users.append("toto")` : Ajoute √† la fin.
  - `users.remove("guest")` : Supprime l'√©l√©ment.
  - `len(users)` : Donne la taille de la liste (ex: 3).

#### 6. Les Fonctions

Permet de ne pas r√©p√©ter le code. On d√©finit (`def`) la logique une fois, on l'appelle autant qu'on veut.

```python
def check_ping(ip_address):           # D√©finition avec param√®tre
    print("Ping en cours sur", ip_address)

check_ping("192.168.1.1")             # Appel de la fonction
check_ping("8.8.8.8")

```

#### üõ†Ô∏è Bo√Æte √† outils suppl√©mentaire

*Voici quelques commandes tr√®s utiles pour le scripting :*

| Commande | Description | Exemple |
| --- | --- | --- |
| **Commentaires** | Ignor√© par le script (pour documenter). | `# Ceci est un commentaire` |
| **Op√©rateurs Logiques** | Combiner des conditions. | `and`, `or`, `not` (ex: `if admin and active:`) |
| **Manipulation Texte** | Mettre en forme. | `texte.upper()` (Majuscule), `texte.lower()` (Minuscule) |
| **Import Modules** | Utiliser des fonctions syst√®me. | `import os`, `os.system("ipconfig")` |

En r√©sum√© üí°

M√™me si l'examen se fera en **Bash** ou **PowerShell**, la logique apprise ici est universelle :

1. Je stocke mes donn√©es (**Variables/Listes**).
2. Je pose des questions (**Conditions**).
3. Je r√©p√®te les t√¢ches (**Boucles**).

[Challenge B403](./challenges/Challenge_B403.md) : Recr√©er le jeu du Nombre Myst√®re (Plus/Moins) en script python

> üìö **Ressources** :
>
> - Lexique Python <https://docs.python.org/3/library/index.html>

[Retour en haut](#-table-des-mati√®res)

---

### üêö B404. Scripting : Batch & PowerShell

> Automatiser l'administration Windows. Comprendre l'√©volution historique du **Batch** (l'ancien) vers **PowerShell** (le standard actuel) et ma√Ætriser les commandes essentielles pour le Titre Professionnel.

#### 1. Mini-Historique & Comparaison

L'automatisation sous Windows a connu deux grandes √®res :

- **L'√àre Batch (`.bat` / `.cmd`)**
  - **Origine** : H√©rit√© de **MS-DOS** (ann√©es 80).
  - **Philosophie** : Ex√©cute des commandes ligne par ligne dans `cmd.exe`.
  - **Limites** : Manipule uniquement du **texte**, gestion d'erreurs difficile, limit√© √† Windows.
  - *Usage aujourd'hui* : T√¢ches ultra-simples, lancements rapides, compatibilit√© avec de vieux syst√®mes.

- **L'√àre PowerShell (`.ps1`)**
  - **Origine** : Lanc√© en **2006** (Projet "Monad") pour concurrencer le Shell Unix.
  - **Philosophie** : Bas√© sur le framework **.NET**. Tout est **Objet**.
  - **Force** : Permet de tout g√©rer (AD, Cloud, Registre, Exchange) avec une syntaxe coh√©rente.

**Le Duel :**

| Caract√©ristique | Batch | PowerShell |
| :--- | :--- | :--- |
| **Donn√©es** | Texte brut (difficile √† filtrer) | Objets (Propri√©t√©s & M√©thodes) |
| **Syntaxe** | Archa√Øque (`%var%`) | Verbe-Nom (`Get-Command`) |
| **Puissance** | Faible | Illimit√©e (acc√®s .NET) |

#### 2. Le Batch (en bref)

M√™me s'il est vieillissant, le Batch reste utile pour des scripts rapides.

- **Commandes de base** :
  - `echo` : Affiche du texte (`echo Bonjour`).
  - `@echo off` : Masque l'affichage des commandes au lancement (la base de tout script).
  - `pause` : Arr√™te le script ("Appuyez sur une touche...").
  - `@rem` : Faire un commentaire.

- **Variables** :
  - D√©claration : `set nom=Toto`
  - Utilisation : `echo %nom%` (avec les `%`).
  - *Variables syst√®me* : `%DATE%`, `%TIME%`, `%USERNAME%`.

#### 3. PowerShell

PowerShell fonctionne sur une logique de **Cmdlets** (Command-lets) normalis√©es sous la forme **`Verbe-Nom`** (Singulier).

**Les 3 Piliers de la d√©couverte** (Pour se d√©brouiller seul) :

1. **`Get-Help`** : Le manuel (`Get-Help Get-Service -Examples`).
2. **`Get-Command`** : L'annuaire (`Get-Command *net*`).
3. **`Get-Member`** : Le scanner. Permet de voir les propri√©t√©s (infos) et m√©thodes (actions) d'un objet.

#### üìú Cheat Sheet : Les Commandes PowerShell Indispensables

R√©capitulatif de commandes vues en cours, class√©es par usage.

- **üìÇ 1. Gestion de Fichiers & Navigation**

*C'est la base de la navigation, comme sous Linux mais avec des alias.*

| Cmdlet | Alias | Action |
| --- | --- | --- |
| `Get-ChildItem` | `ls`, `dir` | Lister le contenu d'un dossier. |
| `Set-Location` | `cd` | Changer de r√©pertoire. |
| `New-Item` | `mkdir` | Cr√©er un fichier ou dossier (`-ItemType Directory`). |
| `Copy-Item` | `cp` | Copier un fichier/dossier. |
| `Move-Item` | `mv` | D√©placer ou renommer. |
| `Remove-Item` | `rm` | Supprimer d√©finitivement. |
| `Get-Content` | `cat` | Lire le texte dans un fichier. |
| `Test-Path` | - | V√©rifie si un fichier existe (Renvoie True/False). |

- **‚öôÔ∏è 2. Syst√®me & Administration**

| Cmdlet | Action |
| :--- | :--- |
| `Get-Service` | Liste les services (Spouleur, Windows Update...). |
| `Start-Service` / `Stop-Service` | D√©marrer ou arr√™ter un service. |
| `Get-Process` | Affiche les processus en cours (RAM, CPU). |
| `Stop-Process` | Tue un programme (ex: `Stop-Process -Name notepad`). |
| `Get-Date` | Affiche la date et l'heure actuelles. |

- **üöÄ 3. Le Pipeline & Manipulation de Donn√©es**
C'est la force de PowerShell : on passe le r√©sultat d'une commande √† une autre avec le pipe `|`.

| Cmdlet | Usage |
| --- | --- |
| **`Where-Object`** | **Filtrer**. On ne garde que ce qui nous int√©resse. |
| **`Select-Object`** | **Choisir**. On ne garde que certaines colonnes. |
| **`Sort-Object`** | **Trier**. |
| **`Measure-Object`** | **Compter**. |
| **`Export-Csv`** | **Exporter**. Cr√©e un fichier Excel/CSV avec le r√©sultat. |

- **üîí 4. S√©curit√© & Variables**

  - **Execution Policy** : Par d√©faut, PowerShell bloque les scripts.
    - Commande : `Set-ExecutionPolicy RemoteSigned` (Standard en entreprise).

  - **Variables** : Toujours pr√©c√©d√©es de `$`.
    - `$MonDossier = "C:\Data"`
    - `$Date = Get-Date`

üí° En r√©sum√©

Il ne faut pas tout retenir c≈ìur, mais la **logique** :

1. Je cherche ma commande (`Get-Command`).
2. Je regarde comment elle marche (`Get-Help -Examples`).
3. Si je veux filtrer le r√©sultat, j'utilise le Pipe `|` et `Where-Object`.

C'est cette logique **"Verbe-Nom" + Pipe** qui vous sauvera !

[Challenge B404](./challenges/Challenge_B404.md) : Cr√©er des Scripts batch et Powershell d'Administration Syst√®me

> üìö **Ressources** :
>
> - Exemple de scripts Batch et Powershell : <https://github.com/O-clock-Aldebaran/exemples-batch-powershell>

[Retour en haut](#-table-des-mati√®res)

---

### üë• B405. Atelier PowerShell & Active Directory

> **Objectif de l'atelier :**
>
> - Installer et utiliser le module ActiveDirectory
> - G√©rer les utilisateurs AD en PowerShell
> - G√©rer les groupes et leurs membres
> - Organiser l'annuaire avec des Unit√©s Organisationnelles
> - Importer des utilisateurs en masse depuis CSV
> - Cr√©er des scripts d'automatisation pour l'onboarding/offboarding
> - G√©n√©rer des rapports sur l'√©tat de l'AD

[Atelier B405](./challenges/Challenge_B405.md)

> üìö **Ressources** :
>
> - Module ActiveDirectory : <https://docs.microsoft.com/powershell/module/activedirectory/>
> - Gestion des utilisateurs AD : <https://docs.microsoft.com/windows-server/identity/ad-ds/>

[Retour en haut](#-table-des-mati√®res)

---

### ‚úÖ B406. Correction Atelier B405

> [Correction Atelier B405]<https://github.com/O-clock-Aldebaran/correction-atelier-powershell>

[Challenge B406](./challenges/Challenge_B406.md) : Jeu du Nombre Myst√®re Plus ou Moins en PowerShell

> üìö **Ressources** :
>

[Retour en haut](#-table-des-mati√®res)

---

### üêß B407. Scripting : Bash

> **Objectif** : Automatiser l'administration sous GNU/Linux et macOS. Si PowerShell est le standard Windows, **Bash** est le langage par d√©faut de la quasi-totalit√© des serveurs Linux dans le monde. C'est un outil indispensable pour l'administrateur syst√®me.

#### 1. Mini-Historique & Contexte

Pour bien situer Bash par rapport √† ce qu'on a vu :

- **Batch** (Ann√©es 80) : L'anc√™tre sous DOS/Windows. Basique.
- **Python** (1991) : Le langage polyvalent, id√©al pour l'algorithmique.
- **PowerShell** (2006) : La r√©ponse moderne de Microsoft, orient√©e Objet.
- **Bash** (1989) :
  - Acronyme de **"Bourne Again Shell"** (jeu de mot sur le "Bourne Shell" ou `sh`, l'anc√™tre Unix cr√©√© par Stephen Bourne).
  - C'est un interpr√©teur de commandes **textuel**. Contrairement √† PowerShell (Objets), Bash manipule des flux de **texte** (fichiers, cha√Ænes).
  - Il est install√© par d√©faut sur presque toutes les distributions Linux.

#### 2. Cr√©ation et Ex√©cution d'un script

Sous Linux, un fichier texte ne devient un script que si on respecte 3 r√®gles:

- **L'Extension** : `.sh` (facultatif mais recommand√© pour se rep√©rer).

- **Le Shebang** (`#!`) : La toute premi√®re ligne doit indiquer qui ex√©cute le script.
  - `#!/bin/bash`

- **Les Permissions** : Par d√©faut, un fichier n'est pas ex√©cutable par s√©curit√©.
  - Commande : `chmod +x mon_script.sh`
  - Ex√©cution : `./mon_script.sh` (Le `./` est obligatoire pour dire "dans le dossier courant").

#### 3. Syntaxe et Sp√©cificit√©s

‚ö†Ô∏è **Attention aux espaces !** Bash est tr√®s strict. Une espace en trop peut planter le script.

**üì¶ Variables & I/O** :

- **D√©claration** : `variable="valeur"` (‚õî PAS d'espace autour du `=`).
- **Utilisation** : `echo $variable` (Le `$` sert √† lire la valeur).
- **Saisie** : `read nom_variable` (Pause le script et attend une entr√©e clavier).
- **Maths** : `resultat=$(( 5 + 2 ))` (Double parenth√®se pour les calculs).

**üîÄ Conditions (`if`)** :

La syntaxe des tests est particuli√®re, bas√©e sur des crochets `[ ]`.

```bash
if [ $age -ge 18 ]; then
    echo "Majeur"
else
    echo "Mineur"
fi

```

- *Op√©rateurs num√©riques* : `-eq` (Egal), `-ne` (Diff√©rent), `-gt` (Plus grand), `-lt` (Plus petit).
- *Op√©rateurs texte* : `=` (Egal), `!=` (Diff√©rent).

**üîÑ Boucles** :

- **For** (Pour chaque √©l√©ment) :

```bash
for fichier in *.txt; do
    echo "Traitement de $fichier"
done

```

- **While** (Tant que) : Id√©al pour lire un fichier ligne par ligne ou attendre une condition.

**arguments** : Comme en Batch/PS, on peut passer des param√®tres au lancement (`./script.sh param1 param2`).

- `$1`, `$2`... : Premier, deuxi√®me argument.
- `$0` : Nom du script lui-m√™me.
- `$#` : Nombre total d'arguments re√ßus.

#### 4. Exercices Types (SysAdmin)

Les slides proposent des cas concrets qui refl√®tent le quotidien de l'admin Linux :

1. **Sauvegarde (Backup)** : Cr√©er une archive `tar.gz` d'un dossier en ajoutant la date (`date +%Y%m%d`) dans le nom du fichier pour ne pas √©craser les anciennes.

2. **Cr√©ation Utilisateur** : Automatiser la commande `useradd`, g√©n√©rer un mot de passe al√©atoire et cr√©er le dossier `/home`.

3. **Monitoring** : Analyser des logs (ex: Apache) pour extraire les IPs qui reviennent le plus souvent (usage de `grep`, `cut`, `sort`, `uniq`).

#### üìù Cheat Sheet Bash

| Action | Commande / Syntaxe |
| --- | --- |
| **Shebang** | `#!/bin/bash` (Toujours ligne 1) |
| **Rendre ex√©cutable** | `chmod +x script.sh` |
| **Afficher** | `echo "Texte"` |
| **Lire** | `read variable` |
| **Variable** | `ma_var="toto"` (Pas d'espace !) |
| **Utiliser Var** | `echo $ma_var` |
| **Condition** | `if [ "$a" -eq "$b" ]; then ... fi` |
| **Arguments** | `$1` (1er arg), `$#` (Nb args) |
| **Calcul** | `$(( 1 + 2 ))` |

#### üí° Le Conseil du prof

En Bash, **Google est votre ami** pour la syntaxe des `if` (les espaces dans les crochets `[ condition ]` sont obligatoires !).
Et n'oubliez pas : contrairement √† PowerShell qui renvoie des objets structur√©s, Bash renvoie du texte. Vous passerez votre temps √† d√©couper ce texte (`cut`, `awk`, `grep`) pour r√©cup√©rer l'info voulue.

[Challenge B407](./challenges/Challenge_B407.md) : une s√©rie d'exercices pour cr√©er une suite d'outils Admin en Bash.

> üìö **Ressources** :
>
> - Guide Bash : <https://fr.wikibooks.org/wiki/Programmation_Bash>
> - Conditions : <https://buzut.net/maitriser-les-conditions-en-bash/>
> - Explainshell : <https://explainshell.com/> (pour comprendre les commandes)
> - ShellCheck : <https://www.shellcheck.net/> (v√©rifier la qualit√© du code)

[Retour en haut](#-table-des-mati√®res)

---

### üìä B408. Atelier Bash

Automatisation de l'administration syst√®me

> - Cr√©er des scripts Bash professionnels et maintenables
> - Automatiser les t√¢ches courantes d'administration syst√®me
> - G√©rer les erreurs et valider les entr√©es utilisateur
> - Produire des rapports et des logs d'ex√©cution
> - Documenter vos scripts pour faciliter leur utilisation

[Challenge B408](./challenges/Challenge_B408.md) : Atelier Bash - Automatisation de l'administration syst√®me

> üìö **Ressources** :
>
> - Programmation Bash <https://fr.wikibooks.org/wiki/Programmation_Bash>

[Retour en haut](#-table-des-mati√®res)

---

### ‚è∞ B409. Planification de T√¢ches

> **Objectif** : Transformer un script ponctuel en une t√¢che automatique. Que ce soit pour des sauvegardes nocturnes, des rapports mensuels ou du nettoyage de logs, le planificateur est le "r√©veil-matin" de l'administrateur syst√®me.

#### 1. Pourquoi planifier ?

L'automatisation planifi√©e r√©pond √† plusieurs besoins critiques :

- **R√©gularit√©** : Sauvegardes, mises √† jour.
- **Heures Creuses** : Lancer des t√¢ches lourdes la nuit pour ne pas ralentir les utilisateurs.
- **Fiabilit√©** : √âviter l'oubli humain ("Ah mince, j'ai oubli√© le backup d'hier").

#### 2. C√¥t√© Windows : Le Planificateur de T√¢ches

Windows dispose d'un outil graphique puissant et complet : le **Task Scheduler**.

- **Accessibilit√©** :

  - GUI : `taskschd.msc`.
  - CMD : `schtasks`.
  - PowerShell : `New-ScheduledTask`.

- **Concepts Cl√©s** :

  - **D√©clencheurs (Triggers)** : "Quand ?" (√Ä une heure pr√©cise, au d√©marrage, √† l'ouverture de session, sur √©v√©nement log...).
  - **Actions** : "Quoi ?" (Lancer un programme, envoyer un mail - obsol√®te, afficher un message - obsol√®te).
  - **Contexte** : On peut ex√©cuter la t√¢che avec un compte sp√©cifique (ex: `SYSTEM`) m√™me si personne n'est connect√©.

- **D√©ploiement** : En entreprise, on utilise les **GPO** (Group Policy) pour d√©ployer une t√¢che planifi√©e sur 500 PC d'un coup.

#### 3. C√¥t√© Linux : Cron & Anacron (Focus)

Sous Linux, la planification est reine. C'est le c≈ìur du syst√®me.

**A. Cron (Le Standard)**
C'est le daemon (`crond`) qui se r√©veille chaque minute pour voir s'il a quelque chose √† faire.

- **Crontab** : C'est le fichier "table" o√π sont list√©es les t√¢ches.
  - `crontab -e` : √âditer sa table personnelle.
  - `crontab -l` : Lister ses t√¢ches.
  - `crontab -r` : Tout supprimer.

- **Fichiers Syst√®me** :
  - `/etc/crontab` : La table globale du syst√®me (avec une colonne "user" en plus).
  - `/etc/cron.daily`, `/etc/cron.hourly`... : Il suffit de d√©poser un script dans ces dossiers pour qu'il s'ex√©cute automatiquement (pratique !).

**B. La Syntaxe Crontab (√Ä conna√Ætre par c≈ìur !)**
Une ligne cron se compose de **5 champs temporels** suivis de la commande.

```text
m h dom mon dow   commande
* * * * * /chemin/vers/script.sh
```

| Champ | Signification | Valeurs possibles |
| --- | --- | --- |
| **m** | Minutes | 0-59 |
| **h** | Heures | 0-23 |
| **dom** | Jour du mois (Day of Month) | 1-31 |
| **mon** | Mois (Month) | 1-12 |
| **dow** | Jour de la semaine (Day of Week) | 0-7 (0 et 7 = Dimanche) |

*Exemples :*

- `30 08 * * *` : Tous les jours √† 08h30.
- `*/5 * * * *` : Toutes les 5 minutes.
- `00 23 * * 5` : Tous les vendredis √† 23h00.
- **Raccourcis** : `@reboot` (au d√©marrage), `@daily` (minuit), `@weekly`.

**C. Anacron (Pour les PC √©teints)**
Cron suppose que la machine est allum√©e 24/7 (Serveur). Si votre PC est √©teint √† l'heure H, la t√¢che Cron est **perdue**.

**Anacron** comble ce manque : au d√©marrage, il v√©rifie si une t√¢che a √©t√© rat√©e pendant l'extinction et la lance (avec un d√©lai al√©atoire pour ne pas tout charger au boot).

#### 4. Comparatif Windows vs Linux

| Aspect | ü™ü Windows | üêß Linux |
| --- | --- | --- |
| **Outil** | Planificateur de t√¢ches | Cron |
| **Interface** | GUI + CLI + PowerShell | CLI principalement (texte) |
| **Pr√©cision** | Minute | Minute |
| **√âv√©nements** | ‚úÖ Tr√®s complet (Logs, Boot, Session...) | ‚ùå Limit√© (Temps uniquement) |
| **Rattrapage** | ‚úÖ Option "Si manqu√©, lancer au d√©marrage" | ‚ö†Ô∏è Anacron n√©cessaire |
| **Centralisation** | ‚úÖ GPO | ‚ö†Ô∏è Ansible/Puppet |
| **Complexit√©** | Moyenne | Simple (mais syntaxe √† apprendre) |

#### Attention üí°

Sous Linux, une erreur classique est le **chemin**. Cron ne charge pas tout votre profil utilisateur (.bashrc).

üëâ **Utilisez toujours des chemins absolus** dans vos crontabs !

- ‚ùå `python script.py`
- ‚úÖ `/usr/bin/python3 /home/user/scripts/script.py`.

[Challenge B409](./challenges/Challenge_B409.md)

> üìö **Ressources** :
>
> - Calculateur de Crontab : <https://crontab.guru/>
> - Linux : comment planifier des t√¢ches avec cron et la crontab : <https://www.it-connect.fr/automatiser-des-taches-avec-crontab/>

[Retour en haut](#-table-des-mati√®res)

---

### üìú Fin Saison B4. Scripting

[QCM Saison B4](https://docs.google.com/forms/d/e/1FAIpQLSc7vvyky-TlFFwa7VgPBytCt9K-q8viqHqOBRnsklhYw37b6A/viewform?pli=1)

![R√©sultat QCM](/images/2026-02-06-10-17-37.png)

---

## **üóìÔ∏è Saison C1. Gestion de projet et Analyse de Risque**

> **Le Contexte** : En tant que professionnels de l'IT, nous ne faisons pas que de la technique pure. Nous devons r√©pondre √† des besoins pr√©cis, dans des d√©lais donn√©s et avec un budget limit√©.
> Cette saison couvre l'organisation du travail (comment on m√®ne un projet de A √† Z) et la s√©curit√© organisationnelle (comment on g√®re les risques et la continuit√© d'activit√©).
>
> **Au programme de la saison :**
>
> - **M√©thodologies** : Cycle en V, Agile, Scrum.
> - **Pilotage** : Planification et suivi.
> - **Analyse de Risques** : Menaces, vuln√©rabilit√©s et gestion du risque.
> - **Continuit√©** : PCA (Continuit√©) et PRA (Reprise d'activit√©).

### üèóÔ∏è C101. Les Fondamentaux de la Gestion de Projet

> **Objectif** : Comprendre ce qu'est un projet, pourquoi il faut le g√©rer rigoureusement, et d√©couvrir les m√©thodologies classiques comme le Cycle en V, adapt√©es aux projets d'infrastructure stable.

#### 1. Qu'est-ce qu'un Projet ?

Un projet se d√©finit par son caract√®re **temporaire** et **unique**. Ce n'est pas une op√©ration courante (run), mais une entreprise avec un d√©but et une fin pr√©cise pour cr√©er un produit ou service unique.

- **Caract√©ristiques cl√©s** : Un objectif pr√©cis, des ressources limit√©es (budget, temps, humains), et un r√©sultat unique (produit ou service).
- **Exemples IT** : D√©ploiement de la fibre, migration vers le Cloud (ex: Netflix vers AWS), mise en place d'un ERP.
- **Contraintes** : Elles sont techniques, humaines, financi√®res, s√©curitaires et li√©es √† l'exploitation.

#### 2. La Gestion de Projet & Le Triangle d'Or (Qualit√© - Co√ªts - D√©lais)

G√©rer un projet, c'est maintenir l'√©quilibre permanent entre trois contraintes antagonistes (le "Triangle de la gestion de projet") :

1. **Qualit√©** (Le r√©sultat r√©pond-il au besoin ?)
2. **Co√ªts** (Budget respect√© ?)
3. **D√©lais** (Temps respect√© ?)

> **R√®gle d'or** : Toucher √† l'un impacte les autres. Si vous r√©duisez le d√©lai, vous devrez augmenter le co√ªt (plus de ressources) ou r√©duire la qualit√© (moins de fonctionnalit√©s).

#### 3. La Matrice RACI (Qui fait quoi ?)

Pour √©viter le flou artistique dans les responsabilit√©s, on utilise la matrice **RACI**. Elle d√©finit le r√¥le de chaque acteur pour chaque t√¢che du projet :

| Lettre | R√¥le (Anglais) | R√¥le (Fran√ßais) | Description |
| --- | --- | --- | --- |
| **R** | **Responsible** | **R√©alisateur** | Celui qui **fait** le travail. Il "tient le stylo". (Il faut au moins 1 R). |
| **A** | **Accountable** | **Approbateur** | Le chef. Celui qui **valide** et qui est responsable du r√©sultat final (celui qui "va en prison" si √ßa rate). Il n'y a qu'un seul A par t√¢che. |
| **C** | **Consulted** | **Consult√©** | L'expert qu'on interroge pour avoir des infos avant de d√©cider (communication bidirectionnelle). |
| **I** | **Informed** | **Inform√©** | Celui qu'on met en copie (CC) une fois la t√¢che finie ou la d√©cision prise (communication unidirectionnelle). |

#### 4. Les M√©thodologies (Cycle de vie)

Il existe plusieurs fa√ßons de piloter un projet, du plus rigide au plus souple :

- **Cascade (Waterfall)** : S√©quentiel. On ne revient jamais en arri√®re. Trop rigide pour l'IT moderne.
- **Cycle en V** : Am√©lioration de la cascade. Chaque phase de conception a sa phase de validation associ√©e. Tr√®s structur√©.
- **Agile / Scrum** : It√©ratif. On livre petit √† petit pour s'adapter aux changements.
- **DevOps** : Fusion D√©veloppement + Op√©rations pour automatiser et livrer en continu.

#### 5. Focus : Le Cycle en V

C'est le mod√®le classique pour les projets d'infrastructure lourds o√π l'erreur co√ªte cher (ex: refonte d'un r√©seau physique).

**Le principe** : Une phase descendante de **conception**, suivie d'une phase remontante de **tests**.

- **Phase Descendante (Conception)** :
  1. **Analyse des besoins** : Comprendre ce que veut le client.
  2. **Sp√©cifications** : D√©finir fonctionnellement ce qu'on va faire.
  3. **Conception G√©n√©rale & D√©taill√©e** : Comment on va le faire techniquement (Architecture).
  4. **R√©alisation** : On construit !

- **Phase Ascendante (Validation)** :
  1. **Tests Unitaires** : V√©rifier chaque petit bout de code/config isol√©.
  2. **Tests d'Int√©gration** : V√©rifier que les bouts fonctionnent ensemble.
  3. **Tests de Validation** : V√©rifier que √ßa r√©pond aux sp√©cifications.
  4. **Recette** : Le client valide que c'est ce qu'il voulait (VABF/VSR).

**Bilan du Cycle en V** :

- ‚úÖ **Avantages** : Pr√©visible, document√©, rassurant, id√©al quand le besoin est clair et stable.
- ‚ùå **Inconv√©nients** : "Effet tunnel" (on ne voit le r√©sultat qu'√† la fin), peu flexible, lourd en documentation.

![cycleV](/images/2026-02-09-17-48-42.png)

[Challenge C101](./challenges/Challenge_C101.md) : Effectuer la note de cadrage d'un projet.

> üìö **Ressources** :
>
> - Cycle en V  : <https://www.manager-go.com/gestion-de-projet/cycle-en-v.htm>
> - Matrice RACE : <https://www.manager-go.com/gestion-de-projet/dossiers-methodes/matrice-raci>

[Retour en haut](#-table-des-mati√®res)

---

### üèÉ C102. Agilit√©, Scrum & Outils Projet

> **Objectif** : Comprendre la philosophie Agile (n√©e en r√©action aux √©checs des m√©thodes traditionnelles), ma√Ætriser le framework Scrum (le plus utilis√©) et d√©couvrir les outils concrets pour structurer et suivre un projet.

#### 1. La Philosophie Agile

L'Agile n'est pas une "m√©thode" stricte, c'est une **approche** et une philosophie n√©e du **Manifeste Agile (2001)**.

- **Le Constat** : Les projets classiques (Cycle en V) √©chouent souvent car ils sont trop rigides face aux changements.
- **Les Principes** :
  - Forte implication du client.
  - D√©veloppement **it√©ratif** (cycles courts) et **incr√©mental** (on livre petit √† petit).
  - Adaptation continue au changement.

- **Quand l'utiliser ?** Quand le besoin est flou ou changeant, ou pour innover.
- **Agile en Infra ?** √áa fonctionne pour le Cloud, l'automatisation ou la supervision (livraison progressive). √áa fonctionne mal pour les migrations lourdes "One-shot" (ex: d√©m√©nagement physique de Datacenter).

![Manifeste](/images/2026-02-09-17-41-34.png)

#### 2. Le Framework Scrum

Scrum est le cadre Agile le plus populaire. Il organise le travail en cycles courts appel√©s **Sprints** (1 √† 4 semaines max).

##### A. Les 3 R√¥les (La Scrum Team)

1. **Product Owner (PO)** : La voix du client. Il d√©finit **"Quoi"** faire (g√®re le Backlog). Il est responsable de la valeur m√©tier.
2. **Scrum Master** : Le coach / facilitateur. Il s'assure que la m√©thode est respect√©e et prot√®ge l'√©quipe des perturbations externes (Servant Leader).
3. **L'√âquipe de D√©veloppement** : Ceux qui font (**"Comment"**). Elle est auto-organis√©e et pluridisciplinaire (Dev, Ops, Test...).

##### B. Les Artefacts (Les documents)

- **Product Backlog** : La liste ordonn√©e de tout ce qu'il y a √† faire (les besoins). G√©r√© par le PO.
- **Sprint Backlog** : La liste des t√¢ches s√©lectionn√©es pour le Sprint en cours.
- **Incr√©ment** : Le livrable utilisable fourni √† la fin du Sprint.

##### C. Les C√©r√©monies (Les rituels)

- **Sprint Planning** : On d√©cide ce qu'on va faire dans le Sprint.
- **Daily Scrum** : M√™l√©e quotidienne de 15 min. (Qu'ai-je fait hier ? Que fais-je aujourd'hui ? Ai-je un blocage ?).
- **Sprint Review** : D√©monstration du travail fini aux parties prenantes (Feedback).
- **Sprint Retrospective** : L'√©quipe analyse son fonctionnement pour s'am√©liorer au prochain Sprint.

![scrum](/images/2026-02-10-15-55-53.png)

#### 3. Outils de Structuration & Planification

Pour qu'un projet n'aille pas dans le mur, il faut le d√©couper et le suivre.

##### A. Structurer (D√©couper)

- **PBS (Product Breakdown Structure)** : D√©coupage **graphique du produit** en composants. (Ex: Pour une infra -> R√©seau, Serveurs, Stockage, OS).
- **WBS (Work Breakdown Structure)** : D√©coupage **des t√¢ches** n√©cessaires. (Ex: Installer l'OS, Configurer l'IP, etc). En fran√ßais, on dit souvent **SDP** ‚Äì Structure de D√©coupage du Projet.

##### B. Planifier & Suivre

- **Gantt** : Id√©al pour le Cycle en V. Visualise le temps, les jalons et les d√©pendances (chemin critique).
- **Kanban** : Id√©al pour l'Agile/Run. Visualise le flux de travail (To Do / Doing / Done). Permet de limiter le travail en cours (WIP) pour fluidifier la prod.

#### 4. La Communication Projet

Un projet r√©ussit gr√¢ce √† la technique, mais √©choue souvent √† cause de la communication.

- **Identifier les acteurs** : Sponsor, MOA (M√©tier), MOE (Tech), Utilisateurs finaux, Prestataires.
- **Adapter le message** : On ne parle pas technique au Directeur Financier, on ne parle pas budget aux techniciens.
- **Transparence** : Partager les succ√®s mais aussi les risques et les difficult√©s.

**En r√©sum√©** üí°

- **Agile** = Philosophie d'adaptation.
- **Scrum** = Cadre de travail avec des R√¥les (PO, SM, Dev), des Rituels (Daily, Review...) et des Sprints.
- **PBS/WBS** = Pour savoir quoi faire.
- **Gantt/Kanban** = Pour savoir quand et comment le suivre.

[Challenge C102](./challenges/Challenge_C102.md) : Cr√©er le WBS, matrice RACI et diagramme Gantt.

> üìö **Ressources** :
>
> - Manifeste Agile : <https://agilemanifesto.org/iso/fr/manifesto.html>
> - M√©thode Scrum : <https://gist.github.com/stephdl/13c8a66cccb87f696fb2fc058f3b4aad>
> - [Guide Scrum PDF](./ressources/2020-Scrum-Guide-French.pdf)
> - Diagrammes de Gantt sur Excell : <https://excel.cloud.microsoft/create/fr/gantt-charts/>

[Retour en haut](#-table-des-mati√®res)

---

### üé≤ C103. Gestion des risques

> **Objectif** : Un projet informatique ne se d√©roule jamais exactement comme pr√©vu. Ce cours apprend √† anticiper les impr√©vus (risques) pour ne pas les subir. On y aborde la m√©thodologie classique (PMI/ISO) et la m√©thode sp√©cifique fran√ßaise EBIOS RM.

#### 1. Comprendre le Risque

Un risque n'est pas un probl√®me av√©r√©, c'est une **potentialit√©**.

- **D√©finition** : C'est un √©v√©nement incertain qui, s'il survient, aura un effet n√©gatif sur les objectifs du projet (Planning, Budget, Qualit√©, S√©curit√©).

- **Les 3 Composantes** :
  1. **La Cause** : L'origine (ex: Mat√©riel vieillissant).
  2. **L'√âv√©nement** : Ce qui se produit (ex: Panne du serveur).
  3. **La Cons√©quence** : L'impact (ex: Interruption de service, retard).

- **Typologie** : Les risques peuvent √™tre Techniques (panne, bug), Humains (d√©part d'un expert, erreur), Organisationnels, Juridiques ou Externes (m√©t√©o, fournisseur).

#### 2. Identification et √âvaluation

Avant de traiter, il faut trouver les risques et les classer.

- **Identification** : On utilise des m√©thodes comme le Brainstorming, l'analyse SWOT (Forces/Faiblesses), les Checklists ou le diagramme d'Ishikawa (Causes/Effets).

- **√âvaluation (La Criticit√©)** : Chaque risque est not√© sur deux axes :
  - **Probabilit√©** : Est-ce que √ßa risque vraiment d'arriver ? (√âchelle 1 √† 3 ou 1 √† 5).
  - **Impact** : Si √ßa arrive, est-ce grave ? (√âchelle 1 √† 3 ou 1 √† 5).

- **Formule** : `Criticit√© = Probabilit√© x Impact`.

- **La Matrice des Risques (Heatmap)** : On place les risques sur un graphique.
  - üü• **Zone Rouge** : Risques critiques (Action imm√©diate).
  - üüß **Zone Orange** : √Ä surveiller.
  - üü© **Zone Verte** : Acceptable.

#### 3. Documentation et Strat√©gies de Traitement

Une fois les risques identifi√©s, on les consigne dans un **Registre des Risques** (document vivant du projet) et on d√©cide quoi faire.

Il existe **4 strat√©gies** pour traiter un risque :

1. **L'√âvitement (Refus)** : On change le plan pour supprimer le risque totalement (ex: renoncer √† une techno trop r√©cente).
2. **L'Att√©nuation (R√©duction)** : On baisse la probabilit√© ou l'impact (ex: mettre des backups pour r√©duire l'impact d'une panne). C'est la strat√©gie la plus courante.
3. **Le Transfert (Partage)** : On d√©place le risque sur un tiers (ex: prendre une assurance, sous-traiter).
4. **L'Acceptation** : Le risque est faible ou trop co√ªteux √† traiter. On l'accepte et on assume les cons√©quences s'il survient.

#### 4. La M√©thode EBIOS RM

**EBIOS Risk Manager** est la m√©thode de r√©f√©rence en France (cr√©√©e par l'ANSSI) pour la cybers√©curit√©. Contrairement √† une analyse de risque projet classique (focalis√©e sur le d√©lai/budget), EBIOS se focalise sur la **s√©curit√© de l'information**.

Elle se d√©roule en **5 Ateliers** :

1. **Cadrage & Socle** : Quoi prot√©ger ? Quel est le contexte ? (Le p√©rim√®tre).
2. **Sources de risques** : Qui sont les attaquants ? (Cybercriminels, concurrents, √©tatiques...).
3. **Sc√©narios Strat√©giques** : Comment l'attaquant pourrait atteindre ses objectifs au niveau "haut" ? (ex: compromettre un prestataire).
4. **Sc√©narios Op√©rationnels** : Comment cela se passe techniquement ? (Le chemin d'attaque).
5. **Traitement du risque** : Quelles mesures de s√©curit√© mettre en place ?

**Quand l'utiliser en projet ?**
Pour les projets sensibles, impliquant des donn√©es critiques (RGPD), ou des changements majeurs d'infrastructure. Elle est trop lourde pour des petits projets simples.

üí° **En r√©sum√©**

- **Risque** = √âv√©nement incertain avec impact n√©gatif.
- **Criticit√©** = Probabilit√© √ó Impact.
- **Traitement** = √âviter, Att√©nuer, Transf√©rer ou Accepter.
- **EBIOS RM** = La m√©thode ANSSI pour les risques Cyber (5 ateliers).

[Challenge C103](./challenges/Challenge_C103.md) : Analyser les risques pour notre projet.

> üìö **Ressources** :
>
>

[Retour en haut](#-table-des-mati√®res)

---

### üõ°Ô∏è C104. S√©curit√© et continuit√© d'activit√©

> **Objectif** : Comprendre que la s√©curit√© n'est pas une option √† ajouter √† la fin, mais une fondation ("Security by Design"). Apprendre √† diff√©rencier la continuit√© (ne pas s'arr√™ter) de la reprise (red√©marrer apr√®s la panne) et ma√Ætriser les m√©triques critiques RTO/RPO.

#### 1. La S√©curit√© des Syst√®mes d'Information (SSI)

La s√©curit√© vise √† prot√©ger le patrimoine informationnel de l'entreprise. Elle repose sur le tr√©pied **DIC** (ou CID) :

- **D**isponibilit√© : Le syst√®me doit fonctionner quand on en a besoin.
- **I**nt√©grit√© : Les donn√©es ne doivent pas √™tre modifi√©es par erreur ou malveillance.
- **C**onfidentialit√© : Seules les personnes autoris√©es ont acc√®s aux donn√©es.
- *(On ajoute souvent la **T**ra√ßabilit√© ou Preuve pour savoir "qui a fait quoi").*

**Le M√©canisme du Risque** :
Pour qu'il y ait un probl√®me de s√©curit√©, il faut la rencontre de trois √©l√©ments :

1. Un **Bien** (Asset) : Ce qui a de la valeur (Serveur, Donn√©e client).
2. Une **Vuln√©rabilit√©** (Faille) : Une faiblesse dans le bien (ex: Windows pas √† jour).
3. Une **Menace** (Threat) : Ce qui va exploiter la faille (ex: Virus, Hacker, Incendie).

> **Risque = Menace √ó Vuln√©rabilit√©**

**Les Bonnes Pratiques (D√©fense en profondeur)** :

- **Pr√©vention** : Emp√™cher l'attaque (Pare-feu, Mises √† jour, Moindre privil√®ge).
- **Protection** : Limiter les d√©g√¢ts (Chiffrement, Segmentation r√©seau).
- **D√©tection** : Voir l'attaque (Logs, IDS/IPS, Supervision).
- **R√©cup√©ration** : Revenir √† la normale (Sauvegardes).

#### 2. PCA vs PRA : Quelle diff√©rence ?

Ces deux plans r√©pondent √† la question : *"Que fait-on si le datacenter br√ªle ?"*.

- **PCA (Plan de Continuit√© d'Activit√©)** :
  - **But** : Assurer la survie de l'entreprise **PENDANT** le sinistre.
  - **Principe** : On fonctionne en "mode d√©grad√©" mais on ne s'arr√™te pas.
  - *Exemple* : Bascule automatique sur un serveur de secours, t√©l√©travail si les bureaux sont inaccessibles.

- **PRA (Plan de Reprise d'Activit√©)** :
  - **But** : Red√©marrer l'activit√© informatique **APR√àS** un arr√™t complet.
  - **Principe** : On remonte les infrastructures, on restaure les sauvegardes et on relance les applis.
  - *Exemple* : R√©installer les serveurs apr√®s un crash disque et restaurer la base de donn√©es.

#### 3. Les M√©triques Critiques : RTO & RPO

Ce sont les deux indicateurs que vous devez d√©finir avec le m√©tier (le client) avant de concevoir votre architecture de sauvegarde.

- **RTO (Recovery Time Objective)** : *Dur√©e maximale d'interruption admissible.*
  - Question : "Combien de temps pouvons-nous rester en panne sans couler ?"
  - *Exemple* : RTO = 4h (Le service doit √™tre r√©tabli en 4h max).

- **RPO (Recovery Point Objective)** : *Perte de donn√©es maximale admissible.*
  - Question : "Jusqu'√† quand accepte-t-on de perdre des donn√©es ?"
  - *Exemple* : RPO = 24h (On accepte de perdre le travail de la journ√©e -> Sauvegarde nocturne suffisante). Si RPO = 0, il faut de la r√©plication synchrone temps r√©el.

#### 4. Les Solutions Techniques

Pour respecter le RTO et le RPO, on utilise trois leviers :

- **A. La Redondance (Haute Disponibilit√©)**

  - Pour un **RTO proche de 0** (pas de coupure).
  - **Actif/Actif** (Load Balancing) : Plusieurs serveurs travaillent en m√™me temps. Si l'un tombe, les autres continuent.
  - **Actif/Passif** (Failover) : Un serveur travaille, l'autre dort. Si le premier tombe, le second prend le relais.

- **B. Les Sauvegardes (Backup)**

  - Indispensable contre l'effacement accidentel ou les ransomwares (l√† o√π la redondance ne sert √† rien car elle r√©plique l'erreur !).
  - **R√®gle du 3-2-1** :
    - **3** copies des donn√©es.
    - Sur **2** supports diff√©rents (Disque + Bande/Cloud).
    - Dont **1** copie hors site (en cas d'incendie).

- **C. La Supervision**

  - C'est les yeux de l'admin. Elle permet de passer d'une gestion r√©active ("C'est cass√©") √† proactive ("Le disque va bient√¥t √™tre plein").

üí° **En r√©sum√©**

- **S√©curit√©** = Disponibilit√© + Int√©grit√© + Confidentialit√©.
- **PCA** = On continue (Redondance).
- **PRA** = On repart (Sauvegardes).
- **RTO** = Temps max de panne.
- **RPO** = Perte max de donn√©es.
- **Redondance** ‚â† **Sauvegarde** (Il faut les deux !).

[Challenge C104](./challenges/Challenge_C104.md) : D√©finir un sc√©nario d‚Äôincident majeur et les mesures, proc√©dures, PRA-PCA type.

> üìö **Ressources** :
>
> - [ANSSI : Administration des syst√®mes d'information s√©curis√©s](./ressources/anssi-guide-admin_securisee_si_v3-0.pdf)
> - [ANSSI : Recommandations Relatives √† l'Authentification Multifacteur et aux Mots de Passe](./ressources/anssi-guide-authentification_multifacteur_et_mots_de_passe.pdf)
> - [ANSSI : Gestion de Crise d'Origine Cyber](./ressources/anssi-guide-gestion_crise_cyber.pdf)

[Retour en haut](#-table-des-mati√®res)

---

### üóìÔ∏è Fin Saison C1. Gestion de projet

[QCM Saison C1](https://forms.gle/ALNseRSKAtYWzt477)

![R√©sultat QCM](/images/2026-02-13-11-57-38.png)

[Retour en haut](#-table-des-mati√®res)

---

## **‚òÅÔ∏è Saison C2. Cloud**

> **Le Contexte** : Le Cloud Computing n'est pas juste "l'ordinateur de quelqu'un d'autre". C'est un changement de paradigme o√π l'informatique devient un service consomm√© √† la demande, et non plus un investissement mat√©riel lourd.

### ‚òÅÔ∏è C201. Introduction au Cloud Computing

> **Objectif** : Comprendre la d√©finition officielle du Cloud (NIST), distinguer les diff√©rents mod√®les de service (IaaS/PaaS/SaaS) et saisir les enjeux juridiques comme la r√©versibilit√©.

#### 1. Qu'est-ce que le Cloud ? (D√©finition NIST)

Pour √™tre qualifi√© de "Cloud", un service doit respecter **5 caract√©ristiques essentielles**:

1. **Service √† la demande (Self-service)** : L'utilisateur provisionne ses ressources (serveur, stockage) seul, automatiquement, sans interaction humaine avec le fournisseur.

2. **Acc√®s r√©seau universel** : Accessible partout (internet) via des m√©canismes standards (PC, mobile, tablette).

3. **Mutualisation des ressources** : Les ressources physiques du fournisseur sont partag√©es entre plusieurs clients (Multi-tenant) pour optimiser les co√ªts.

4. **√âlasticit√© rapide** : Capacit√© √† augmenter ou r√©duire les ressources instantan√©ment selon la charge (Scalabilit√©).

5. **Service mesur√© (Pay-as-you-go)** : On ne paie que ce que l'on consomme (compteur).

#### 2. Les Mod√®les de Service (IaaS, PaaS, SaaS)

Ici la diff√©rence r√©side dans **"Qui g√®re quoi ?"** (Nous vs le Fournisseur).

- **On-Premises (Sur site)** : On g√®re tout, du c√¢ble r√©seau √† l'application.

- **IaaS (Infrastructure as a Service)** : Le fournisseur g√®re le mat√©riel et la virtualisation. On g√®re l'OS et les applications (ex: AWS EC2).

- **PaaS (Platform as a Service)** : Le fournisseur g√®re jusqu'au Runtime (OS, Mises √† jour). On ne g√®re que notre code/application et nos donn√©es (ex: Google App Engine).

- **SaaS (Software as a Service)** : Le fournisseur g√®re tout. On n'est qu'utilisateur du logiciel (ex: Gmail, Office 365, Salesforce).

üìä **Tableau Comparatif & Responsabilit√©s**

| Couche Technique | üè¢ On-Premises | üèóÔ∏è IaaS | üõ†Ô∏è PaaS | ‚òÅÔ∏è SaaS |
| --- | --- | --- | --- | --- |
| **Applications** | üë§ Nous | üë§ Nous | üë§ Nous | ‚òÅÔ∏è Le Provider |
| **Donn√©es** | üë§ Nous | üë§ Nous | üë§ Nous | ‚òÅÔ∏è Le Provider |
| **Runtime / Middleware** | üë§ Nous | üë§ Nous | ‚òÅÔ∏è Le Provider | ‚òÅÔ∏è Le Provider |
| **O.S. (Windows/Linux)** | üë§ Nous | üë§ Nous | ‚òÅÔ∏è Le Provider | ‚òÅÔ∏è Le Provider |
| **Virtualisation** | üë§ Nous | ‚òÅÔ∏è Le Provider | ‚òÅÔ∏è Le Provider | ‚òÅÔ∏è Le Provider |
| **Serveurs / Stockage** | üë§ Nous | ‚òÅÔ∏è Le Provider | ‚òÅÔ∏è Le Provider | ‚òÅÔ∏è Le Provider |
| **R√©seau Physique** | üë§ Nous | ‚òÅÔ∏è Le Provider | ‚òÅÔ∏è Le Provider | ‚òÅÔ∏è Le Provider |
| **Exemple** | Nos serveurs | Amazon EC2 | Azure App Service | Microsoft 365 |

> **R√®gle cl√©** : Plus on va vers le SaaS, moins on a de contr√¥le technique, et moins on a de gestion √† faire (Mises √† jour, Backups syst√®me, etc.).

#### 3. Mod√®les de D√©ploiement

O√π se trouve le Cloud ?

- **Public** : Ouvert √† tous, infrastructure partag√©e (AWS, Azure, Google).

- **Priv√©** : Infrastructure d√©di√©e √† une seule organisation (plus s√©curis√© mais plus cher).

- **Hybride** : M√©lange des deux (ex: Donn√©es sensibles en Priv√©, Serveur Web en Public).

#### 4. Enjeux Juridiques & Contractuels

Le Cloud, c'est aussi du contrat.

- **SLA (Service Level Agreement)** : C'est l'engagement de disponibilit√© du fournisseur (ex: 99,9%). S'il n'est pas tenu, le fournisseur doit des p√©nalit√©s.

- **R√©versibilit√©** : C'est la capacit√© √† r√©cup√©rer ses donn√©es pour changer de fournisseur. C'est crucial pour √©viter le **Vendor Lock-in** (√™tre prisonnier d'un fournisseur).

- **Localisation des donn√©es** : Savoir o√π sont physiquement stock√©es les donn√©es (RGPD, Patriot Act).

üí° **En r√©sum√©**

- **Cloud** = 5 caract√©ristiques NIST (Self-service, √âlasticit√©...).
- **IaaS** = Je g√®re l'OS et l'App (Admin Sys).
- **PaaS** = Je g√®re juste l'App (D√©veloppeur).
- **SaaS** = Je consomme le service (Utilisateur).
- **Responsabilit√© Partag√©e** : La s√©curit√© du Cloud est g√©r√©e par le provider, la s√©curit√© *dans* le Cloud est g√©r√©e par le client.

[Challenge C201](./challenges/Challenge_C201.md) : Exp√©rimenter les versions gratuites de Google Cloud, AWS et Azure.

> üìö **Ressources** :
>

[Retour en haut](#-table-des-mati√®res)

---

### üöÄ C202. Les Fournisseurs Cloud (Providers)

> **Objectif** : Savoir naviguer dans l'offre pl√©thorique du march√©. On distingue deux mondes : les "Big 3" am√©ricains (leaders mondiaux, innovation maximale mais soumis au Cloud Act) et les acteurs Europ√©ens (Souverainet√©, simplicit√© et tarifs pr√©dictibles).

#### 1. Les "Big 3" (Les G√©ants Am√©ricains)

Ils dominent le march√© mondial (~62% √† eux trois). Ils offrent une profondeur de service in√©gal√©e (IaaS, PaaS, SaaS, IA, IoT...) mais sont soumis au droit am√©ricain (**Cloud Act**), ce qui peut poser probl√®me pour certaines donn√©es sensibles.

#### üü† **AWS (Amazon Web Services)**

- **Profil** : Le pionnier (2006) et leader historique (~30% de parts de march√©).
- **Forces** : Catalogue de services immense, maturit√©, √©cosyst√®me mondial.
- **Faiblesses** : Complexit√© (trop d'options), co√ªts difficiles √† ma√Ætriser.
- **Cible** : Startups (Tech), grands comptes, besoins g√©n√©ralistes.
- **Services Cl√©s** : EC2 (VM), S3 (Stockage), Lambda (Serverless).

#### üîµ **Microsoft Azure**

- **Profil** : Le challenger n¬∞1 (~20%), tr√®s fort en entreprise.
- **Forces** : Int√©gration parfaite avec l'√©cosyst√®me Microsoft (AD, Office 365, Windows Server). Leader sur le Cloud Hybride.
- **Faiblesses** : Interface parfois lourde, nomenclature complexe.
- **Cible** : Entreprises d√©j√† clientes Microsoft, administration.
- **Services Cl√©s** : Virtual Machines, Azure AD, Azure SQL.

#### üü¢ **GCP (Google Cloud Platform)**

- **Profil** : L'outsider technologique (~12%).
- **Forces** : Excellence en **Data**, **IA/ML** et Conteneurs (cr√©ateurs de Kubernetes). R√©seau mondial ultra-rapide (fibre Google).
- **Faiblesses** : Moins de services "entreprise" classique, support parfois critiqu√©.
- **Cible** : Data Scientists, d√©veloppeurs Cloud Native, Big Data.
- **Services Cl√©s** : Compute Engine, BigQuery (Data), GKE (Kubernetes).

#### 2. Les Alternatives Fran√ßaises & Europ√©ennes

Pourquoi choisir l'Europe ? Pour la **Souverainet√© des donn√©es** (RGPD natif, pas de Cloud Act), le support en fran√ßais et souvent un meilleur rapport qualit√©/prix.

#### üíô **OVHcloud**

- **Profil** : Le leader europ√©en, champion industriel.
- **Positionnement** : Prix tr√®s agressifs, souverainet√© (qualifi√© SecNumCloud sur certaines offres), infrastructure mat√©rielle ma√Ætris√©e (refroidissement liquide).
- **Id√©al pour** : PME, Secteur public, h√©bergement web, "Lift & Shift" √©conomique.

#### üíú **Scaleway** (Groupe Iliad/Free)

- **Profil** : Le cloud "qui a du sens", orient√© d√©veloppeurs.
- **Positionnement** : Exp√©rience utilisateur (UX) moderne, innovation (serveurs ARM), √©cosyst√®me complet mais simple.
- **Id√©al pour** : Startups, D√©veloppeurs, environnements multi-cloud.

#### ‚ù§Ô∏è **Clever Cloud**

- **Profil** : Le sp√©cialiste du **PaaS** ("Platform as a Service").
- **Positionnement** : "IT Automation". Vous poussez le code, ils g√®rent tout (Run, Scalabilit√©, Maintien en condition op√©rationnelle). Pas de serveurs √† g√©rer.
- **Id√©al pour** : √âquipes de dev qui ne veulent pas faire d'Ops.

#### 3. Tarification : Le Choc des Mod√®les

C'est un crit√®re de choix majeur. La philosophie de facturation est radicalement diff√©rente.

| Crit√®re | üá∫üá∏ Mod√®le US (Big 3) | üá™üá∫ Mod√®le EU (OVH, Scaleway...) |
| --- | --- | --- |
| **Philosophie** | **Pay-as-you-go** pur (√† la seconde) | **Pr√©dictible** / Forfaitaire |
| **Facturation** | Complexe (CPU + RAM + Disque + IP + ...) | Simple (Pack mensuel ou horaire capp√©) |
| **Trafic R√©seau** | üí∏ **Payant** (Egress fees souvent chers) | ‚úÖ **Souvent inclus** (Illimit√©) |
| **Surprise** | Risque de facture √©lev√©e si mal g√©r√© | Faible risque (plafond mensuel) |
| **Engagement** | Instances r√©serv√©es (1-3 ans) pour r√©duire le prix | Prix bas sans engagement souvent disponible |
| **Co√ªts cach√©s** | Appels API, IOPS disque, IP statiques... | Rares |

üí° **En r√©sum√©**

- **Besoin de puissance/Services avanc√©s (IA, Big Data)** ‚û°Ô∏è **Big 3** (AWS/Azure/GCP).
- **Besoin de Conformit√© (Sant√©, √âtat) ou Budget serr√©** ‚û°Ô∏è **Providers FR** (OVH, Scaleway).
- **Azure** est le roi de l'hybride et des entreprises Microsoft.
- **AWS** est le standard du march√©.
- **Tarification** : Attention aux co√ªts de **trafic sortant** (Egress) chez les Am√©ricains, souvent gratuits chez les Europ√©ens.

[Challenge C202](./challenges/Challenge_C202.md) : Proposition d'une strat√©gie cloud simple, coh√©rente et r√©aliste pour une PME.

> üìö **Ressources** :
>
> - Comparaison des services Google Cloud, AWS, Azure : <https://docs.cloud.google.com/docs/get-started/aws-azure-gcp-service-comparison?hl=fr>

[Retour en haut](#-table-des-mati√®res)

---

### ü§ù C203. Administration des Suites Collaboratives

> **Objectif** : Une suite collaborative est le c≈ìur du travail en entreprise (Mail, Fichiers, Visio, Bureautique). Ce cours compare les trois approches dominantes du march√© pour savoir laquelle choisir selon le contexte : le standard Microsoft, le challenger Google, ou l'alternative souveraine Nextcloud.

#### 1. Qu'est-ce qu'une suite collaborative ?

C'est un "pack" d'outils Cloud unifi√© permettant de travailler ensemble. Elle regroupe g√©n√©ralement 5 piliers :

1. **Email & Calendrier** (ex: Outlook, Gmail).
2. **Stockage & Partage** (ex: OneDrive, Drive).
3. **Bureautique** (Traitement de texte, Tableur).
4. **Communication** (Chat, Visio).
5. **Gestion des identit√©s** (Annuaire centralis√©).

Il existe trois grandes philosophies sur le march√© : le **SaaS Propri√©taire** (Microsoft, Google) et l'**Open-Source Auto-h√©berg√©** (Nextcloud).

#### 2. Microsoft 365 (L'Omnipr√©sent)

C'est la suite "Entreprise" par excellence, con√ßue pour s'int√©grer dans un √©cosyst√®me Windows existant.

- **Services Cl√©s** :
  - **Exchange Online** : Le standard de l'email pro.
  - **Teams** : Le hub de communication (Chat + Visio).
  - **SharePoint / OneDrive** : Gestion documentaire et stockage.
  - **Entra ID (ex-Azure AD)** : La gestion des identit√©s et acc√®s.

- **Philosophie** : **Hybride**. On travaille aussi bien sur le Web que sur des applications lourdes install√©es sur le PC (Word, Excel).

- **Forces** : Puissance fonctionnelle in√©gal√©e, gestion de parc (Intune), adoption massive.

- **Faiblesses** : Usine √† gaz (complexe √† administrer), co√ªt √©lev√©, d√©pendance √† Windows.

---

#### 3. Google Workspace (Le "Cloud Native")

C'est le pionnier du 100% Web. Tout se passe dans le navigateur.

- **Services Cl√©s** :
  - **Gmail** : Email.
  - **Drive** : Stockage.
  - **Meet** : Visio.
  - **Docs / Sheets / Slides** : Bureautique collaborative.

- **Philosophie** : **Web First**. La collaboration en temps r√©el est prioritaire sur la mise en page complexe.

- **Forces** : Simplicit√© extr√™me, collaboration fluide (plusieurs curseurs en m√™me temps), administration l√©g√®re.

- **Faiblesses** : Pas d'applis de bureau, probl√®mes de compatibilit√© avec les fichiers Office complexes, gestion moins fine que Microsoft.

#### 4. Nextcloud (L'Alternative Souveraine)

C'est la solution Open-Source pour ceux qui veulent garder le contr√¥le total de leurs donn√©es.

- **Services Cl√©s (Nextcloud Hub)** :
  - **Files** : Stockage et partage.
  - **Talk** : Chat et Visio.
  - **Office** : Int√©gration avec OnlyOffice ou Collabora pour l'√©dition.

- **Philosophie** : **Contr√¥le & Modularit√©**. C'est vous qui l'h√©bergez (On-Premise) ou chez un h√©bergeur de confiance.

- **Forces** : **Souverainet√© des donn√©es** (RGPD), pas de licence (gratuit si auto-g√©r√©), personnalisable.

- **Faiblesses** : Demande des comp√©tences techniques (maintenance serveur, mises √† jour, backup), exp√©rience utilisateur un peu moins fluide que les GAFAM.

#### 5. Tableau Comparatif & Choix

Voici les crit√®res pour trancher entre les trois:

| Aspect | üü¶ Microsoft 365 | üü•üü®üü© Google Workspace | üü¶ Nextcloud |
| --- | --- | --- | --- |
| **Mod√®le** | SaaS Propri√©taire | SaaS Propri√©taire | Open-Source / Auto-h√©berg√© |
| **Bureautique** | Desktop + Web (Puissant) | 100% Web (Fluide) | Web (via int√©gration) |
| **Collaboration** | Tr√®s bonne | Excellente (R√©el) | Bonne |
| **Admin** | Complexe (Expert requis) | Simple | Technique (SysAdmin requis) |
| **Souverainet√©** | Faible (Cloud Act) | Faible (Cloud Act) | **Forte** (Vos donn√©es) |

**Guide de Choix Rapide**:

- Vous avez d√©j√† un parc Windows et besoin d'Excel avanc√© ? üëâ **Microsoft 365**.
- Vous √™tes une startup, une √©cole ou voulez aller vite sans g√©rer d'IT ? üëâ **Google Workspace**.
- Vous g√©rez des donn√©es sensibles (Sant√©, √âtat) ou refusez le Cloud Act ? üëâ **Nextcloud**.

[Atelier C203](./challenges/Challenge_C203.md) : D√©ploiement de Nextcloud

> üìö **Ressources** :
>

[Retour en haut](#-table-des-mati√®res)

---

### üü• C204. OpenStack : Le Cloud Priv√©

> **Objectif** : Et si vous ne vouliez pas confier vos donn√©es √† AWS ou Microsoft ? OpenStack est la solution open-source de r√©f√©rence pour transformer vos propres serveurs physiques en une v√©ritable infrastructure Cloud (IaaS). C'est le "Faites-le vous-m√™me" du Cloud Computing.

#### 1. Qu'est-ce qu'OpenStack ?

Cr√©√© en 2010 par Rackspace et la NASA, OpenStack est un ensemble de logiciels open-source permettant de d√©ployer et g√©rer des clouds priv√©s (et publics).

- **L'analogie parfaite** : Si AWS/Azure est comme un *iPhone* (cl√© en main, √©cosyst√®me ferm√©, facile mais verrouill√©), OpenStack est comme *Android* (open-source, hautement personnalisable, mais demande plus de ma√Ætrise).
- **Cas d'usage** : Id√©al pour les grandes entreprises (t√©l√©coms, banques, recherche comme le CERN) ou les fournisseurs de Cloud europ√©ens (OVHcloud) qui exigent une souverainet√© totale et un contr√¥le absolu de leurs donn√©es.

#### 2. OpenStack vs Cloud Public (AWS/Azure)

Pourquoi s'emb√™ter √† cr√©er son propre Cloud ? Le choix d√©pend de vos priorit√©s (contr√¥le vs agilit√©).

| Crit√®re | ‚òÅÔ∏è Cloud Public (AWS, Azure) | üü• Cloud Priv√© (OpenStack) |
| --- | --- | --- |
| **Investissement initial** | Aucun (Pay-as-you-go) | **√âlev√©** (Achat des serveurs physiques) |
| **Co√ªt mensuel** | Variable (selon l'usage) | **Fixe** (Amortissement du mat√©riel) |
| **Contr√¥le & Souverainet√©** | Limit√© (Cloud Act, bo√Æte noire) | **Total** (Vous ma√Ætrisez l'infra de A √† Z) |
| **Scalabilit√©** | Quasi infinie et imm√©diate | Limit√©e √† votre parc mat√©riel |
| **Mise sur le march√©** | Imm√©diate | Plusieurs mois (Conception/Installation) |

#### 3. Les Services Propos√©s (L'Architecture Modulaire)

OpenStack n'est pas un bloc monolithique, c'est un assemblage d'une trentaine de projets ind√©pendants. On installe uniquement ce dont on a besoin.

- **Les Services "Core" (Les Fondations Obligatoires)**

  - **Keystone** (Identit√©) : Le vigile. Il g√®re l'authentification, les permissions (r√¥les) et le catalogue de tous les autres services.
  - **Nova** (Compute) : Le moteur. Il provisionne et g√®re les machines virtuelles (VMs).
  - **Neutron** (R√©seau) : Le routeur. Il g√®re le r√©seau virtuel (SDN), les adresses IP, les pare-feux.
  - **Glance** (Images) : La biblioth√®que. Il stocke les images des syst√®mes d'exploitation (Ubuntu, Windows) pour d√©marrer les VMs.

- **Les Services "Standards" (Tr√®s Courants)**

  - **Cinder** (Block Storage) : Fournit des disques durs virtuels persistants √† attacher aux VMs.
  - **Swift** (Object Storage) : Stockage de fichiers en vrac (API REST, id√©al pour les backups).
  - **Horizon** (Dashboard) : L'interface graphique Web pour l'administrateur et les utilisateurs.

- **L'√âquivalence avec AWS**
Pour bien comprendre, voici le parall√®le avec le leader du march√© :

  - *Nova* = EC2 (VMs)
  - *Swift* = S3 (Stockage objet)
  - *Cinder* = EBS (Disques virtuels)
  - *Keystone* = IAM (Identit√©s)

> ‚ö†Ô∏è **Limites** : OpenStack est un pur outil **IaaS**. Il ne fait pas de *Serverless* natif ni de services manag√©s de haut niveau (comme le Machine Learning cl√© en main). Pour cela, on installe g√©n√©ralement un cluster Kubernetes par-dessus l'infrastructure OpenStack.

#### 4. Installation et Configuration

Installer OpenStack n'est pas un projet du dimanche.

- **Complexit√©** : La configuration est tr√®s complexe car il faut faire communiquer tous les modules (Nova, Neutron, Keystone...) entre eux de mani√®re s√©curis√©e et r√©siliente.
- **Comp√©tences** : Cela n√©cessite des √©quipes tr√®s matures avec des comp√©tences rares combinant syst√®me (Linux), r√©seau avanc√©, et automatisation.

üí° **En r√©sum√©**

- **OpenStack** = La r√©f√©rence Open-Source pour construire un Cloud Priv√© **IaaS**.
- **Souverainet√© & Co√ªts** : Parfait pour s'affranchir des g√©ants am√©ricains (pas de lock-in) et lisser ses co√ªts sur le long terme.
- **Modulaire** : Apprenez par c≈ìur les 4 piliers "Core" : **Keystone** (Auth), **Nova** (Serveur), **Neutron** (R√©seau), **Glance** (Images OS).

[Atelier C204](./challenges/Challenge_C204.md) : D√©ploiement d'OpenStack

> üìö **Ressources** :
>
> - Documentation officielle : <https://docs.openstack.org/devstack/latest/>

[Retour en haut](#-table-des-mati√®res)

---

### ‚òÅÔ∏è Fin Saison C2. Cloud

[QCM Saison C2](https://docs.google.com/forms/d/e/1FAIpQLSdt_Z4ciquREQGyfdxNK4fveMb0Bl-Suz3_q2ww0YlW6GbJFw/viewform?pli=1)

![R√©sultat QCM](/images/2026-02-20-11-54-02.png)

[Retour en haut](#-table-des-mati√®res)

---

## **üõ°Ô∏è Saison C3. S√©curit√© syst√®me & r√©seau**

> **Objectif de la saison** : Passer du principe "√ßa marche" au principe "c'est s√©curis√©". Jusqu'ici, on a construit les murs et pos√© les portes de l'infrastructure. Maintenant, on va installer les serrures, v√©rifier qui poss√®de les cl√©s et surveiller ce qui se passe.

### üõ°Ô∏è C301. Introduction : Gouvernance, Outils & Bases R√©seau

> **Objectif du cours** : Poser le cadre. La s√©curit√© n'est pas qu'une affaire de configurations techniques ; c'est d'abord une question de r√®gles (gouvernance), de surveillance (SOC/SIEM) et de ma√Ætrise des vuln√©rabilit√©s locales (Niveau 2).

#### 1. Gouvernance et Normes : Le plan de l'architecte

La s√©curit√© technique sans cadre revient √† s√©curiser au hasard, sans savoir "jusqu'o√π" aller ni pouvoir justifier ses choix.

- **Le r√¥le de la gouvernance** : C'est ce qui donne la direction. Elle permet de d√©finir *qui* d√©cide, *quoi* prot√©ger en priorit√© et *comment* on v√©rifie que c'est efficace.
- **La traduction sur le terrain** : C'est gr√¢ce √† la gouvernance qu'un professionnel des r√©seaux peut justifier la cr√©ation d'une r√®gle stricte de pare-feu, prioriser le d√©ploiement de patchs ou structurer un plan d'action pr√©cis.
- **Les normes de r√©f√©rence** :
  - *ISO 27001* : Le standard international pour le management de la s√©curit√© de l'information.
  - *PCI DSS* : Standard pour la protection des donn√©es bancaires.
  - *RGPD / HIPAA* : Protection des donn√©es personnelles et de sant√©.

#### 2. L'√âcosyst√®me de D√©fense (Vocabulaire et Acronymes)

En cybers√©curit√©, on part du principe qu'un incident finira par arriver : la question n'est pas "si", mais "quand". Il faut donc d√©tecter vite et r√©agir proprement.

- **SOC (Security Operations Center)** : C'est l'√©quipe de surveillance (les "gardiens"), humaine et technique, qui analyse les alertes 24/7.
- **SIEM (Security Information and Event Management)** : Le "cerveau" central. C'est l'outil qui collecte, centralise et analyse tous les logs (des routeurs, switchs, serveurs) pour d√©tecter des anomalies de comportement.
- **CTI (Cyber Threat Intelligence)** : Le renseignement sur les menaces. Permet de conna√Ætre les techniques des attaquants pour mieux param√©trer les d√©fenses.
- **EDR / XDR (Endpoint / Extended Detection and Response)** : Des agents de s√©curit√© tr√®s avanc√©s (bien plus que de simples antivirus) qui surveillent les comportements suspects sur les machines (EDR) et sur l'ensemble du r√©seau/cloud (XDR).

#### 3. Les Attaques R√©seau de Niveau 2 (Couche Liaison)

C'est le c≈ìur du champ de bataille pour l'infrastructure locale. S√©curiser les √©quipements de c≈ìur de r√©seau est primordial pour √©viter ces compromissions.

- **ARP Spoofing / Poisoning (Empoisonnement ARP)** :
  - *Le principe* : L'attaquant envoie de faux messages ARP sur le r√©seau local pour associer son adresse MAC √† l'adresse IP d'un autre √©quipement l√©gitime (tr√®s souvent la passerelle par d√©faut/le routeur).
  - *L'impact* : Le trafic de la victime est redirig√© vers l'attaquant, permettant une attaque de type de l'Homme du Milieu (Man-in-the-Middle) pour intercepter, modifier ou bloquer les communications.

- **VLAN Hopping (Saut de VLAN)** :
  - *Le principe* : Une technique permettant √† un attaquant de forcer l'envoi de paquets vers un VLAN auquel il ne devrait pas avoir acc√®s.
  - *Les m√©thodes* : Cela se fait souvent en exploitant des ports switch mal configur√©s (qui n√©gocient automatiquement un lien Trunk via le protocole DTP) ou via l'attaque du *Double-Tagging* (ajout de deux en-t√™tes 802.1Q).

#### üõ†Ô∏è Ressources : Configurations R√©seau

Pour se pr√©munir contre les attaques de Niveau 2 et segmenter proprement le trafic, une configuration stricte des commutateurs et du routage Inter-VLAN (Router-on-a-Stick) est vitale. Voici les commandes issues de la d√©monstration :

- **Configuration du Switch (Cr√©ation VLANs et assignation des ports Access/Trunk)**

```ios
enable
configure terminal

! Cr√©ation des VLANs
vlan 10
 name INFORMATIQUE
 exit

vlan 20
 name COMPTABILITE
 exit

! Configuration des ports d'acc√®s (utilisateurs finaux)
interface range fa0/1-2
 switchport mode access
 switchport access vlan 10
 exit

interface range fa0/3-4
 switchport mode access
 switchport access vlan 20
 exit

! Configuration du port Trunk (vers le routeur ou un autre switch)
interface fa0/24
 switchport mode trunk
 switchport trunk allowed vlan 10,20,30,40,99 

```

- **Configuration du Routeur (Routage Inter-VLAN / Router-on-a-Stick)**

```ios
enable
configure terminal

! Activation de l'interface physique
interface g0/0
 no shutdown

! Configuration des sous-interfaces pour chaque VLAN
interface g0/0.10
 encapsulation dot1Q 10
 ip address 192.168.10.254 255.255.255.0
 exit

interface g0/0.20
 encapsulation dot1Q 20
 ip address 192.168.20.254 255.255.255.0
 exit

! Activation globale du routage IP (si n√©cessaire sur un commutateur L3, "ip routing")
ip routing

```

[Challenge C301](./challenges/Challenge_C301.md) : Segmentation VLAN & Contr√¥le d'acc√®s (ACL)

> üìö **Ressources** :
>
> - Revoir le cours r√©seau A309 : [VLANs, L3 switchs, WiFi & IPv6](#-a309-vlans-l3-switchs-wifi--ipv6)
> - Listes de contr√¥le d'acc√®s : <https://www.it-connect.fr/les-listes-de-controle-dacces-acl-avec-cisco/>

[Retour en haut](#-table-des-mati√®res)

---

### üîë C302. Contr√¥le d'acc√®s et S√©curit√© Sans-Fil (ACL, NAC, WiFi)

> **Objectif** : S√©curiser les acc√®s au r√©seau, qu'ils soient filaires ou sans-fil. On apprend ici √† filtrer le trafic (ACL), √† authentifier les machines avant de les laisser entrer sur le r√©seau (802.1x / RADIUS) et √† ma√Ætriser l'√©volution des chiffrements Wi-Fi.

#### 1. Le Filtrage R√©seau : Les ACL (Access Control Lists)

Les ACL sont la premi√®re ligne de d√©fense sur un routeur ou un switch de niveau 3. Elles filtrent le trafic entrant ou sortant selon des r√®gles d√©finies.

- **ACL Standards** : Elles filtrent uniquement en fonction de l'**adresse IP source**. Elles sont simples mais peu pr√©cises (g√©n√©ralement plac√©es le plus pr√®s possible de la destination).
- **ACL √âtendues** : Elles filtrent en fonction de l'**IP source, l'IP de destination, le protocole (TCP/UDP) et le num√©ro de port**. Elles permettent un contr√¥le granulaire (g√©n√©ralement plac√©es le plus pr√®s possible de la source).

Une ACL est une s√©rie de r√®gles permettant de **filtrer le trafic** r√©seau en fonction de crit√®res pr√©cis. Elles sont lues de haut en bas, et la premi√®re r√®gle correspondante est appliqu√©e.

- **Les 3 R√®gles d'Or des ACL**

  - **Le "Deny Any" implicite :** √Ä la fin de chaque ACL, il existe une r√®gle invisible qui bloque tout ce qui n'a pas √©t√© explicitement autoris√©.
  - **L'ordre est crucial :** Les r√®gles les plus sp√©cifiques (ex: autoriser un h√¥te pr√©cis) doivent √™tre plac√©es **avant** les r√®gles g√©n√©rales (ex: bloquer un r√©seau entier).
  - **Un par interface, un par sens, un par protocole :** On ne peut appliquer qu'une seule ACL par interface, par direction (IN ou OUT) et par protocole (IPv4/IPv6).

- **Comparaison : Standard vs √âtendu**e

  | Caract√©ristique | ACL Standard | ACL √âtendue |
  | --- | --- | --- |
  | **Plage de num√©ros** | 1 √† 99 | 100 √† 199 |
  | **Crit√®re de filtrage** | Adresse **Source** uniquement | Source, **Destination**, Protocole (IP, TCP, UDP, ICMP) et Port |
  | **Usage typique** | Limitation des acc√®s administratifs (VTY) | Filtrage pr√©cis entre les VLANs ou vers Internet |
  | **Positionnement** | Au plus proche de la **destination** | Au plus proche de la **source** |

- **Syntaxe et Logique des Commandes**

  -Le Masque G√©n√©rique (Wildcard Mask)

  C'est l'inverse du masque de sous-r√©seau. Pour un /24 (255.255.255.0), le wildcard est **0.0.0.255**.

  - `0` = Le bit doit correspondre exactement.
  - `255` = On ignore la valeur du bit.

  -Exemples de commandes

  - **Standard :** `access-list 10 permit 192.168.10.0 0.0.0.255`
  - **√âtendue :** `access-list 110 permit tcp 192.168.10.0 0.0.0.255 host 192.168.99.10 eq 80`

- **M√©thodologie d'application (IN vs OUT)**

  L'application se fait toujours par rapport au **c≈ìur du routeur** :

  - **IN (Entr√©e) :** Le trafic arrive du r√©seau, "frappe" l'interface et le routeur l'analyse **avant** de d√©cider de le router. C'est le plus efficace pour √©conomiser les ressources du routeur.
  - **OUT (Sortie) :** Le trafic a d√©j√† √©t√© rout√© et s'appr√™te √† sortir de l'interface vers le r√©seau de destination.

- **Commandes de v√©rification indispensables**

  - `show access-lists` : Affiche les r√®gles et le nombre de paquets ayant match√© chaque ligne.
  - `show ip interface <nom>` : Permet de voir quelle ACL est appliqu√©e sur une interface sp√©cifique.
  - `clear access-list counters` : Remet les compteurs de "matches" √† z√©ro (utile pour de nouveaux tests).
  
#### 2. NAC et 802.1x : Le Contr√¥le d'Acc√®s R√©seau

Le **NAC (Network Access Control)** est une approche globale pour s√©curiser l'acc√®s au r√©seau. Le protocole phare pour cela est le **802.1x**.

- **Principe du 802.1x** : Un appareil (PC) se branche sur une prise r√©seau (Switch). Le port du switch reste bloqu√© tant que l'utilisateur ou la machine ne s'est pas authentifi√© avec succ√®s.
- **Les 3 acteurs du 802.1x** :

  1. **Le Supplicant** : Le client (le PC) qui demande l'acc√®s.
  2. **L'Authenticator** : Le Switch (ou la borne Wi-Fi) qui bloque le port et relaye la demande.
  3. **Le Serveur d'Authentification (RADIUS)** : Le serveur qui v√©rifie les identifiants (souvent en interrogeant un annuaire comme **LDAP** ou Active Directory) et donne le feu vert au Switch.

#### 3. S√©curit√© Wi-Fi : Du WEP au WPA3

Les r√©seaux sans-fil sont particuli√®rement vuln√©rables car les ondes traversent les murs. Une mauvaise s√©curit√© peut entra√Æner des intrusions, des vols de donn√©es ou le piratage d'appareils.

- **Le Cadre L√©gal** : Attention, l'interception de communications et l'acc√®s frauduleux √† un syst√®me sont des d√©lits p√©naux (Article 323-1 en France : jusqu'√† 2 ans de prison et 60 000‚Ç¨ d'amende). La d√©mo en labo n'est pas une autorisation r√©elle.
- **L'√©volution des protocoles** :
  - **WEP et WPA1** : Obsol√®tes et vuln√©rables, √† fuir absolument.
  - **WPA2** : Reste une base tr√®s solide s'il est bien configur√© (avec un mot de passe fort).
  - **WPA3** : La derni√®re √©volution logique. Il prot√®ge beaucoup mieux contre les attaques par force brute (brute-force) et am√©liore le chiffrement sur les r√©seaux publics.

- **Personal vs Enterprise** :
  - *Personal (PSK)* : Utilise un mot de passe partag√©. Id√©al pour les petits r√©seaux (WPA2/WPA3 Personal).
  - *Enterprise (802.1x/RADIUS)* : Chaque utilisateur a ses propres identifiants. Indispensable en PME/Entreprise (WPA2/WPA3 Enterprise).

#### üõ†Ô∏è Ressources & D√©mos Techniques

Quelques configurations et commandes pour mettre en pratique ces concepts.

##### Installation d'un Annuaire LDAP (Base pour l'authentification)

L'annuaire LDAP va stocker nos utilisateurs.

```bash
sudo apt update
sudo apt install slapd ldap-utils -y
sudo dpkg-reconfigure slapd # Configurer le domaine (ex: example.com), MDB, mot de passe admin

# Cr√©ation d'une Unit√© Organisationnelle (OU)
nano base_users.ldif
dn: ou=users,dc=example,dc=com
objectClass: organizationalUnit
ou: users

sudo ldapadd -x -D cn=admin,dc=example,dc=com -W -f base_users.ldif

```

##### Configuration 802.1x / RADIUS (Cisco)

Le Switch (192.168.1.1) interroge le serveur RADIUS (192.168.1.2) pour authentifier les PC.

```ios
hostname SW1
aaa new-model
radius-server host 192.168.1.2 auth-port 1645 key password
aaa authentication dot1x default group radius 
dot1x system-auth-control

! Configuration d'un port d'acc√®s authentifi√©
interface FastEthernet0/1
 description PC-1
 switchport mode access
 authentication port-control auto
 dot1x pae authenticator

```

##### D√©mo : Attaque sur un r√©seau Wi-Fi WEP

L'objectif est d'√©couter le trafic (sniffing) pour capturer les paquets et casser la cl√© avec la suite `aircrack-ng`.

```bash
# 1. Passer la carte Wi-Fi en mode √©coute (Monitor)
ifconfig wlx002401a26b93 down
iwconfig wlx002401a26b93 mode monitor
ifconfig wlx002401a26b93 up

# 2. Scanner les r√©seaux WEP environnants
airodump-ng --encrypt wep wlx002401a26b93

# 3. Cibler un r√©seau pr√©cis (BSSID) sur son canal (ex: canal 3) et enregistrer le trafic
airodump-ng -c 3 --bssid A2:63:91:9E:4D:41 -w /root/wep_simple wlx002401a26b93

# 4. Craquer la cl√© WEP √† partir du fichier captur√© (.cap)
aircrack-ng wep_simple-01.cap

# (Variante pour le WPA2 avec un dictionnaire de mots de passe comme rockyou)
aircrack-ng wpa_handshake.cap -w dictionary.txt

```

[Challenge C302](./challenges/Challenge_C302.md) : Authentification r√©seau avec RADIUS et LDAP / AD

> üìö **Ressources** :
>
> - freeRadius documentation : <https://www.freeradius.org/documentation/>

[Retour en haut](#-table-des-mati√®res)

---

### üß± C303. DMZ, pare-feu & VPN

>

[Challenge C303](./challenges/Challenge_C303.md) :

- Mise en place d'une zone DMZ isol√©e avec un serveur web, r√®gles de pare-feu et redirection de port NAT.

- Challenge VPN & Authentification Radius

> üìö **Ressources** :
>
> - DMZ, Pare-feu & NAT avec pfSense sur Proxmox : <https://github.com/O-clock-Aldebaran/SC03E03-DMZ>

[Retour en haut](#-table-des-mati√®res)

---
